/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/IdmsClient.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/oidc-client/lib/oidc-client.min.js":
/*!*********************************************************!*\
  !*** ./node_modules/oidc-client/lib/oidc-client.min.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function webpackUniversalModuleDefinition(e,t){if(true)module.exports=t();else { var i, r; }}(window,function(){return function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(r,i,function(t){return e[t]}.bind(null,i));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=45)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var n={debug:function debug(){},info:function info(){},warn:function warn(){},error:function error(){}},o=void 0,s=void 0;(t.Log=function(){function Log(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Log)}return Log.reset=function reset(){s=3,o=n},Log.debug=function debug(){if(s>=4){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.debug.apply(o,Array.from(t))}},Log.info=function info(){if(s>=3){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.info.apply(o,Array.from(t))}},Log.warn=function warn(){if(s>=2){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.warn.apply(o,Array.from(t))}},Log.error=function error(){if(s>=1){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.error.apply(o,Array.from(t))}},i(Log,null,[{key:"NONE",get:function get(){return 0}},{key:"ERROR",get:function get(){return 1}},{key:"WARN",get:function get(){return 2}},{key:"INFO",get:function get(){return 3}},{key:"DEBUG",get:function get(){return 4}},{key:"level",get:function get(){return s},set:function set(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");s=e}},{key:"logger",get:function get(){return o},set:function set(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),Log}()).reset()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var n={setInterval:function(e){function setInterval(t,r){return e.apply(this,arguments)}return setInterval.toString=function(){return e.toString()},setInterval}(function(e,t){return setInterval(e,t)}),clearInterval:function(e){function clearInterval(t){return e.apply(this,arguments)}return clearInterval.toString=function(){return e.toString()},clearInterval}(function(e){return clearInterval(e)})},o=!1,s=null;t.Global=function(){function Global(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Global)}return Global._testing=function _testing(){o=!0},Global.setXMLHttpRequest=function setXMLHttpRequest(e){s=e},i(Global,null,[{key:"location",get:function get(){if(!o)return location}},{key:"localStorage",get:function get(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function get(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function get(){if(!o&&"undefined"!=typeof window)return s||XMLHttpRequest}},{key:"timer",get:function get(){if(!o)return n}}]),Global}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var i=r(0),n=r(1);t.UrlUtility=function(){function UrlUtility(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UrlUtility)}return UrlUtility.addQueryParam=function addQueryParam(e,t,r){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),e+="=",e+=encodeURIComponent(r)},UrlUtility.parseUrlFragment=function parseUrlFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.Global;"string"!=typeof e&&(e=r.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1));for(var s,a={},u=/([^&=]+)=([^&]*)/g,c=0;s=u.exec(e);)if(a[decodeURIComponent(s[1])]=decodeURIComponent(s[2]),c++>50)return i.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var h in a)return a;return{}},UrlUtility}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=r(17);t.MetadataService=function(){function MetadataService(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MetadataService),!e)throw n.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=e,this._jsonService=new t(["application/jwk-set+json"])}return MetadataService.prototype.getMetadata=function getMetadata(){var e=this;return this._settings.metadata?(n.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(n.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(t){return n.Log.debug("MetadataService.getMetadata: json received"),e._settings.metadata=t,t})):(n.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},MetadataService.prototype.getIssuer=function getIssuer(){return this._getMetadataProperty("issuer")},MetadataService.prototype.getAuthorizationEndpoint=function getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")},MetadataService.prototype.getUserInfoEndpoint=function getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")},MetadataService.prototype.getTokenEndpoint=function getTokenEndpoint(){return this._getMetadataProperty("token_endpoint",!0)},MetadataService.prototype.getCheckSessionIframe=function getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)},MetadataService.prototype.getEndSessionEndpoint=function getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)},MetadataService.prototype.getRevocationEndpoint=function getRevocationEndpoint(){return this._getMetadataProperty("revocation_endpoint",!0)},MetadataService.prototype._getMetadataProperty=function _getMetadataProperty(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then(function(r){if(n.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===r[e]){if(!0===t)return void n.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw n.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return r[e]})},MetadataService.prototype.getSigningKeys=function getSigningKeys(){var e=this;return this._settings.signingKeys?(n.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(t){return n.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then(function(t){if(n.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw n.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys})})},i(MetadataService,[{key:"metadataUrl",get:function get(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration"))),this._metadataUrl}}]),MetadataService}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(14));t.State=function(){function State(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.data,i=e.created;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,State),this._id=t||(0,o.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3)}return State.prototype.toStorageString=function toStorageString(){return n.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created})},State.fromStorageString=function fromStorageString(e){return n.Log.debug("State.fromStorageString"),new State(JSON.parse(e))},State.clearStaleState=function clearStaleState(e,t){var r=Date.now()/1e3-t;return e.getAllKeys().then(function(t){n.Log.debug("State.clearStaleState: got keys",t);for(var i=[],o=function _loop(o){var s=t[o];a=e.get(s).then(function(t){var i=!1;if(t)try{var o=State.fromStorageString(t);n.Log.debug("State.clearStaleState: got item from key: ",s,o.created),o.created<=r&&(i=!0)}catch(e){n.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),i=!0}else n.Log.debug("State.clearStaleState: no item in storage for key: ",s),i=!0;if(i)return n.Log.debug("State.clearStaleState: removed item for key: ",s),e.remove(s)}),i.push(a)},s=0;s<t.length;s++){var a;o(s)}return n.Log.debug("State.clearStaleState: waiting on promise count:",i.length),Promise.all(i)})},i(State,[{key:"id",get:function get(){return this._id}},{key:"data",get:function get(){return this._data}},{key:"created",get:function get(){return this._created}}]),State}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var i=r(0),n=r(1);t.WebStorageStateStore=function(){function WebStorageStateStore(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefix,r=void 0===t?"oidc.":t,i=e.store,o=void 0===i?n.Global.localStorage:i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebStorageStateStore),this._store=o,this._prefix=r}return WebStorageStateStore.prototype.set=function set(e,t){return i.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},WebStorageStateStore.prototype.get=function get(e){i.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},WebStorageStateStore.prototype.remove=function remove(e){i.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},WebStorageStateStore.prototype.getAllKeys=function getAllKeys(){i.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var r=this._store.key(t);0===r.indexOf(this._prefix)&&e.push(r.substr(this._prefix.length))}return Promise.resolve(e)},WebStorageStateStore}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),s=r(5),a=r(44),u=r(3);var c="id_token",h="openid",l=900,f=300;t.OidcClientSettings=function(){function OidcClientSettings(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.authority,r=e.metadataUrl,n=e.metadata,o=e.signingKeys,g=e.client_id,p=e.client_secret,d=e.response_type,v=void 0===d?c:d,y=e.scope,m=void 0===y?h:y,S=e.redirect_uri,b=e.post_logout_redirect_uri,F=e.prompt,_=e.display,w=e.max_age,E=e.ui_locales,x=e.acr_values,A=e.resource,C=e.filterProtocolClaims,P=void 0===C||C,I=e.loadUserInfo,B=void 0===I||I,k=e.staleStateAge,R=void 0===k?l:k,T=e.clockSkew,U=void 0===T?f:T,D=e.stateStore,M=void 0===D?new s.WebStorageStateStore:D,L=e.ResponseValidatorCtor,N=void 0===L?a.ResponseValidator:L,O=e.MetadataServiceCtor,H=void 0===O?u.MetadataService:O,j=e.extraQueryParams,K=void 0===j?{}:j;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OidcClientSettings),this._authority=t,this._metadataUrl=r,this._metadata=n,this._signingKeys=o,this._client_id=g,this._client_secret=p,this._response_type=v,this._scope=m,this._redirect_uri=S,this._post_logout_redirect_uri=b,this._prompt=F,this._display=_,this._max_age=w,this._ui_locales=E,this._acr_values=x,this._resource=A,this._filterProtocolClaims=!!P,this._loadUserInfo=!!B,this._staleStateAge=R,this._clockSkew=U,this._stateStore=M,this._validator=new N(this),this._metadataService=new H(this),this._extraQueryParams="object"===(void 0===K?"undefined":i(K))?K:{}}return n(OidcClientSettings,[{key:"client_id",get:function get(){return this._client_id},set:function set(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function get(){return this._client_secret}},{key:"response_type",get:function get(){return this._response_type}},{key:"scope",get:function get(){return this._scope}},{key:"redirect_uri",get:function get(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function get(){return this._post_logout_redirect_uri}},{key:"prompt",get:function get(){return this._prompt}},{key:"display",get:function get(){return this._display}},{key:"max_age",get:function get(){return this._max_age}},{key:"ui_locales",get:function get(){return this._ui_locales}},{key:"acr_values",get:function get(){return this._acr_values}},{key:"resource",get:function get(){return this._resource}},{key:"authority",get:function get(){return this._authority},set:function set(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function get(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration")),this._metadataUrl}},{key:"metadata",get:function get(){return this._metadata},set:function set(e){this._metadata=e}},{key:"signingKeys",get:function get(){return this._signingKeys},set:function set(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function get(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function get(){return this._loadUserInfo}},{key:"staleStateAge",get:function get(){return this._staleStateAge}},{key:"clockSkew",get:function get(){return this._clockSkew}},{key:"stateStore",get:function get(){return this._stateStore}},{key:"validator",get:function get(){return this._validator}},{key:"metadataService",get:function get(){return this._metadataService}},{key:"extraQueryParams",get:function get(){return this._extraQueryParams},set:function set(e){"object"===(void 0===e?"undefined":i(e))?this._extraQueryParams=e:this._extraQueryParams={}}}]),OidcClientSettings}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0);var o="location=no,toolbar=no,zoom=no",s="_blank";t.CordovaPopupWindow=function(){function CordovaPopupWindow(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CordovaPopupWindow),this._promise=new Promise(function(e,r){t._resolve=e,t._reject=r}),this.features=e.popupWindowFeatures||o,this.target=e.popupWindowTarget||s,this.redirect_uri=e.startUrl,n.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return CordovaPopupWindow.prototype._isInAppBrowserInstalled=function _isInAppBrowserInstalled(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(t){return e.hasOwnProperty(t)})},CordovaPopupWindow.prototype.navigate=function navigate(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(n.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},CordovaPopupWindow.prototype._loadStartCallback=function _loadStartCallback(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},CordovaPopupWindow.prototype._exitCallback=function _exitCallback(e){this._error(e)},CordovaPopupWindow.prototype._success=function _success(e){this._cleanup(),n.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},CordovaPopupWindow.prototype._error=function _error(e){this._cleanup(),n.Log.error(e),this._reject(new Error(e))},CordovaPopupWindow.prototype.close=function close(){this._cleanup()},CordovaPopupWindow.prototype._cleanup=function _cleanup(){this._popup&&(n.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},i(CordovaPopupWindow,[{key:"promise",get:function get(){return this._promise}}]),CordovaPopupWindow}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var i=r(0),n=r(3),o=r(1);t.TokenRevocationClient=function(){function TokenRevocationClient(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.MetadataService;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TokenRevocationClient),!e)throw i.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=e,this._XMLHttpRequestCtor=t,this._metadataService=new r(this._settings)}return TokenRevocationClient.prototype.revoke=function revoke(e,t){var r=this;if(!e)throw i.Log.error("TokenRevocationClient.revoke: No accessToken provided"),new Error("No accessToken provided.");return this._metadataService.getRevocationEndpoint().then(function(n){if(n){i.Log.error("TokenRevocationClient.revoke: Revoking access token");var o=r._settings.client_id,s=r._settings.client_secret;return r._revoke(n,o,s,e)}if(t)throw i.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},TokenRevocationClient.prototype._revoke=function _revoke(e,t,r,n){var o=this;return new Promise(function(s,a){var u=new o._XMLHttpRequestCtor;u.open("POST",e),u.onload=function(){i.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",u.status),200===u.status?s():a(Error(u.statusText+" ("+u.status+")"))};var c="client_id="+encodeURIComponent(t);r&&(c+="&client_secret="+encodeURIComponent(r)),c+="&token_type_hint="+encodeURIComponent("access_token"),c+="&token="+encodeURIComponent(n),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(c)})},TokenRevocationClient}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var i=r(0);var n=2e3;t.CheckSessionIFrame=function(){function CheckSessionIFrame(e,t,r,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckSessionIFrame),this._callback=e,this._client_id=t,this._url=r,this._interval=i||n,this._stopOnError=o;var s=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,s),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,this._frame.src=r}return CheckSessionIFrame.prototype.load=function load(){var e=this;return new Promise(function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)})},CheckSessionIFrame.prototype._message=function _message(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(i.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(i.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):i.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},CheckSessionIFrame.prototype.start=function start(e){var t=this;if(this._session_state!==e){i.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var r=function send(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};r(),this._timer=window.setInterval(r,this._interval)}},CheckSessionIFrame.prototype.stop=function stop(){this._session_state=null,this._timer&&(i.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},CheckSessionIFrame}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=r(9);t.SessionMonitor=function(){function SessionMonitor(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SessionMonitor),!e)throw n.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=e,this._CheckSessionIFrameCtor=r,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),this._userManager.getUser().then(function(e){e&&t._start(e)}).catch(function(e){n.Log.error("SessionMonitor ctor: error from getUser:",e.message)})}return SessionMonitor.prototype._start=function _start(e){var t=this,r=e.session_state;r&&(this._sub=e.profile.sub,this._sid=e.profile.sid,n.Log.debug("SessionMonitor._start: session_state:",r,", sub:",this._sub),this._checkSessionIFrame?this._checkSessionIFrame.start(r):this._metadataService.getCheckSessionIframe().then(function(e){if(e){n.Log.debug("SessionMonitor._start: Initializing check session iframe");var i=t._client_id,o=t._checkSessionInterval,s=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),i,e,o,s),t._checkSessionIFrame.load().then(function(){t._checkSessionIFrame.start(r)})}else n.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(e){n.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)}))},SessionMonitor.prototype._stop=function _stop(){this._sub=null,this._sid=null,this._checkSessionIFrame&&(n.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop())},SessionMonitor.prototype._callback=function _callback(){var e=this;this._userManager.querySessionStatus().then(function(t){var r=!0;t?t.sub===e._sub?(r=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?n.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(n.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):n.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):n.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),r&&(n.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut())}).catch(function(t){n.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut()})},i(SessionMonitor,[{key:"_settings",get:function get(){return this._userManager.settings}},{key:"_metadataService",get:function get(){return this._userManager.metadataService}},{key:"_client_id",get:function get(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function get(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function get(){return this._settings.stopCheckSessionOnError}}]),SessionMonitor}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var i=r(0);t.Event=function(){function Event(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Event),this._name=e,this._callbacks=[]}return Event.prototype.addHandler=function addHandler(e){this._callbacks.push(e)},Event.prototype.removeHandler=function removeHandler(e){var t=this._callbacks.findIndex(function(t){return t===e});t>=0&&this._callbacks.splice(t,1)},Event.prototype.raise=function raise(){i.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},Event}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var i=r(0),n=r(22);var o=60;t.AccessTokenEvents=function(){function AccessTokenEvents(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accessTokenExpiringNotificationTime,r=void 0===t?o:t,i=e.accessTokenExpiringTimer,s=void 0===i?new n.Timer("Access token expiring"):i,a=e.accessTokenExpiredTimer,u=void 0===a?new n.Timer("Access token expired"):a;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccessTokenEvents),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=s,this._accessTokenExpired=u}return AccessTokenEvents.prototype.load=function load(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(i.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var r=t-this._accessTokenExpiringNotificationTime;r<=0&&(r=1),i.Log.debug("AccessTokenEvents.load: registering expiring timer in:",r),this._accessTokenExpiring.init(r)}else i.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var n=t+1;i.Log.debug("AccessTokenEvents.load: registering expired timer in:",n),this._accessTokenExpired.init(n)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},AccessTokenEvents.prototype.unload=function unload(){i.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},AccessTokenEvents.prototype.addAccessTokenExpiring=function addAccessTokenExpiring(e){this._accessTokenExpiring.addHandler(e)},AccessTokenEvents.prototype.removeAccessTokenExpiring=function removeAccessTokenExpiring(e){this._accessTokenExpiring.removeHandler(e)},AccessTokenEvents.prototype.addAccessTokenExpired=function addAccessTokenExpired(e){this._accessTokenExpired.addHandler(e)},AccessTokenEvents.prototype.removeAccessTokenExpired=function removeAccessTokenExpired(e){this._accessTokenExpired.removeHandler(e)},AccessTokenEvents}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0);t.User=function(){function User(e){var t=e.id_token,r=e.session_state,i=e.access_token,n=e.token_type,o=e.scope,s=e.profile,a=e.expires_at,u=e.state;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,User),this.id_token=t,this.session_state=r,this.access_token=i,this.token_type=n,this.scope=o,this.profile=s,this.expires_at=a,this.state=u}return User.prototype.toStorageString=function toStorageString(){return n.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},User.fromStorageString=function fromStorageString(e){return n.Log.debug("User.fromStorageString"),new User(JSON.parse(e))},i(User,[{key:"expires_in",get:function get(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}}},{key:"expired",get:function get(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function get(){return(this.scope||"").split(" ")}}]),User}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
// @preserve Copyright (c) Microsoft Open Technologies, Inc.
function random(){for(var e="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx",t="0123456789abcdef",r=0,i="",n=0;n<e.length;n++)"-"!==e[n]&&"4"!==e[n]&&(r=16*Math.random()|0),"x"===e[n]?i+=t[r]:"y"===e[n]?(r&=3,i+=t[r|=8]):i+=e[n];return i},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=r(4),s=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(14));t.SigninState=function(e){function SigninState(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.nonce,i=t.authority,n=t.client_id;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SigninState);var o=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));return!0===r?o._nonce=(0,s.default)():r&&(o._nonce=r),o._authority=i,o._client_id=n,o}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SigninState,e),SigninState.prototype.toStorageString=function toStorageString(){return n.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,nonce:this.nonce,authority:this.authority,client_id:this.client_id})},SigninState.fromStorageString=function fromStorageString(e){return n.Log.debug("SigninState.fromStorageString"),new SigninState(JSON.parse(e))},i(SigninState,[{key:"nonce",get:function get(){return this._nonce}},{key:"authority",get:function get(){return this._authority}},{key:"client_id",get:function get(){return this._client_id}}]),SigninState}(o.State)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var i=r(0);t.ErrorResponse=function(e){function ErrorResponse(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.error,n=t.error_description,o=t.error_uri,s=t.state;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ErrorResponse),!r)throw i.Log.error("No error passed to ErrorResponse"),new Error("error");var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n||r));return a.name="ErrorResponse",a.error=r,a.error_description=n,a.error_uri=o,a.state=s,a}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ErrorResponse,e),ErrorResponse}(Error)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var i=r(0),n=r(1);t.JsonService=function(){function JsonService(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.Global.XMLHttpRequest;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,JsonService),e&&Array.isArray(e)?this._contentTypes=e.slice():this._contentTypes=[],this._contentTypes.push("application/json"),this._XMLHttpRequest=t}return JsonService.prototype.getJson=function getJson(e,t){var r=this;if(!e)throw i.Log.error("JsonService.getJson: No url passed"),new Error("url");return i.Log.debug("JsonService.getJson, url: ",e),new Promise(function(n,o){var s=new r._XMLHttpRequest;s.open("GET",e);var a=r._contentTypes;s.onload=function(){if(i.Log.debug("JsonService.getJson: HTTP response received, status",s.status),200===s.status){var t=s.getResponseHeader("Content-Type");if(t)if(a.find(function(e){if(t.startsWith(e))return!0}))try{return void n(JSON.parse(s.responseText))}catch(e){return i.Log.error("JsonService.getJson: Error parsing JSON response",e.message),void o(e)}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(s.statusText+" ("+s.status+")"))},s.onerror=function(){i.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(i.Log.debug("JsonService.getJson: token passed, setting Authorization header"),s.setRequestHeader("Authorization","Bearer "+t)),s.send()})},JsonService}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=r(6),s=r(16),a=r(35),u=r(34),c=r(33),h=r(32),l=r(15),f=r(4);t.OidcClient=function(){function OidcClient(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OidcClient),e instanceof o.OidcClientSettings?this._settings=e:this._settings=new o.OidcClientSettings(e)}return OidcClient.prototype.createSigninRequest=function createSigninRequest(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.response_type,i=t.scope,o=t.redirect_uri,s=t.data,u=t.state,c=t.prompt,h=t.display,l=t.max_age,f=t.ui_locales,g=t.id_token_hint,p=t.login_hint,d=t.acr_values,v=t.resource,y=t.request,m=t.request_uri,S=t.extraQueryParams,b=arguments[1];n.Log.debug("OidcClient.createSigninRequest");var F=this._settings.client_id;r=r||this._settings.response_type,i=i||this._settings.scope,o=o||this._settings.redirect_uri,c=c||this._settings.prompt,h=h||this._settings.display,l=l||this._settings.max_age,f=f||this._settings.ui_locales,d=d||this._settings.acr_values,v=v||this._settings.resource,S=S||this._settings.extraQueryParams;var _=this._settings.authority;return this._metadataService.getAuthorizationEndpoint().then(function(t){n.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var w=new a.SigninRequest({url:t,client_id:F,redirect_uri:o,response_type:r,scope:i,data:s||u,authority:_,prompt:c,display:h,max_age:l,ui_locales:f,id_token_hint:g,login_hint:p,acr_values:d,resource:v,request:y,request_uri:m,extraQueryParams:S}),E=w.state;return(b=b||e._stateStore).set(E.id,E.toStorageString()).then(function(){return w})})},OidcClient.prototype.processSigninResponse=function processSigninResponse(e,t){var r=this;n.Log.debug("OidcClient.processSigninResponse");var i=new u.SigninResponse(e);return i.state?(t=t||this._stateStore).remove(i.state).then(function(e){if(!e)throw n.Log.error("OidcClient.processSigninResponse: No matching state found in storage"),new Error("No matching state found in storage");var t=l.SigninState.fromStorageString(e);return n.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),r._validator.validateSigninResponse(t,i)}):(n.Log.error("OidcClient.processSigninResponse: No state in response"),Promise.reject(new Error("No state in response")))},OidcClient.prototype.createSignoutRequest=function createSignoutRequest(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id_token_hint,i=t.data,o=t.state,s=t.post_logout_redirect_uri,a=arguments[1];return n.Log.debug("OidcClient.createSignoutRequest"),s=s||this._settings.post_logout_redirect_uri,this._metadataService.getEndSessionEndpoint().then(function(t){if(!t)throw n.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");n.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var u=new c.SignoutRequest({url:t,id_token_hint:r,post_logout_redirect_uri:s,data:i||o}),h=u.state;return h&&(n.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(a=a||e._stateStore).set(h.id,h.toStorageString())),u})},OidcClient.prototype.processSignoutResponse=function processSignoutResponse(e,t){var r=this;n.Log.debug("OidcClient.processSignoutResponse");var i=new h.SignoutResponse(e);if(!i.state)return n.Log.debug("OidcClient.processSignoutResponse: No state in response"),i.error?(n.Log.warn("OidcClient.processSignoutResponse: Response was error: ",i.error),Promise.reject(new s.ErrorResponse(i))):Promise.resolve(i);var o=i.state;return(t=t||this._stateStore).remove(o).then(function(e){if(!e)throw n.Log.error("OidcClient.processSignoutResponse: No matching state found in storage"),new Error("No matching state found in storage");var t=f.State.fromStorageString(e);return n.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),r._validator.validateSignoutResponse(t,i)})},OidcClient.prototype.clearStaleState=function clearStaleState(e){return n.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,f.State.clearStaleState(e,this.settings.staleStateAge)},i(OidcClient,[{key:"_stateStore",get:function get(){return this.settings.stateStore}},{key:"_validator",get:function get(){return this.settings.validator}},{key:"_metadataService",get:function get(){return this.settings.metadataService}},{key:"settings",get:function get(){return this._settings}},{key:"metadataService",get:function get(){return this._metadataService}}]),OidcClient}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var i=r(7);t.CordovaIFrameNavigator=function(){function CordovaIFrameNavigator(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CordovaIFrameNavigator)}return CordovaIFrameNavigator.prototype.prepare=function prepare(e){e.popupWindowFeatures="hidden=yes";var t=new i.CordovaPopupWindow(e);return Promise.resolve(t)},CordovaIFrameNavigator}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var i=r(7);t.CordovaPopupNavigator=function(){function CordovaPopupNavigator(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CordovaPopupNavigator)}return CordovaPopupNavigator.prototype.prepare=function prepare(e){var t=new i.CordovaPopupWindow(e);return Promise.resolve(t)},CordovaPopupNavigator}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var i=r(0);t.SilentRenewService=function(){function SilentRenewService(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SilentRenewService),this._userManager=e}return SilentRenewService.prototype.start=function start(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(e){}).catch(function(e){i.Log.error("SilentRenewService.start: Error from getUser:",e.message)}))},SilentRenewService.prototype.stop=function stop(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},SilentRenewService.prototype._tokenExpiring=function _tokenExpiring(){var e=this;this._userManager.signinSilent().then(function(e){i.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(t){i.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)})},SilentRenewService}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=r(1),s=r(11);t.Timer=function(e){function Timer(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Timer);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t));return n._timer=r,n._nowFunc=i||function(){return Date.now()/1e3},n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Timer,e),Timer.prototype.init=function init(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)n.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),n.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var r=5;e<r&&(r=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*r)}},Timer.prototype.cancel=function cancel(){this._timerHandle&&(n.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},Timer.prototype._callback=function _callback(){var t=this._expiration-this.now;n.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},i(Timer,[{key:"now",get:function get(){return parseInt(this._nowFunc())}},{key:"expiration",get:function get(){return this._expiration}}]),Timer}(s.Event)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var i=r(0),n=r(12),o=r(11);t.UserManagerEvents=function(e){function UserManagerEvents(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserManagerEvents);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t));return r._userLoaded=new o.Event("User loaded"),r._userUnloaded=new o.Event("User unloaded"),r._silentRenewError=new o.Event("Silent renew error"),r._userSignedOut=new o.Event("User signed out"),r._userSessionChanged=new o.Event("User session changed"),r}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UserManagerEvents,e),UserManagerEvents.prototype.load=function load(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),r&&this._userLoaded.raise(t)},UserManagerEvents.prototype.unload=function unload(){i.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},UserManagerEvents.prototype.addUserLoaded=function addUserLoaded(e){this._userLoaded.addHandler(e)},UserManagerEvents.prototype.removeUserLoaded=function removeUserLoaded(e){this._userLoaded.removeHandler(e)},UserManagerEvents.prototype.addUserUnloaded=function addUserUnloaded(e){this._userUnloaded.addHandler(e)},UserManagerEvents.prototype.removeUserUnloaded=function removeUserUnloaded(e){this._userUnloaded.removeHandler(e)},UserManagerEvents.prototype.addSilentRenewError=function addSilentRenewError(e){this._silentRenewError.addHandler(e)},UserManagerEvents.prototype.removeSilentRenewError=function removeSilentRenewError(e){this._silentRenewError.removeHandler(e)},UserManagerEvents.prototype._raiseSilentRenewError=function _raiseSilentRenewError(e){i.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},UserManagerEvents.prototype.addUserSignedOut=function addUserSignedOut(e){this._userSignedOut.addHandler(e)},UserManagerEvents.prototype.removeUserSignedOut=function removeUserSignedOut(e){this._userSignedOut.removeHandler(e)},UserManagerEvents.prototype._raiseUserSignedOut=function _raiseUserSignedOut(e){i.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise(e)},UserManagerEvents.prototype.addUserSessionChanged=function addUserSessionChanged(e){this._userSessionChanged.addHandler(e)},UserManagerEvents.prototype.removeUserSessionChanged=function removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)},UserManagerEvents.prototype._raiseUserSessionChanged=function _raiseUserSessionChanged(e){i.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise(e)},UserManagerEvents}(n.AccessTokenEvents)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0);t.IFrameWindow=function(){function IFrameWindow(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IFrameWindow),this._promise=new Promise(function(e,r){t._resolve=e,t._reject=r}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,window.document.body.appendChild(this._frame)}return IFrameWindow.prototype.navigate=function navigate(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;n.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},IFrameWindow.prototype._success=function _success(e){this._cleanup(),n.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},IFrameWindow.prototype._error=function _error(e){this._cleanup(),n.Log.error(e),this._reject(new Error(e))},IFrameWindow.prototype.close=function close(){this._cleanup()},IFrameWindow.prototype._cleanup=function _cleanup(){this._frame&&(n.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},IFrameWindow.prototype._timeout=function _timeout(){n.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},IFrameWindow.prototype._message=function _message(e){if(n.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},IFrameWindow.notifyParent=function notifyParent(e){n.Log.debug("IFrameWindow.notifyParent"),window.parent&&window!==window.parent&&(e=e||window.location.href)&&(n.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},i(IFrameWindow,[{key:"promise",get:function get(){return this._promise}},{key:"_origin",get:function get(){return location.protocol+"//"+location.host}}]),IFrameWindow}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var i=r(0),n=r(24);t.IFrameNavigator=function(){function IFrameNavigator(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IFrameNavigator)}return IFrameNavigator.prototype.prepare=function prepare(e){var t=new n.IFrameWindow(e);return Promise.resolve(t)},IFrameNavigator.prototype.callback=function callback(e){i.Log.debug("IFrameNavigator.callback");try{return n.IFrameWindow.notifyParent(e),Promise.resolve()}catch(e){return Promise.reject(e)}},IFrameNavigator}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=r(2);var s=500,a="location=no,toolbar=no,width=500,height=500,left=100,top=100;",u="_blank";t.PopupWindow=function(){function PopupWindow(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PopupWindow),this._promise=new Promise(function(e,r){t._resolve=e,t._reject=r});var r=e.popupWindowTarget||u,i=e.popupWindowFeatures||a;this._popup=window.open("",r,i),this._popup&&(n.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),s))}return PopupWindow.prototype.navigate=function navigate(e){return this._popup?e&&e.url?(n.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},PopupWindow.prototype._success=function _success(e){n.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},PopupWindow.prototype._error=function _error(e){n.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},PopupWindow.prototype.close=function close(){this._cleanup(!1)},PopupWindow.prototype._cleanup=function _cleanup(e){n.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},PopupWindow.prototype._checkForPopupClosed=function _checkForPopupClosed(){this._popup&&!this._popup.closed||this._error("Popup window closed")},PopupWindow.prototype._callback=function _callback(e,t){this._cleanup(t),e?(n.Log.debug("PopupWindow.callback success"),this._success({url:e})):(n.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},PopupWindow.notifyOpener=function notifyOpener(e,t,r){if(window.opener){if(e=e||window.location.href){var i=o.UrlUtility.parseUrlFragment(e,r);if(i.state){var s="popupCallback_"+i.state,a=window.opener[s];a?(n.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),a(e,t)):n.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else n.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else n.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},i(PopupWindow,[{key:"promise",get:function get(){return this._promise}}]),PopupWindow}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var i=r(0),n=r(26);t.PopupNavigator=function(){function PopupNavigator(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PopupNavigator)}return PopupNavigator.prototype.prepare=function prepare(e){var t=new n.PopupWindow(e);return Promise.resolve(t)},PopupNavigator.prototype.callback=function callback(e,t,r){i.Log.debug("PopupNavigator.callback");try{return n.PopupWindow.notifyOpener(e,t,r),Promise.resolve()}catch(e){return Promise.reject(e)}},PopupNavigator}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0);t.RedirectNavigator=function(){function RedirectNavigator(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedirectNavigator)}return RedirectNavigator.prototype.prepare=function prepare(){return Promise.resolve(this)},RedirectNavigator.prototype.navigate=function navigate(e){return e&&e.url?(window.location=e.url,Promise.resolve()):(n.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},i(RedirectNavigator,[{key:"url",get:function get(){return window.location.href}}]),RedirectNavigator}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=(r(0),r(6)),o=r(28),s=r(27),a=r(25),u=r(5),c=r(1);var h=60,l=2e3,f="id_token";t.UserManagerSettings=function(e){function UserManagerSettings(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.popup_redirect_uri,i=t.popup_post_logout_redirect_uri,n=t.popupWindowFeatures,g=t.popupWindowTarget,p=t.silent_redirect_uri,d=t.silentRequestTimeout,v=t.automaticSilentRenew,y=void 0!==v&&v,m=t.includeIdTokenInSilentRenew,S=void 0===m||m,b=t.monitorSession,F=void 0===b||b,_=t.checkSessionInterval,w=void 0===_?l:_,E=t.stopCheckSessionOnError,x=void 0===E||E,A=t.query_status_response_type,C=void 0===A?f:A,P=t.revokeAccessTokenOnSignout,I=void 0!==P&&P,B=t.accessTokenExpiringNotificationTime,k=void 0===B?h:B,R=t.redirectNavigator,T=void 0===R?new o.RedirectNavigator:R,U=t.popupNavigator,D=void 0===U?new s.PopupNavigator:U,M=t.iframeNavigator,L=void 0===M?new a.IFrameNavigator:M,N=t.userStore,O=void 0===N?new u.WebStorageStateStore({store:c.Global.sessionStorage}):N;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserManagerSettings);var H=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));return H._popup_redirect_uri=r,H._popup_post_logout_redirect_uri=i,H._popupWindowFeatures=n,H._popupWindowTarget=g,H._silent_redirect_uri=p,H._silentRequestTimeout=d,H._automaticSilentRenew=!!y,H._includeIdTokenInSilentRenew=S,H._accessTokenExpiringNotificationTime=k,H._monitorSession=F,H._checkSessionInterval=w,H._stopCheckSessionOnError=x,H._query_status_response_type=C,H._revokeAccessTokenOnSignout=I,H._redirectNavigator=T,H._popupNavigator=D,H._iframeNavigator=L,H._userStore=O,H}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UserManagerSettings,e),i(UserManagerSettings,[{key:"popup_redirect_uri",get:function get(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function get(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function get(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function get(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function get(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function get(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function get(){return!(!this.silent_redirect_uri||!this._automaticSilentRenew)}},{key:"includeIdTokenInSilentRenew",get:function get(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function get(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function get(){return this._monitorSession}},{key:"checkSessionInterval",get:function get(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function get(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function get(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function get(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function get(){return this._redirectNavigator}},{key:"popupNavigator",get:function get(){return this._popupNavigator}},{key:"iframeNavigator",get:function get(){return this._iframeNavigator}},{key:"userStore",get:function get(){return this._userStore}}]),UserManagerSettings}(n.OidcClientSettings)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),o=r(18),s=r(29),a=r(13),u=r(23),c=r(21),h=r(10),l=r(8);t.UserManager=function(e){function UserManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.SessionMonitor,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.TokenRevocationClient;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserManager),t instanceof s.UserManagerSettings||(t=new s.UserManagerSettings(t));var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t));return a._events=new u.UserManagerEvents(t),a._silentRenewService=new r(a),a.settings.automaticSilentRenew&&(n.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),a.startSilentRenew()),a.settings.monitorSession&&(n.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),a._sessionMonitor=new i(a)),a._tokenRevocationClient=new o(a._settings),a}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UserManager,e),UserManager.prototype.getUser=function getUser(){var e=this;return this._loadUser().then(function(t){return t?(n.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(n.Log.info("UserManager.getUser: user not found in storage"),null)})},UserManager.prototype.removeUser=function removeUser(){var e=this;return this.storeUser(null).then(function(){n.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()})},UserManager.prototype.signinRedirect=function signinRedirect(e){return this._signinStart(e,this._redirectNavigator).then(function(){n.Log.info("UserManager.signinRedirect: successful")})},UserManager.prototype.signinRedirectCallback=function signinRedirectCallback(e){return this._signinEnd(e||this._redirectNavigator.url).then(function(e){return e&&(e.profile&&e.profile.sub?n.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):n.Log.info("UserManager.signinRedirectCallback: no sub")),e})},UserManager.prototype.signinPopup=function signinPopup(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(e){return e&&(e.profile&&e.profile.sub?n.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):n.Log.info("UserManager.signinPopup: no sub")),e})):(n.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},UserManager.prototype.signinPopupCallback=function signinPopupCallback(e){return this._signinCallback(e,this._popupNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?n.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):n.Log.info("UserManager.signinPopupCallback: no sub")),e}).catch(function(e){n.Log.error( true&&e.message)})},UserManager.prototype.signinSilent=function signinSilent(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.redirect_uri||this.settings.silent_redirect_uri;if(!r)return n.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured"));t.redirect_uri=r,t.prompt=t.prompt||"none";return(t.id_token_hint||!this.settings.includeIdTokenInSilentRenew?Promise.resolve():this._loadUser().then(function(e){t.id_token_hint=e&&e.id_token})).then(function(){return e._signin(t,e._iframeNavigator,{startUrl:r,silentRequestTimeout:t.silentRequestTimeout||e.settings.silentRequestTimeout})}).then(function(e){return e&&(e.profile&&e.profile.sub?n.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):n.Log.info("UserManager.signinSilent: no sub")),e})},UserManager.prototype.signinSilentCallback=function signinSilentCallback(e){return this._signinCallback(e,this._iframeNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?n.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):n.Log.info("UserManager.signinSilentCallback: no sub")),e})},UserManager.prototype.querySessionStatus=function querySessionStatus(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.redirect_uri||this.settings.silent_redirect_uri;return r?(t.redirect_uri=r,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope="openid",this._signinStart(t,this._iframeNavigator,{startUrl:r,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return e.processSigninResponse(t.url).then(function(e){if(n.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return n.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};n.Log.info("querySessionStatus successful, user not authenticated")})})):(n.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},UserManager.prototype._signin=function _signin(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,i).then(function(e){return r._signinEnd(e.url)})},UserManager.prototype._signinStart=function _signinStart(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(i).then(function(t){return n.Log.debug("UserManager._signinStart: got navigator window handle"),r.createSigninRequest(e).then(function(e){return n.Log.debug("UserManager._signinStart: got signin request"),i.url=e.url,i.id=e.state.id,t.navigate(i)}).catch(function(e){throw t.close&&(n.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e})})},UserManager.prototype._signinEnd=function _signinEnd(e){var t=this;return this.processSigninResponse(e).then(function(e){n.Log.debug("UserManager._signinEnd: got signin response");var r=new a.User(e);return t.storeUser(r).then(function(){return n.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r})})},UserManager.prototype._signinCallback=function _signinCallback(e,t){return n.Log.debug("UserManager._signinCallback"),t.callback(e)},UserManager.prototype.signoutRedirect=function signoutRedirect(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return t&&(e.post_logout_redirect_uri=t),this._signoutStart(e,this._redirectNavigator).then(function(){n.Log.info("UserManager.signoutRedirect: successful")})},UserManager.prototype.signoutRedirectCallback=function signoutRedirectCallback(e){return this._signoutEnd(e||this._redirectNavigator.url).then(function(e){return n.Log.info("UserManager.signoutRedirectCallback: successful"),e})},UserManager.prototype.signoutPopup=function signoutPopup(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){n.Log.info("UserManager.signoutPopup: successful")})},UserManager.prototype.signoutPopupCallback=function signoutPopupCallback(e,t){void 0===t&&"boolean"==typeof e&&(t=e,e=null);return this._popupNavigator.callback(e,t,"?").then(function(){n.Log.info("UserManager.signoutPopupCallback: successful")})},UserManager.prototype._signout=function _signout(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,i).then(function(e){return r._signoutEnd(e.url)})},UserManager.prototype._signoutStart=function _signoutStart(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.prepare(i).then(function(r){return n.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then(function(o){return n.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then(function(){var s=e.id_token_hint||o&&o.id_token;return s&&(n.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=s),t.removeUser().then(function(){return n.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then(function(e){return n.Log.debug("UserManager._signoutStart: got signout request"),i.url=e.url,e.state&&(i.id=e.state.id),r.navigate(i)})})})}).catch(function(e){throw r.close&&(n.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),r.close()),e})})},UserManager.prototype._signoutEnd=function _signoutEnd(e){return this.processSignoutResponse(e).then(function(e){return n.Log.debug("UserManager._signoutEnd: got signout response"),e})},UserManager.prototype.revokeAccessToken=function revokeAccessToken(){var e=this;return this._loadUser().then(function(t){return e._revokeInternal(t,!0).then(function(r){if(r)return n.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then(function(){n.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)})})}).then(function(){n.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},UserManager.prototype._revokeInternal=function _revokeInternal(e,t){var r=e&&e.access_token;return!r||r.indexOf(".")>=0?(n.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no user, token, or JWT format"),Promise.resolve(!1)):this._tokenRevocationClient.revoke(r,t).then(function(){return!0})},UserManager.prototype.startSilentRenew=function startSilentRenew(){this._silentRenewService.start()},UserManager.prototype.stopSilentRenew=function stopSilentRenew(){this._silentRenewService.stop()},UserManager.prototype._loadUser=function _loadUser(){return this._userStore.get(this._userStoreKey).then(function(e){return e?(n.Log.debug("UserManager._loadUser: user storageString loaded"),a.User.fromStorageString(e)):(n.Log.debug("UserManager._loadUser: no user storageString"),null)})},UserManager.prototype.storeUser=function storeUser(e){if(e){n.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return n.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},i(UserManager,[{key:"_redirectNavigator",get:function get(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function get(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function get(){return this.settings.iframeNavigator}},{key:"_userStore",get:function get(){return this.settings.userStore}},{key:"events",get:function get(){return this._events}},{key:"_userStoreKey",get:function get(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),UserManager}(o.OidcClient)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0);t.InMemoryWebStorage=function(){function InMemoryWebStorage(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InMemoryWebStorage),this._data={}}return InMemoryWebStorage.prototype.getItem=function getItem(e){return n.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},InMemoryWebStorage.prototype.setItem=function setItem(e,t){n.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},InMemoryWebStorage.prototype.removeItem=function removeItem(e){n.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},InMemoryWebStorage.prototype.key=function key(e){return Object.getOwnPropertyNames(this._data)[e]},i(InMemoryWebStorage,[{key:"length",get:function get(){return Object.getOwnPropertyNames(this._data).length}}]),InMemoryWebStorage}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var i=r(2);t.SignoutResponse=function SignoutResponse(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SignoutResponse);var t=i.UrlUtility.parseUrlFragment(e,"?");this.error=t.error,this.error_description=t.error_description,this.error_uri=t.error_uri,this.state=t.state}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var i=r(0),n=r(2),o=r(4);t.SignoutRequest=function SignoutRequest(e){var t=e.url,r=e.id_token_hint,s=e.post_logout_redirect_uri,a=e.data;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SignoutRequest),!t)throw i.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");r&&(t=n.UrlUtility.addQueryParam(t,"id_token_hint",r)),s&&(t=n.UrlUtility.addQueryParam(t,"post_logout_redirect_uri",s),a&&(this.state=new o.State({data:a}),t=n.UrlUtility.addQueryParam(t,"state",this.state.id))),this.url=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(2);t.SigninResponse=function(){function SigninResponse(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SigninResponse);var t=n.UrlUtility.parseUrlFragment(e,"#");this.error=t.error,this.error_description=t.error_description,this.error_uri=t.error_uri,this.state=t.state,this.id_token=t.id_token,this.session_state=t.session_state,this.access_token=t.access_token,this.token_type=t.token_type,this.scope=t.scope,this.profile=void 0;var r=parseInt(t.expires_in);if("number"==typeof r&&r>0){var i=parseInt(Date.now()/1e3);this.expires_at=i+r}}return i(SigninResponse,[{key:"expires_in",get:function get(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}}},{key:"expired",get:function get(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function get(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function get(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),SigninResponse}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var i=r(0),n=r(2),o=r(15);t.SigninRequest=function(){function SigninRequest(e){var t=e.url,r=e.client_id,s=e.redirect_uri,a=e.response_type,u=e.scope,c=e.authority,h=e.data,l=e.prompt,f=e.display,g=e.max_age,p=e.ui_locales,d=e.id_token_hint,v=e.login_hint,y=e.acr_values,m=e.resource,S=e.request,b=e.request_uri,F=e.extraQueryParams;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SigninRequest),!t)throw i.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!r)throw i.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw i.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!a)throw i.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!u)throw i.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!c)throw i.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var _=SigninRequest.isOidc(a);this.state=new o.SigninState({nonce:_,data:h,client_id:r,authority:c}),t=n.UrlUtility.addQueryParam(t,"client_id",r),t=n.UrlUtility.addQueryParam(t,"redirect_uri",s),t=n.UrlUtility.addQueryParam(t,"response_type",a),t=n.UrlUtility.addQueryParam(t,"scope",u),t=n.UrlUtility.addQueryParam(t,"state",this.state.id),_&&(t=n.UrlUtility.addQueryParam(t,"nonce",this.state.nonce));var w={prompt:l,display:f,max_age:g,ui_locales:p,id_token_hint:d,login_hint:v,acr_values:y,resource:m,request:S,request_uri:b};for(var E in w)w[E]&&(t=n.UrlUtility.addQueryParam(t,E,w[E]));for(var x in F)t=n.UrlUtility.addQueryParam(t,x,F[x]);this.url=t}return SigninRequest.isOidc=function isOidc(e){return!!e.split(/\s+/g).filter(function(e){return"id_token"===e})[0]},SigninRequest.isOAuth=function isOAuth(e){return!!e.split(/\s+/g).filter(function(e){return"token"===e})[0]},SigninRequest}()},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){t.read=function(e,t,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?n-1:0,f=r?-1:1,g=e[t+l];for(l+=f,o=g&(1<<-h)-1,g>>=-h,h+=a;h>0;o=256*o+e[t+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=256*s+e[t+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,i),o-=c}return(g?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,r,i,n,o){var s,a,u,c=8*o-n-1,h=(1<<c)-1,l=h>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:o-1,p=i?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(t*u-1)*Math.pow(2,n),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,n),s=0));n>=8;e[r+g]=255&a,g+=p,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;e[r+g]=255&s,g+=p,s/=256,c-=8);e[r+g-p]|=128*d}},function(e,t,r){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),r=t[0],i=t[1];return 3*(r+i)/4-i},t.toByteArray=function toByteArray(e){for(var t,r=getLens(e),i=r[0],s=r[1],a=new o(function _byteLength(e,t,r){return 3*(t+r)/4-r}(0,i,s)),u=0,c=s>0?i-4:i,h=0;h<c;h+=4)t=n[e.charCodeAt(h)]<<18|n[e.charCodeAt(h+1)]<<12|n[e.charCodeAt(h+2)]<<6|n[e.charCodeAt(h+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;2===s&&(t=n[e.charCodeAt(h)]<<2|n[e.charCodeAt(h+1)]>>4,a[u++]=255&t);1===s&&(t=n[e.charCodeAt(h)]<<10|n[e.charCodeAt(h+1)]<<4|n[e.charCodeAt(h+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t);return a},t.fromByteArray=function fromByteArray(e){for(var t,r=e.length,n=r%3,o=[],s=0,a=r-n;s<a;s+=16383)o.push(encodeChunk(e,s,s+16383>a?a:s+16383));1===n?(t=e[r-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function tripletToBase64(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function encodeChunk(e,t,r){for(var i,n=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),n.push(tripletToBase64(i));return n.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=r(38),n=r(37),o=r(36);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,r,i){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,r):new Uint8Array(t,r,i);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,r,i):"string"==typeof t?function fromString(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(t,r),n=(e=createBuffer(e,i)).write(t,r);n!==i&&(e=e.slice(0,n));return e}(e,t,r):function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var i=0;i<r;i+=1)e[i]=255&t[i];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function swap(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function bidirectionalIndexOf(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,i)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,i,n);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,i,n){var o,s=1,a=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function read(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){var c=-1;for(o=r;o<a;o++)if(read(e,o)===read(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(read(e,o+l)!==read(t,l)){h=!1;break}if(h)return o}return-1}function hexWrite(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function utf8Write(e,t,r,i){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,i)}function asciiWrite(e,t,r,i){return blitBuffer(function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function latin1Write(e,t,r,i){return asciiWrite(e,t,r,i)}function base64Write(e,t,r,i){return blitBuffer(base64ToBytes(t),e,r,i)}function ucs2Write(e,t,r,i){return blitBuffer(function utf16leToBytes(e,t){for(var r,i,n,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(t,e.length-r),e,r,i)}function base64Slice(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var o,a,u,c,h=e[n],l=null,f=h>239?4:h>223?3:h>191?2:1;if(n+f<=r)switch(f){case 1:h<128&&(l=h);break;case 2:128==(192&(o=e[n+1]))&&(c=(31&h)<<6|63&o)>127&&(l=c);break;case 3:o=e[n+1],a=e[n+2],128==(192&o)&&128==(192&a)&&(c=(15&h)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[n+1],a=e[n+2],u=e[n+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(c=(15&h)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),n+=f}return function decodeCodePointsArray(e){var t=e.length;if(t<=s)return String.fromCharCode.apply(String,e);var r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=s));return r}(i)}t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return function alloc(e,t,r,i){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof i?createBuffer(e,t).fill(r,i):createBuffer(e,t).fill(r):createBuffer(e,t)}(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,i=t.length,n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=Buffer.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var s=e[r];if(!Buffer.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):function slowToString(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,r,i,n){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;for(var o=n-i,s=r-t,a=Math.min(o,s),u=this.slice(i,n),c=e.slice(t,r),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},Buffer.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function write(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var s=4096;function asciiSlice(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function latin1Slice(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function hexSlice(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=t;o<r;++o)n+=toHex(e[o]);return n}function utf16leSlice(e,t,r){for(var i=e.slice(t,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,i,n,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,i){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-r,2);n<o;++n)e[r+n]=(t&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function objectWriteUInt32(e,t,r,i){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-r,4);n<o;++n)e[r+n]=t>>>8*(i?n:3-n)&255}function checkIEEE754(e,t,r,i,n,o){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,i,o){return o||checkIEEE754(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function writeDouble(e,t,r,i,o){return o||checkIEEE754(e,0,r,8),n.write(e,t,r,i,52,8),r+8}Buffer.prototype.slice=function slice(e,t){var r,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var n=t-e;r=new Buffer(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+e]}return r},Buffer.prototype.readUIntLE=function readUIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i},Buffer.prototype.readUIntBE=function readUIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readIntBE=function readIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=t,n=1,o=this[e+--i];i>0&&(n*=256);)o+=this[e+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),n.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),n.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),n.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),n.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,r,i){(e=+e,t|=0,r|=0,i)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,r,i){(e=+e,t|=0,r|=0,i)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},Buffer.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,r,i){if(e=+e,t|=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Buffer.prototype.writeIntBE=function writeIntBE(e,t,r,i){if(e=+e,t|=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Buffer.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function copy(e,t,r,i){if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n,o=i-r;if(this===e&&r<t&&t<i)for(n=o-1;n>=0;--n)e[n+t]=this[n+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer.prototype.fill=function fill(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,i).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var a=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var i=e.length,n=null,o=[],s=0;s<i;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function base64ToBytes(e){return i.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(a,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}}).call(this,r(39))},function(e,t,r){"use strict";(function(i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={userAgent:!1},p={};
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
if(void 0===v)var v={};v.lang={extend:function extend(t,r,i){if(!r||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function d(){};if(n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i){var o;for(o in i)t.prototype[o]=i[o];var s=function e(){},a=["toString","valueOf"];try{/MSIE/.test(u.userAgent)&&(s=function e(t,r){for(o=0;o<a.length;o+=1){var i=a[o],n=r[i];"function"==typeof n&&n!=Object.prototype[i]&&(t[i]=n)}})}catch(e){}s(t.prototype,i)}}};
/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var y=y||function(e,t){var r={},i=r.lib={},n=i.Base=function(){function n(){}return{extend:function extend(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function create(){var e=this.extend();return e.init.apply(e,arguments),e},init:function init(){},mixIn:function mixIn(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function clone(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=n.extend({init:function init(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function toString(e){return(e||a).stringify(this)},concat:function concat(e){var t=this.words,r=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<n;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=s<<24-(i+o)%4*8}else for(o=0;o<n;o+=4)t[i+o>>>2]=r[o>>>2];return this.sigBytes+=n,this},clamp:function clamp(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function clone(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function random(t){for(var r=[],i=0;i<t;i+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},a=s.Hex={stringify:function stringify(e){for(var t=e.words,r=e.sigBytes,i=[],n=0;n<r;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function parse(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(r,t/2)}},u=s.Latin1={stringify:function stringify(e){for(var t=e.words,r=e.sigBytes,i=[],n=0;n<r;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function parse(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(r,t)}},c=s.Utf8={stringify:function stringify(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function parse(e){return u.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=n.extend({reset:function reset(){this._data=new o.init,this._nDataBytes=0},_append:function _append(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function _process(t){var r=this._data,i=r.words,n=r.sigBytes,s=this.blockSize,a=n/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,c=e.min(4*u,n);if(u){for(var h=0;h<u;h+=s)this._doProcessBlock(i,h);var l=i.splice(0,u);r.sigBytes-=c}return new o.init(l,c)},clone:function clone(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(i.Hasher=h.extend({cfg:n.extend(),init:function init(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function reset(){h.reset.call(this),this._doReset()},update:function update(e){return this._append(e),this._process(),this},finalize:function finalize(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function _createHelper(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function _createHmacHelper(e){return function(t,r){return new l.HMAC.init(e,r).finalize(t)}}}),r.algo={});return r}(Math);!function(e){var t,r=(t=y).lib,i=r.Base,n=r.WordArray;(t=t.x64={}).Word=i.extend({init:function init(e,t){this.high=e,this.low=t}}),t.WordArray=i.extend({init:function init(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function toX32(){for(var e=this.words,t=e.length,r=[],i=0;i<t;i++){var o=e[i];r.push(o.high),r.push(o.low)}return n.create(r,this.sigBytes)},clone:function clone(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),function(){var e=y,t=e.lib.WordArray;e.enc.Base64={stringify:function stringify(e){var t=e.words,r=e.sigBytes,i=this._map;e.clamp(),e=[];for(var n=0;n<r;n+=3)for(var o=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,s=0;4>s&&n+.75*s<r;s++)e.push(i.charAt(o>>>6*(3-s)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function parse(e){var r=e.length,i=this._map;(n=i.charAt(64))&&(-1!=(n=e.indexOf(n))&&(r=n));for(var n=[],o=0,s=0;s<r;s++)if(s%4){var a=i.indexOf(e.charAt(s-1))<<s%4*2,u=i.indexOf(e.charAt(s))>>>6-s%4*2;n[o>>>2]|=(a|u)<<24-o%4*8,o++}return t.create(n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=y,r=(n=t.lib).WordArray,i=n.Hasher,n=t.algo,o=[],s=[],a=function u(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var h;e:{h=u;for(var l=e.sqrt(h),f=2;f<=l;f++)if(!(h%f)){h=!1;break e}h=!0}h&&(8>c&&(o[c]=a(e.pow(u,.5))),s[c]=a(e.pow(u,1/3)),c++),u++}var g=[];n=n.SHA256=i.extend({_doReset:function _doReset(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function _doProcessBlock(e,t){for(var r=this._hash.words,i=r[0],n=r[1],o=r[2],a=r[3],u=r[4],c=r[5],h=r[6],l=r[7],f=0;64>f;f++){if(16>f)g[f]=0|e[t+f];else{var p=g[f-15],d=g[f-2];g[f]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+g[f-7]+((d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+g[f-16]}p=l+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&h)+s[f]+g[f],d=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&n^i&o^n&o),l=h,h=c,c=u,u=a+p|0,a=o,o=n,n=i,i=p+d|0}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0,r[5]=r[5]+c|0,r[6]=r[6]+h|0,r[7]=r[7]+l|0},_doFinalize:function _doFinalize(){var t=this._data,r=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return r[n>>>5]|=128<<24-n%32,r[14+(n+64>>>9<<4)]=e.floor(i/4294967296),r[15+(n+64>>>9<<4)]=i,t.sigBytes=4*r.length,this._process(),this._hash},clone:function clone(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(n),t.HmacSHA256=i._createHmacHelper(n)}(Math),function(){function a(){return r.create.apply(r,arguments)}for(var e=y,t=e.lib.Hasher,r=(n=e.x64).Word,i=n.WordArray,n=e.algo,o=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],s=[],u=0;80>u;u++)s[u]=a();n=n.SHA512=t.extend({_doReset:function _doReset(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function _doProcessBlock(e,t){for(var r=(l=this._hash.words)[0],i=l[1],n=l[2],a=l[3],u=l[4],c=l[5],h=l[6],l=l[7],f=r.high,g=r.low,p=i.high,d=i.low,v=n.high,y=n.low,m=a.high,S=a.low,b=u.high,F=u.low,_=c.high,w=c.low,E=h.high,x=h.low,A=l.high,C=l.low,P=f,I=g,B=p,k=d,R=v,T=y,U=m,D=S,M=b,L=F,N=_,O=w,H=E,j=x,K=A,V=C,q=0;80>q;q++){var W=s[q];if(16>q)var J=W.high=0|e[t+2*q],z=W.low=0|e[t+2*q+1];else{J=((z=(J=s[q-15]).high)>>>1|(Y=J.low)<<31)^(z>>>8|Y<<24)^z>>>7;var Y=(Y>>>1|z<<31)^(Y>>>8|z<<24)^(Y>>>7|z<<25),G=((z=(G=s[q-2]).high)>>>19|(X=G.low)<<13)^(z<<3|X>>>29)^z>>>6,X=(X>>>19|z<<13)^(X<<3|z>>>29)^(X>>>6|z<<26),$=(z=s[q-7]).high,Q=(Z=s[q-16]).high,Z=Z.low;J=(J=(J=J+$+((z=Y+z.low)>>>0<Y>>>0?1:0))+G+((z=z+X)>>>0<X>>>0?1:0))+Q+((z=z+Z)>>>0<Z>>>0?1:0);W.high=J,W.low=z}$=M&N^~M&H,Z=L&O^~L&j,W=P&B^P&R^B&R;var ee=I&k^I&T^k&T,te=(Y=(P>>>28|I<<4)^(P<<30|I>>>2)^(P<<25|I>>>7),G=(I>>>28|P<<4)^(I<<30|P>>>2)^(I<<25|P>>>7),(X=o[q]).high),re=X.low;Q=(Q=(Q=(Q=K+((M>>>14|L<<18)^(M>>>18|L<<14)^(M<<23|L>>>9))+((X=V+((L>>>14|M<<18)^(L>>>18|M<<14)^(L<<23|M>>>9)))>>>0<V>>>0?1:0))+$+((X=X+Z)>>>0<Z>>>0?1:0))+te+((X=X+re)>>>0<re>>>0?1:0))+J+((X=X+z)>>>0<z>>>0?1:0),W=Y+W+((z=G+ee)>>>0<G>>>0?1:0),K=H,V=j,H=N,j=O,N=M,O=L,M=U+Q+((L=D+X|0)>>>0<D>>>0?1:0)|0,U=R,D=T,R=B,T=k,B=P,k=I,P=Q+W+((I=X+z|0)>>>0<X>>>0?1:0)|0}g=r.low=g+I,r.high=f+P+(g>>>0<I>>>0?1:0),d=i.low=d+k,i.high=p+B+(d>>>0<k>>>0?1:0),y=n.low=y+T,n.high=v+R+(y>>>0<T>>>0?1:0),S=a.low=S+D,a.high=m+U+(S>>>0<D>>>0?1:0),F=u.low=F+L,u.high=b+M+(F>>>0<L>>>0?1:0),w=c.low=w+O,c.high=_+N+(w>>>0<O>>>0?1:0),x=h.low=x+j,h.high=E+H+(x>>>0<j>>>0?1:0),C=l.low=C+V,l.high=A+K+(C>>>0<V>>>0?1:0)},_doFinalize:function _doFinalize(){var e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(i+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function clone(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),e.SHA512=t._createHelper(n),e.HmacSHA512=t._createHmacHelper(n)}(),function(){var e=y,t=(n=e.x64).Word,r=n.WordArray,i=(n=e.algo).SHA512,n=n.SHA384=i.extend({_doReset:function _doReset(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function _doFinalize(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(n),e.HmacSHA384=i._createHmacHelper(n)}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var S,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_="=";function hex2b64(e){var t,r,i="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),i+=F.charAt(r>>6)+F.charAt(63&r);if(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),i+=F.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),i+=F.charAt(r>>2)+F.charAt((3&r)<<4)),_)for(;(3&i.length)>0;)i+=_;return i}function b64tohex(e){var t,r,i,n="",o=0;for(t=0;t<e.length&&e.charAt(t)!=_;++t)(i=F.indexOf(e.charAt(t)))<0||(0==o?(n+=int2char(i>>2),r=3&i,o=1):1==o?(n+=int2char(r<<2|i>>4),r=15&i,o=2):2==o?(n+=int2char(r),n+=int2char(i>>2),r=3&i,o=3):(n+=int2char(r<<2|i>>4),n+=int2char(15&i),o=0));return 1==o&&(n+=int2char(r<<2)),n}function b64toBA(e){var t,r=b64tohex(e),i=new Array;for(t=0;2*t<r.length;++t)i[t]=parseInt(r.substring(2*t,2*t+2),16);return i}function BigInteger(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function nbi(){return new BigInteger(null)}"Microsoft Internet Explorer"==u.appName?(BigInteger.prototype.am=function am2(e,t,r,i,n,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,h=a*u+c*s;n=((u=s*u+((32767&h)<<15)+r[i]+(1073741823&n))>>>30)+(h>>>15)+a*c+(n>>>30),r[i++]=1073741823&u}return n},S=30):"Netscape"!=u.appName?(BigInteger.prototype.am=function am1(e,t,r,i,n,o){for(;--o>=0;){var s=t*this[e++]+r[i]+n;n=Math.floor(s/67108864),r[i++]=67108863&s}return n},S=26):(BigInteger.prototype.am=function am3(e,t,r,i,n,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,h=a*u+c*s;n=((u=s*u+((16383&h)<<14)+r[i]+n)>>28)+(h>>14)+a*c,r[i++]=268435455&u}return n},S=28),BigInteger.prototype.DB=S,BigInteger.prototype.DM=(1<<S)-1,BigInteger.prototype.DV=1<<S;BigInteger.prototype.FV=Math.pow(2,52),BigInteger.prototype.F1=52-S,BigInteger.prototype.F2=2*S-52;var w,E,C="0123456789abcdefghijklmnopqrstuvwxyz",P=new Array;for(w="0".charCodeAt(0),E=0;E<=9;++E)P[w++]=E;for(w="a".charCodeAt(0),E=10;E<36;++E)P[w++]=E;for(w="A".charCodeAt(0),E=10;E<36;++E)P[w++]=E;function int2char(e){return C.charAt(e)}function intAt(e,t){var r=P[e.charCodeAt(t)];return null==r?-1:r}function nbv(e){var t=nbi();return t.fromInt(e),t}function nbits(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function Classic(e){this.m=e}function Montgomery(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function op_and(e,t){return e&t}function op_or(e,t){return e|t}function op_xor(e,t){return e^t}function op_andnot(e,t){return e&~t}function lbit(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function cbit(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function NullExp(){}function nNop(e){return e}function Barrett(e){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}Classic.prototype.convert=function cConvert(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},Classic.prototype.revert=function cRevert(e){return e},Classic.prototype.reduce=function cReduce(e){e.divRemTo(this.m,null,e)},Classic.prototype.mulTo=function cMulTo(e,t,r){e.multiplyTo(t,r),this.reduce(r)},Classic.prototype.sqrTo=function cSqrTo(e,t){e.squareTo(t),this.reduce(t)},Montgomery.prototype.convert=function montConvert(e){var t=nbi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(BigInteger.ZERO)>0&&this.m.subTo(t,t),t},Montgomery.prototype.revert=function montRevert(e){var t=nbi();return e.copyTo(t),this.reduce(t),t},Montgomery.prototype.reduce=function montReduce(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],i=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Montgomery.prototype.mulTo=function montMulTo(e,t,r){e.multiplyTo(t,r),this.reduce(r)},Montgomery.prototype.sqrTo=function montSqrTo(e,t){e.squareTo(t),this.reduce(t)},BigInteger.prototype.copyTo=function bnpCopyTo(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},BigInteger.prototype.fromInt=function bnpFromInt(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},BigInteger.prototype.fromString=function bnpFromString(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var i=e.length,n=!1,o=0;--i>=0;){var s=8==r?255&e[i]:intAt(e,i);s<0?"-"==e.charAt(i)&&(n=!0):(n=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),n&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.clamp=function bnpClamp(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},BigInteger.prototype.dlShiftTo=function bnpDLShiftTo(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},BigInteger.prototype.drShiftTo=function bnpDRShiftTo(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},BigInteger.prototype.lShiftTo=function bnpLShiftTo(e,t){var r,i=e%this.DB,n=this.DB-i,o=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>n|a,a=(this[r]&o)<<i;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},BigInteger.prototype.rShiftTo=function bnpRShiftTo(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var i=e%this.DB,n=this.DB-i,o=(1<<i)-1;t[0]=this[r]>>i;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<n,t[s-r]=this[s]>>i;i>0&&(t[this.t-r-1]|=(this.s&o)<<n),t.t=this.t-r,t.clamp()}},BigInteger.prototype.subTo=function bnpSubTo(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]-e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i-=e[r],t[r++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i),t.t=r,t.clamp()},BigInteger.prototype.multiplyTo=function bnpMultiplyTo(e,t){var r=this.abs(),i=e.abs(),n=r.t;for(t.t=n+i.t;--n>=0;)t[n]=0;for(n=0;n<i.t;++n)t[n+r.t]=r.am(0,i[n],t,n,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger.ZERO.subTo(t,t)},BigInteger.prototype.squareTo=function bnpSquareTo(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},BigInteger.prototype.divRemTo=function bnpDivRemTo(e,t,r){var i=e.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=nbi());var o=nbi(),s=this.s,a=e.s,u=this.DB-nbits(i[i.t-1]);u>0?(i.lShiftTo(u,o),n.lShiftTo(u,r)):(i.copyTo(o),n.copyTo(r));var c=o.t,h=o[c-1];if(0!=h){var l=h*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),f=this.FV/l,g=(1<<this.F1)/l,p=1<<this.F2,d=r.t,v=d-c,y=null==t?nbi():t;for(o.dlShiftTo(v,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),BigInteger.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=r[--d]==h?this.DM:Math.floor(r[d]*f+(r[d-1]+p)*g);if((r[d]+=o.am(0,m,r,v,0,c))<m)for(o.dlShiftTo(v,y),r.subTo(y,r);r[d]<--m;)r.subTo(y,r)}null!=t&&(r.drShiftTo(c,t),s!=a&&BigInteger.ZERO.subTo(t,t)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&BigInteger.ZERO.subTo(r,r)}}},BigInteger.prototype.invDigit=function bnpInvDigit(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},BigInteger.prototype.isEven=function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)},BigInteger.prototype.exp=function bnpExp(e,t){if(e>4294967295||e<1)return BigInteger.ONE;var r=nbi(),i=nbi(),n=t.convert(this),o=nbits(e)-1;for(n.copyTo(r);--o>=0;)if(t.sqrTo(r,i),(e&1<<o)>0)t.mulTo(i,n,r);else{var s=r;r=i,i=s}return t.revert(r)},BigInteger.prototype.toString=function bnToString(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,i=(1<<t)-1,n=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(n=!0,o=int2char(r));s>=0;)a<t?(r=(this[s]&(1<<a)-1)<<t-a,r|=this[--s]>>(a+=this.DB-t)):(r=this[s]>>(a-=t)&i,a<=0&&(a+=this.DB,--s)),r>0&&(n=!0),n&&(o+=int2char(r));return n?o:"0"},BigInteger.prototype.negate=function bnNegate(){var e=nbi();return BigInteger.ZERO.subTo(this,e),e},BigInteger.prototype.abs=function bnAbs(){return this.s<0?this.negate():this},BigInteger.prototype.compareTo=function bnCompareTo(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},BigInteger.prototype.bitLength=function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)},BigInteger.prototype.mod=function bnMod(e){var t=nbi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(BigInteger.ZERO)>0&&e.subTo(t,t),t},BigInteger.prototype.modPowInt=function bnModPowInt(e,t){var r;return r=e<256||t.isEven()?new Classic(t):new Montgomery(t),this.exp(e,r)},BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=function nMulTo(e,t,r){e.multiplyTo(t,r)},NullExp.prototype.sqrTo=function nSqrTo(e,t){e.squareTo(t)},Barrett.prototype.convert=function barrettConvert(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=nbi();return e.copyTo(t),this.reduce(t),t},Barrett.prototype.revert=function barrettRevert(e){return e},Barrett.prototype.reduce=function barrettReduce(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},Barrett.prototype.mulTo=function barrettMulTo(e,t,r){e.multiplyTo(t,r),this.reduce(r)},Barrett.prototype.sqrTo=function barrettSqrTo(e,t){e.squareTo(t),this.reduce(t)};var I=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],R=(1<<26)/I[I.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function Arcfour(){this.i=0,this.j=0,this.S=new Array}BigInteger.prototype.chunkSize=function bnpChunkSize(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},BigInteger.prototype.toRadix=function bnpToRadix(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=nbv(r),n=nbi(),o=nbi(),s="";for(this.divRemTo(i,n,o);n.signum()>0;)s=(r+o.intValue()).toString(e).substr(1)+s,n.divRemTo(i,n,o);return o.intValue().toString(e)+s},BigInteger.prototype.fromRadix=function bnpFromRadix(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),n=!1,o=0,s=0,a=0;a<e.length;++a){var u=intAt(e,a);u<0?"-"==e.charAt(a)&&0==this.signum()&&(n=!0):(s=t*s+u,++o>=r&&(this.dMultiply(i),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),n&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.fromNumber=function bnpFromNumber(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(e-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(BigInteger.ONE.shiftLeft(e-1),this);else{var i=new Array,n=7&e;i.length=1+(e>>3),t.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}},BigInteger.prototype.bitwiseTo=function bnpBitwiseTo(e,t,r){var i,n,o=Math.min(e.t,this.t);for(i=0;i<o;++i)r[i]=t(this[i],e[i]);if(e.t<this.t){for(n=e.s&this.DM,i=o;i<this.t;++i)r[i]=t(this[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=o;i<e.t;++i)r[i]=t(n,e[i]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},BigInteger.prototype.changeBit=function bnpChangeBit(e,t){var r=BigInteger.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},BigInteger.prototype.addTo=function bnpAddTo(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]+e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i+=e[r],t[r++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[r++]=i:i<-1&&(t[r++]=this.DV+i),t.t=r,t.clamp()},BigInteger.prototype.dMultiply=function bnpDMultiply(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},BigInteger.prototype.dAddOffset=function bnpDAddOffset(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},BigInteger.prototype.multiplyLowerTo=function bnpMultiplyLowerTo(e,t,r){var i,n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,e[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e[n],r,n,0,t-n);r.clamp()},BigInteger.prototype.multiplyUpperTo=function bnpMultiplyUpperTo(e,t,r){--t;var i=r.t=this.t+e.t-t;for(r.s=0;--i>=0;)r[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)r[this.t+i-t]=this.am(t-i,e[i],r,0,0,this.t+i-t);r.clamp(),r.drShiftTo(1,r)},BigInteger.prototype.modInt=function bnpModInt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var i=this.t-1;i>=0;--i)r=(t*r+this[i])%e;return r},BigInteger.prototype.millerRabin=function bnpMillerRabin(e){var t=this.subtract(BigInteger.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var i=t.shiftRight(r);(e=e+1>>1)>I.length&&(e=I.length);for(var n=nbi(),o=0;o<e;++o){n.fromInt(I[Math.floor(Math.random()*I.length)]);var s=n.modPow(i,this);if(0!=s.compareTo(BigInteger.ONE)&&0!=s.compareTo(t)){for(var a=1;a++<r&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},BigInteger.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function bnClone(){var e=nbi();return this.copyTo(e),e},BigInteger.prototype.intValue=function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},BigInteger.prototype.byteValue=function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24},BigInteger.prototype.shortValue=function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16},BigInteger.prototype.signum=function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},BigInteger.prototype.toByteArray=function bnToByteArray(){var e=this.t,t=new Array;t[0]=this.s;var r,i=this.DB-e*this.DB%8,n=0;if(e-- >0)for(i<this.DB&&(r=this[e]>>i)!=(this.s&this.DM)>>i&&(t[n++]=r|this.s<<this.DB-i);e>=0;)i<8?(r=(this[e]&(1<<i)-1)<<8-i,r|=this[--e]>>(i+=this.DB-8)):(r=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==n&&(128&this.s)!=(128&r)&&++n,(n>0||r!=this.s)&&(t[n++]=r);return t},BigInteger.prototype.equals=function bnEquals(e){return 0==this.compareTo(e)},BigInteger.prototype.min=function bnMin(e){return this.compareTo(e)<0?this:e},BigInteger.prototype.max=function bnMax(e){return this.compareTo(e)>0?this:e},BigInteger.prototype.and=function bnAnd(e){var t=nbi();return this.bitwiseTo(e,op_and,t),t},BigInteger.prototype.or=function bnOr(e){var t=nbi();return this.bitwiseTo(e,op_or,t),t},BigInteger.prototype.xor=function bnXor(e){var t=nbi();return this.bitwiseTo(e,op_xor,t),t},BigInteger.prototype.andNot=function bnAndNot(e){var t=nbi();return this.bitwiseTo(e,op_andnot,t),t},BigInteger.prototype.not=function bnNot(){for(var e=nbi(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},BigInteger.prototype.shiftLeft=function bnShiftLeft(e){var t=nbi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},BigInteger.prototype.shiftRight=function bnShiftRight(e){var t=nbi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},BigInteger.prototype.getLowestSetBit=function bnGetLowestSetBit(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+lbit(this[e]);return this.s<0?this.t*this.DB:-1},BigInteger.prototype.bitCount=function bnBitCount(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=cbit(this[r]^t);return e},BigInteger.prototype.testBit=function bnTestBit(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},BigInteger.prototype.setBit=function bnSetBit(e){return this.changeBit(e,op_or)},BigInteger.prototype.clearBit=function bnClearBit(e){return this.changeBit(e,op_andnot)},BigInteger.prototype.flipBit=function bnFlipBit(e){return this.changeBit(e,op_xor)},BigInteger.prototype.add=function bnAdd(e){var t=nbi();return this.addTo(e,t),t},BigInteger.prototype.subtract=function bnSubtract(e){var t=nbi();return this.subTo(e,t),t},BigInteger.prototype.multiply=function bnMultiply(e){var t=nbi();return this.multiplyTo(e,t),t},BigInteger.prototype.divide=function bnDivide(e){var t=nbi();return this.divRemTo(e,t,null),t},BigInteger.prototype.remainder=function bnRemainder(e){var t=nbi();return this.divRemTo(e,null,t),t},BigInteger.prototype.divideAndRemainder=function bnDivideAndRemainder(e){var t=nbi(),r=nbi();return this.divRemTo(e,t,r),new Array(t,r)},BigInteger.prototype.modPow=function bnModPow(e,t){var r,i,n=e.bitLength(),o=nbv(1);if(n<=0)return o;r=n<18?1:n<48?3:n<144?4:n<768?5:6,i=n<8?new Classic(t):t.isEven()?new Barrett(t):new Montgomery(t);var s=new Array,a=3,u=r-1,c=(1<<r)-1;if(s[1]=i.convert(this),r>1){var h=nbi();for(i.sqrTo(s[1],h);a<=c;)s[a]=nbi(),i.mulTo(h,s[a-2],s[a]),a+=2}var l,f,g=e.t-1,p=!0,d=nbi();for(n=nbits(e[g])-1;g>=0;){for(n>=u?l=e[g]>>n-u&c:(l=(e[g]&(1<<n+1)-1)<<u-n,g>0&&(l|=e[g-1]>>this.DB+n-u)),a=r;0==(1&l);)l>>=1,--a;if((n-=a)<0&&(n+=this.DB,--g),p)s[l].copyTo(o),p=!1;else{for(;a>1;)i.sqrTo(o,d),i.sqrTo(d,o),a-=2;a>0?i.sqrTo(o,d):(f=o,o=d,d=f),i.mulTo(d,s[l],o)}for(;g>=0&&0==(e[g]&1<<n);)i.sqrTo(o,d),f=o,o=d,d=f,--n<0&&(n=this.DB-1,--g)}return i.revert(o)},BigInteger.prototype.modInverse=function bnModInverse(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return BigInteger.ZERO;for(var r=e.clone(),i=this.clone(),n=nbv(1),o=nbv(0),s=nbv(0),a=nbv(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(n.isEven()&&o.isEven()||(n.addTo(this,n),o.subTo(e,o)),n.rShiftTo(1,n)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);r.compareTo(i)>=0?(r.subTo(i,r),t&&n.subTo(s,n),o.subTo(a,o)):(i.subTo(r,i),t&&s.subTo(n,s),a.subTo(o,a))}return 0!=i.compareTo(BigInteger.ONE)?BigInteger.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},BigInteger.prototype.pow=function bnPow(e){return this.exp(e,new NullExp)},BigInteger.prototype.gcd=function bnGCD(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var i=t;t=r,r=i}var n=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(n<o&&(o=n),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},BigInteger.prototype.isProbablePrime=function bnIsProbablePrime(e){var t,r=this.abs();if(1==r.t&&r[0]<=I[I.length-1]){for(t=0;t<I.length;++t)if(r[0]==I[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<I.length;){for(var i=I[t],n=t+1;n<I.length&&i<R;)i*=I[n++];for(i=r.modInt(i);t<n;)if(i%I[t++]==0)return!1}return r.millerRabin(e)},BigInteger.prototype.square=function bnSquare(){var e=nbi();return this.squareTo(e),e},Arcfour.prototype.init=function ARC4init(e){var t,r,i;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[r],this.S[r]=i;this.i=0,this.j=0},Arcfour.prototype.next=function ARC4next(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var T,U,D,M=256;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function rng_seed_time(){!function rng_seed_int(e){U[D++]^=255&e,U[D++]^=e>>8&255,U[D++]^=e>>16&255,U[D++]^=e>>24&255,D>=M&&(D-=M)}((new Date).getTime())}if(null==U){var L;if(U=new Array,D=0,void 0!==p&&(void 0!==p.crypto||void 0!==p.msCrypto)){var N=p.crypto||p.msCrypto;if(N.getRandomValues){var O=new Uint8Array(32);for(N.getRandomValues(O),L=0;L<32;++L)U[D++]=O[L]}else if("Netscape"==u.appName&&u.appVersion<"5"){var H=p.crypto.random(32);for(L=0;L<H.length;++L)U[D++]=255&H.charCodeAt(L)}}for(;D<M;)L=Math.floor(65536*Math.random()),U[D++]=L>>>8,U[D++]=255&L;D=0,rng_seed_time()}function rng_get_byte(){if(null==T){for(rng_seed_time(),(T=function prng_newstate(){return new Arcfour}()).init(U),D=0;D<U.length;++D)U[D]=0;D=0}return T.next()}function SecureRandom(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function parseBigInt(e,t){return new BigInteger(e,t)}function oaep_mgf1_arr(e,t,r){for(var i="",n=0;i.length<t;)i+=r(String.fromCharCode.apply(String,e.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return i}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function ECFieldElementFp(e,t){this.x=t,this.q=e}function ECPointFp(e,t,r,i){this.curve=e,this.x=t,this.y=r,this.z=null==i?BigInteger.ONE:i,this.zinv=null}function ECCurveFp(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new ECPointFp(this,null,null)}SecureRandom.prototype.nextBytes=function rng_get_bytes(e){var t;for(t=0;t<e.length;++t)e[t]=rng_get_byte()},RSAKey.prototype.doPublic=function RSADoPublic(e){return e.modPowInt(this.e,this.n)},RSAKey.prototype.setPublic=function RSASetPublic(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=parseBigInt(e,16),this.e=parseInt(t,16)}},RSAKey.prototype.encrypt=function RSAEncrypt(e){var t=function pkcs1pad2(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,i=e.length-1;i>=0&&t>0;){var n=e.charCodeAt(i--);n<128?r[--t]=n:n>127&&n<2048?(r[--t]=63&n|128,r[--t]=n>>6|192):(r[--t]=63&n|128,r[--t]=n>>6&63|128,r[--t]=n>>12|224)}r[--t]=0;for(var o=new SecureRandom,s=new Array;t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);r[--t]=s[0]}return r[--t]=2,r[--t]=0,new BigInteger(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var i=r.toString(16);return 0==(1&i.length)?i:"0"+i},RSAKey.prototype.encryptOAEP=function RSAEncryptOAEP(e,t,r){var i=function oaep_pad(e,t,r,i){var n=V.crypto.MessageDigest,o=V.crypto.Util,s=null;if(r||(r="sha1"),"string"==typeof r&&(s=n.getCanonicalAlgName(r),i=n.getHashLength(s),r=function f(e){return hextorstr(o.hashHex(rstrtohex(e),s))}),e.length+2*i+2>t)throw"Message too long for RSA";var a,u="";for(a=0;a<t-e.length-2*i-2;a+=1)u+="\0";var c=r("")+u+""+e,h=new Array(i);(new SecureRandom).nextBytes(h);var l=oaep_mgf1_arr(h,c.length,r),g=[];for(a=0;a<c.length;a+=1)g[a]=c.charCodeAt(a)^l.charCodeAt(a);var p=oaep_mgf1_arr(g,h.length,r),d=[0];for(a=0;a<h.length;a+=1)d[a+1]=h[a]^p.charCodeAt(a);return new BigInteger(d.concat(g))}(e,this.n.bitLength()+7>>3,t,r);if(null==i)return null;var n=this.doPublic(i);if(null==n)return null;var o=n.toString(16);return 0==(1&o.length)?o:"0"+o},RSAKey.prototype.type="RSA",ECFieldElementFp.prototype.equals=function feFpEquals(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ECFieldElementFp.prototype.toBigInteger=function feFpToBigInteger(){return this.x},ECFieldElementFp.prototype.negate=function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))},ECFieldElementFp.prototype.add=function feFpAdd(e){return new ECFieldElementFp(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.subtract=function feFpSubtract(e){return new ECFieldElementFp(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.multiply=function feFpMultiply(e){return new ECFieldElementFp(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.square=function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))},ECFieldElementFp.prototype.divide=function feFpDivide(e){return new ECFieldElementFp(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ECPointFp.prototype.getX=function pointFpGetX(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ECPointFp.prototype.getY=function pointFpGetY(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ECPointFp.prototype.equals=function pointFpEquals(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(BigInteger.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(BigInteger.ZERO))},ECPointFp.prototype.isInfinity=function pointFpIsInfinity(){return null==this.x&&null==this.y||this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)},ECPointFp.prototype.negate=function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)},ECPointFp.prototype.add=function pointFpAdd(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(r))return BigInteger.ZERO.equals(t)?this.twice():this.curve.getInfinity();var i=new BigInteger("3"),n=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),a=s.multiply(r),u=n.multiply(s),c=t.square().multiply(this.z),h=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(a).multiply(r).mod(this.curve.q),l=u.multiply(i).multiply(t).subtract(o.multiply(a)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),f=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(l),f)},ECPointFp.prototype.twice=function pointFpTwice(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new BigInteger("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),i=r.multiply(this.z),n=i.multiply(r).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=t.square().multiply(e);BigInteger.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(i).mod(this.curve.q),u=s.multiply(e).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(s.square().multiply(s)).mod(this.curve.q),c=i.square().multiply(i).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},ECPointFp.prototype.multiply=function pointFpMultiply(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,i=r.multiply(new BigInteger("3")),n=this.negate(),o=this;for(t=i.bitLength()-2;t>0;--t){o=o.twice();var s=i.testBit(t);s!=r.testBit(t)&&(o=o.add(s?this:n))}return o},ECPointFp.prototype.multiplyTwo=function pointFpMultiplyTwo(e,t,r){var i;i=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var n=this.curve.getInfinity(),o=this.add(t);i>=0;)n=n.twice(),e.testBit(i)?n=r.testBit(i)?n.add(o):n.add(this):r.testBit(i)&&(n=n.add(t)),--i;return n},ECCurveFp.prototype.getQ=function curveFpGetQ(){return this.q},ECCurveFp.prototype.getA=function curveFpGetA(){return this.a},ECCurveFp.prototype.getB=function curveFpGetB(){return this.b},ECCurveFp.prototype.equals=function curveFpEquals(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ECCurveFp.prototype.getInfinity=function curveFpGetInfinity(){return this.infinity},ECCurveFp.prototype.fromBigInteger=function curveFpFromBigInteger(e){return new ECFieldElementFp(this.q,e)},ECCurveFp.prototype.decodePointHex=function curveFpDecodePointHex(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),i=e.substr(t+2,t);return new ECPointFp(this,this.fromBigInteger(new BigInteger(r,16)),this.fromBigInteger(new BigInteger(i,16)));default:return null}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
ECFieldElementFp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ECPointFp.prototype.getEncoded=function(e){var t=function d(e,t){var r=e.toByteArrayUnsigned();if(t<r.length)r=r.slice(r.length-t);else for(;t>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),i=this.getY().toBigInteger(),n=t(r,32);return e?i.isEven()?n.unshift(2):n.unshift(3):(n.unshift(4),n=n.concat(t(i,32))),n},ECPointFp.decodeFrom=function(e,t){t[0];var r=t.length-1,i=t.slice(1,1+r/2),n=t.slice(1+r/2,1+r);i.unshift(0),n.unshift(0);var o=new BigInteger(i),s=new BigInteger(n);return new ECPointFp(e,e.fromBigInteger(o),e.fromBigInteger(s))},ECPointFp.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,i=t.substr(2,r/2),n=t.substr(2+r/2,r/2),o=new BigInteger(i,16),s=new BigInteger(n,16);return new ECPointFp(e,e.fromBigInteger(o),e.fromBigInteger(s))},ECPointFp.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),i=r.square().subtract(this.x).subtract(e.x),n=r.multiply(this.x.subtract(i)).subtract(this.y);return new ECPointFp(this.curve,i,n)},ECPointFp.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(BigInteger.valueOf(2)),t=this.curve.fromBigInteger(BigInteger.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),i=r.square().subtract(this.x.multiply(e)),n=r.multiply(this.x.subtract(i)).subtract(this.y);return new ECPointFp(this.curve,i,n)},ECPointFp.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,i=r.multiply(new BigInteger("3")),n=this.negate(),o=this;for(t=i.bitLength()-2;t>0;--t){o=o.twice();var s=i.testBit(t);s!=r.testBit(t)&&(o=o.add2D(s?this:n))}return o},ECPointFp.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),i=this.curve.getB().toBigInteger(),n=this.curve.getQ(),o=t.multiply(t).mod(n),s=e.multiply(e).multiply(e).add(r.multiply(e)).add(i).mod(n);return o.equals(s)},ECPointFp.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ECPointFp.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(BigInteger.ONE)<0||t.compareTo(e.subtract(BigInteger.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(BigInteger.ONE)<0||r.compareTo(e.subtract(BigInteger.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var K=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function h(e,t,i){return t?r[t]:String.fromCharCode(parseInt(i,16))}var i=new String(""),o=(Object,Array,Object.hasOwnProperty);return function(r,a){var u,c,l=r.match(e),f=l[0],g=!1;"{"===f?u={}:"["===f?u=[]:(u=[],g=!0);for(var p=[u],d=1-g,v=l.length;d<v;++d){var y;switch((f=l[d]).charCodeAt(0)){default:(y=p[0])[c||y.length]=+f,c=void 0;break;case 34:if(-1!==(f=f.substring(1,f.length-1)).indexOf("\\")&&(f=f.replace(t,h)),y=p[0],!c){if(!(y instanceof Array)){c=f||i;break}c=y.length}y[c]=f,c=void 0;break;case 91:y=p[0],p.unshift(y[c||y.length]=[]),c=void 0;break;case 93:p.shift();break;case 102:(y=p[0])[c||y.length]=!1,c=void 0;break;case 110:(y=p[0])[c||y.length]=null,c=void 0;break;case 116:(y=p[0])[c||y.length]=!0,c=void 0;break;case 123:y=p[0],p.unshift(y[c||y.length]={}),c=void 0;break;case 125:p.shift()}}if(g){if(1!==p.length)throw new Error;u=u[0]}else if(p.length)throw new Error;if(a){u=function s(e,t){var r=e[t];if(r&&"object"===(void 0===r?"undefined":n(r))){var i=null;for(var u in r)if(o.call(r,u)&&r!==e){var c=s(r,u);void 0!==c?r[u]=c:(i||(i=[]),i.push(u))}if(i)for(var h=i.length;--h>=0;)delete r[i[h]]}return a.call(e,t,r)}({"":u},"")}return u}}();void 0!==V&&V||(V={}),void 0!==V.asn1&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var i="",n=0;n<r;n++)i+="f";t=new BigInteger(i,16).xor(e).add(BigInteger.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=V.asn1,r=t.DERBoolean,i=t.DERInteger,n=t.DERBitString,o=t.DEROctetString,s=t.DERNull,a=t.DERObjectIdentifier,u=t.DEREnumerated,c=t.DERUTF8String,h=t.DERNumericString,l=t.DERPrintableString,f=t.DERTeletexString,g=t.DERIA5String,p=t.DERUTCTime,d=t.DERGeneralizedTime,v=t.DERSequence,y=t.DERSet,m=t.DERTaggedObject,S=t.ASN1Util.newObject,b=Object.keys(e);if(1!=b.length)throw"key of param shall be only one.";var F=b[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+F+":"))throw"undefined key: "+F;if("bool"==F)return new r(e[F]);if("int"==F)return new i(e[F]);if("bitstr"==F)return new n(e[F]);if("octstr"==F)return new o(e[F]);if("null"==F)return new s(e[F]);if("oid"==F)return new a(e[F]);if("enum"==F)return new u(e[F]);if("utf8str"==F)return new c(e[F]);if("numstr"==F)return new h(e[F]);if("prnstr"==F)return new l(e[F]);if("telstr"==F)return new f(e[F]);if("ia5str"==F)return new g(e[F]);if("utctime"==F)return new p(e[F]);if("gentime"==F)return new d(e[F]);if("seq"==F){for(var _=e[F],w=[],E=0;E<_.length;E++){var x=S(_[E]);w.push(x)}return new v({array:w})}if("set"==F){for(_=e[F],w=[],E=0;E<_.length;E++){x=S(_[E]);w.push(x)}return new y({array:w})}if("tag"==F){var A=e[F];if("[object Array]"===Object.prototype.toString.call(A)&&3==A.length){var C=S(A[2]);return new m({tag:A[0],explicit:A[1],obj:C})}var P={};if(void 0!==A.explicit&&(P.explicit=A.explicit),void 0!==A.tag&&(P.tag=A.tag),void 0===A.obj)throw"obj shall be specified for 'tag'.";return P.obj=S(A.obj),new m(P)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),i=(t=Math.floor(r/40)+"."+r%40,""),n=2;n<e.length;n+=2){var o=("00000000"+parseInt(e.substr(n,2),16).toString(2)).slice(-8);if(i+=o.substr(1,7),"0"==o.substr(0,1))t=t+"."+new BigInteger(i,2).toString(10),i=""}return t},V.asn1.ASN1Util.oidIntToHex=function(e){var t=function e(t){var r=t.toString(16);return 1==r.length&&(r="0"+r),r},r=function d(e){var r="",i=new BigInteger(e,10).toString(2),n=7-i.length%7;7==n&&(n=0);for(var o="",s=0;s<n;s++)o+="0";i=o+i;for(s=0;s<i.length-1;s+=7){var a=i.substr(s,7);s!=i.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",n=e.split("."),o=40*parseInt(n[0])+parseInt(n[1]);i+=t(o),n.splice(0,2);for(var s=0;s<n.length;s++)i+=r(n[s]);return i},V.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},V.asn1.DERAbstractString=function(e){V.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=utf8tohex(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},v.lang.extend(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(e){V.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,r){var i=this.zeroPadding,n=this.localDateToUTC(e),o=String(n.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=o+i(String(n.getMonth()+1),2)+i(String(n.getDate()),2)+i(String(n.getHours()),2)+i(String(n.getMinutes()),2)+i(String(n.getSeconds()),2);if(!0===r){var a=n.getMilliseconds();if(0!=a){var u=i(String(a),3);s=s+"."+(u=u.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,r,i,n,o){var s=new Date(Date.UTC(e,t-1,r,i,n,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},v.lang.extend(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(e){V.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},v.lang.extend(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},v.lang.extend(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(e){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new BigInteger(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},v.lang.extend(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=V.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var i="";for(r=0;r<e.length-1;r+=8){var n=e.substr(r,8),o=parseInt(n,2).toString(16);1==o.length&&(o="0"+o),i+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+i},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},v.lang.extend(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=V.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},v.lang.extend(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},v.lang.extend(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(e){var t=function b(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function a(e){var r="",i=new BigInteger(e,10).toString(2),n=7-i.length%7;7==n&&(n=0);for(var o="",s=0;s<n;s++)o+="0";i=o+i;for(s=0;s<i.length-1;s+=7){var u=i.substr(s,7);s!=i.length-7&&(u="1"+u),r+=t(parseInt(u,2))}return r};V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",n=e.split("."),o=40*parseInt(n[0])+parseInt(n[1]);i+=t(o),n.splice(0,2);for(var s=0;s<n.length;s++)i+=r(n[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(e){var t=V.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},v.lang.extend(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(e){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new BigInteger(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},v.lang.extend(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(e){V.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},v.lang.extend(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(e){V.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},v.lang.extend(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(e){V.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},v.lang.extend(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(e){V.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},v.lang.extend(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(e){V.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},v.lang.extend(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(e){V.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},v.lang.extend(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(e){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},v.lang.extend(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(e){V.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].getEncodedHex()}return this.hV=e,this.hV}},v.lang.extend(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(e){V.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},v.lang.extend(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(e){V.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},v.lang.extend(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var V,q,W,J=new function(){};function stoBA(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function BAtos(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function BAtohex(e){for(var t="",r=0;r<e.length;r++){var i=e[r].toString(16);1==i.length&&(i="0"+i),t+=i}return t}function stohex(e){return BAtohex(stoBA(e))}function b64tob64u(e){return e=(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function b64utob64(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function hextob64u(e){return e.length%2==1&&(e="0"+e),b64tob64u(hex2b64(e))}function b64utohex(e){return b64tohex(b64utob64(e))}function utf8tohex(e){return uricmptohex(encodeURIComponentAll(e))}function hextoutf8(e){return decodeURIComponent(hextouricmp(e))}function hextorstr(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function rstrtohex(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function hextob64(e){return hex2b64(e)}function hextob64nl(e){var t=hextob64(e).replace(/(.{64})/g,"$1\r\n");return t=t.replace(/\r\n$/,"")}function b64nltohex(e){return b64tohex(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function hextopem(e,t){return"-----BEGIN "+t+"-----\r\n"+hextob64nl(e)+"\r\n-----END "+t+"-----\r\n"}function pemtohex(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return b64nltohex(e=void 0!==t?(e=e.replace("-----BEGIN "+t+"-----","")).replace("-----END "+t+"-----",""):(e=e.replace(/-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----/,""))}function zulutomsec(e){var t,r,i,n,o,s,a,u,c,h,l;if(l=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=l[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(l[2])-1,i=parseInt(l[3]),n=parseInt(l[4]),o=parseInt(l[5]),s=parseInt(l[6]),a=0,""!==(c=l[7])&&(h=(c.substr(1)+"00").substr(0,3),a=parseInt(h)),Date.UTC(t,r,i,n,o,s,a);throw"unsupported zulu format: "+e}function zulutosec(e){return~~(zulutomsec(e)/1e3)}function uricmptohex(e){return e.replace(/%/g,"")}function hextouricmp(e){return e.replace(/(..)/g,"%$1")}function ipv6tohex(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var i=":".repeat(7-r+2),n=(e=e.replace("::",i)).split(":");if(8!=n.length)throw t;for(var o=0;o<8;o++)n[o]=("0000"+n[o]).slice(-4);return n.join("")}function hextoipv6(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),""==t[r]&&(t[r]="0");var i=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===i)return e.slice(1,-1);var n="";for(r=0;r<i.length;r++)i[r].length>n.length&&(n=i[r]);return(e=e.replace(n,"::")).slice(1,-1)}function hextoip(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?hextoipv6(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function encodeURIComponentAll(e){for(var t=encodeURIComponent(e),r="",i=0;i<t.length;i++)"%"==t[i]?(r+=t.substr(i,3),i+=2):r=r+"%"+stohex(t[i]);return r}function hextoposhex(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}J.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var r=parseInt(e.substr(t+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},J.getL=function(e,t){var r=J.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},J.getVblen=function(e,t){var r;return""==(r=J.getL(e,t))?-1:("8"===r.substr(0,1)?new BigInteger(r.substr(2),16):new BigInteger(r,16)).intValue()},J.getVidx=function(e,t){var r=J.getLblen(e,t);return r<0?r:t+2*(r+1)},J.getV=function(e,t){var r=J.getVidx(e,t),i=J.getVblen(e,t);return e.substr(r,2*i)},J.getTLV=function(e,t){return e.substr(t,2)+J.getL(e,t)+J.getV(e,t)},J.getNextSiblingIdx=function(e,t){return J.getVidx(e,t)+2*J.getVblen(e,t)},J.getChildIdx=function(e,t){var r=J,i=new Array,n=r.getVidx(e,t);"03"==e.substr(t,2)?i.push(n+2):i.push(n);for(var o=r.getVblen(e,t),s=n,a=0;;){var u=r.getNextSiblingIdx(e,s);if(null==u||u-n>=2*o)break;if(a>=200)break;i.push(u),s=u,a++}return i},J.getNthChildIdx=function(e,t,r){return J.getChildIdx(e,t)[r]},J.getIdxbyList=function(e,t,r,i){var n,o,s=J;if(0==r.length){if(void 0!==i&&e.substr(t,2)!==i)throw"checking tag doesn't match: "+e.substr(t,2)+"!="+i;return t}return n=r.shift(),o=s.getChildIdx(e,t),s.getIdxbyList(e,o[n],r,i)},J.getTLVbyList=function(e,t,r,i){var n=J,o=n.getIdxbyList(e,t,r);if(void 0===o)throw"can't find nthList object";if(void 0!==i&&e.substr(o,2)!=i)throw"checking tag doesn't match: "+e.substr(o,2)+"!="+i;return n.getTLV(e,o)},J.getVbyList=function(e,t,r,i,n){var o,s,a=J;if(void 0===(o=a.getIdxbyList(e,t,r,i)))throw"can't find nthList object";return s=a.getV(e,o),!0===n&&(s=s.substr(2)),s},J.hextooidstr=function(e){var t=function h(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},r=[],i=e.substr(0,2),n=parseInt(i,16);r[0]=new String(Math.floor(n/40)),r[1]=new String(n%40);for(var o=e.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var u=[],c="";for(a=0;a<s.length;a++)128&s[a]?c+=t((127&s[a]).toString(2),7):(c+=t((127&s[a]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var h=r.join(".");return u.length>0&&(h=h+"."+u.join(".")),h},J.dump=function(e,t,r,i){var n=J,o=n.getV,s=n.dump,a=n.getChildIdx,u=e;e instanceof V.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function q(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===r&&(r=0),void 0===i&&(i="");var h=t.ommit_long_octet;if("01"==u.substr(r,2))return"00"==(l=o(u,r))?i+"BOOLEAN FALSE\n":i+"BOOLEAN TRUE\n";if("02"==u.substr(r,2))return i+"INTEGER "+c(l=o(u,r),h)+"\n";if("03"==u.substr(r,2))return i+"BITSTRING "+c(l=o(u,r),h)+"\n";if("04"==u.substr(r,2)){var l=o(u,r);if(n.isASN1HEX(l)){var f=i+"OCTETSTRING, encapsulates\n";return f+=s(l,t,0,i+"  ")}return i+"OCTETSTRING "+c(l,h)+"\n"}if("05"==u.substr(r,2))return i+"NULL\n";if("06"==u.substr(r,2)){var g=o(u,r),p=V.asn1.ASN1Util.oidHexToInt(g),d=V.asn1.x509.OID.oid2name(p),v=p.replace(/\./g," ");return""!=d?i+"ObjectIdentifier "+d+" ("+v+")\n":i+"ObjectIdentifier ("+v+")\n"}if("0c"==u.substr(r,2))return i+"UTF8String '"+hextoutf8(o(u,r))+"'\n";if("13"==u.substr(r,2))return i+"PrintableString '"+hextoutf8(o(u,r))+"'\n";if("14"==u.substr(r,2))return i+"TeletexString '"+hextoutf8(o(u,r))+"'\n";if("16"==u.substr(r,2))return i+"IA5String '"+hextoutf8(o(u,r))+"'\n";if("17"==u.substr(r,2))return i+"UTCTime "+hextoutf8(o(u,r))+"\n";if("18"==u.substr(r,2))return i+"GeneralizedTime "+hextoutf8(o(u,r))+"\n";if("30"==u.substr(r,2)){if("3000"==u.substr(r,4))return i+"SEQUENCE {}\n";f=i+"SEQUENCE\n";var y=t;if((2==(b=a(u,r)).length||3==b.length)&&"06"==u.substr(b[0],2)&&"04"==u.substr(b[b.length-1],2)){d=n.oidname(o(u,b[0]));var m=JSON.parse(JSON.stringify(t));m.x509ExtName=d,y=m}for(var S=0;S<b.length;S++)f+=s(u,y,b[S],i+"  ");return f}if("31"==u.substr(r,2)){f=i+"SET\n";var b=a(u,r);for(S=0;S<b.length;S++)f+=s(u,t,b[S],i+"  ");return f}var F=parseInt(u.substr(r,2),16);if(0!=(128&F)){var _=31&F;if(0!=(32&F)){var f=i+"["+_+"]\n";for(b=a(u,r),S=0;S<b.length;S++)f+=s(u,t,b[S],i+"  ");return f}return"68747470"==(l=o(u,r)).substr(0,8)&&(l=hextoutf8(l)),"subjectAltName"===t.x509ExtName&&2==_&&(l=hextoutf8(l)),f=i+"["+_+"] "+l+"\n"}return i+"UNKNOWN("+u.substr(r,2)+") "+o(u,r)+"\n"},J.isASN1HEX=function(e){var t=J;if(e.length%2==1)return!1;var r=t.getVblen(e,0),i=e.substr(0,2),n=t.getL(e,0);return e.length-i.length-n.length==2*r},J.oidname=function(e){var t=V.asn1;V.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return""===r&&(r=e),r},void 0!==V&&V||(V={}),void 0!==V.lang&&V.lang||(V.lang={}),V.lang.String=function(){},"function"==typeof i?(q=function utf8tob64u(e){return b64tob64u(new i(e,"utf8").toString("base64"))},W=function b64utoutf8(e){return new i(b64utob64(e),"base64").toString("utf8")}):(q=function utf8tob64u(e){return hextob64u(uricmptohex(encodeURIComponentAll(e)))},W=function b64utoutf8(e){return decodeURIComponent(hextouricmp(b64utohex(e)))}),V.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},V.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},V.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},V.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=b64utob64(e),V.lang.String.isBase64(e))},V.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)};void 0!==V&&V||(V={}),void 0!==V.crypto&&V.crypto||(V.crypto={}),V.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var i=this.getDigestInfoHex(e,t),n=r/4;if(i.length+22>n)throw"key is too short for SigAlg: keylen="+r+","+t;for(var o="0001",s="00"+i,a="",u=n-o.length-s.length,c=0;c<u;c+=2)a+="ff";return o+a+s},this.hashString=function(e,t){return new V.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new V.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return new V.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(e)},this.sha256=function(e){return new V.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(e)},this.sha256Hex=function(e){return new V.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(e)},this.sha512=function(e){return new V.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(e)},this.sha512Hex=function(e){return new V.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(e)}},V.crypto.Util.md5=function(e){return new V.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},V.crypto.Util.ripemd160=function(e){return new V.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},V.crypto.Util.SECURERANDOMGEN=new SecureRandom,V.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return V.crypto.Util.SECURERANDOMGEN.nextBytes(t),BAtohex(t)},V.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new BigInteger(V.crypto.Util.getRandomHexOfNbytes(e),16)},V.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return V.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],BAtohex(r)},V.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new BigInteger(V.crypto.Util.getRandomHexOfNbits(e),16)},V.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=V.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(r))return r}},V.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(1==r)throw"biMin is greater than biMax";if(0==r)return e;var i=t.subtract(e);return V.crypto.Util.getRandomBigIntegerZeroToMax(i).add(e)},V.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=V.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=V.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},V.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},V.crypto.MessageDigest.getHashLength=function(e){var t=V.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[r])throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},V.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},V.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=V.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var i=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(i,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=rstrtohex(e)),void(this.pass=y.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":n(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;t=null;if(void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=utf8tohex(e.utf8)),void 0!==e.rstr&&(t=rstrtohex(e.rstr)),void 0!==e.b64&&(t=b64tohex(e.b64)),void 0!==e.b64u&&(t=b64utohex(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=y.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},V.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase())},this._zeroPaddingOfSignature=function(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new V.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e}this.init=function(e,t){var r=null;try{r=void 0===t?z.getKey(e):z.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var e=new V.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof RSAKey&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof RSAKey&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof V.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof V.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new V.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,e,this.ecpubhex);if(this.pubKey instanceof RSAKey&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof RSAKey&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==V.crypto.ECDSA&&this.pubKey instanceof V.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==V.crypto.DSA&&this.pubKey instanceof V.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=z.getKey(e.prvkeypem);this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},V.crypto.Cipher=function(e){},V.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof RSAKey&&t.isPublic){var i=V.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===i)return t.encrypt(e);if("RSAOAEP"===i)return t.encryptOAEP(e,"sha1");var n=i.match(/^RSAOAEP(\d+)$/);if(null!==n)return t.encryptOAEP(e,"sha"+n[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},V.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof RSAKey&&t.isPrivate){var i=V.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===i)return t.decrypt(e);if("RSAOAEP"===i)return t.decryptOAEP(e,"sha1");var n=i.match(/^RSAOAEP(\d+)$/);if(null!==n)return t.decryptOAEP(e,"sha"+n[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},V.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof RSAKey){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null===t||void 0===t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},V.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==V&&V||(V={}),void 0!==V.crypto&&V.crypto||(V.crypto={}),V.crypto.ECDSA=function(e){var t=new SecureRandom;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new BigInteger(e.bitLength(),t).mod(e.subtract(BigInteger.ONE)).add(BigInteger.ONE)},this.setNamedCurve=function(e){this.ecparams=V.crypto.ECParameterDB.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),r=this.ecparams.G.multiply(t),i=r.getX().toBigInteger(),n=r.getY().toBigInteger(),o=this.ecparams.keylen/4,s=("0000000000"+t.toString(16)).slice(-o),a="04"+("0000000000"+i.toString(16)).slice(-o)+("0000000000"+n.toString(16)).slice(-o);return this.setPrivateKeyHex(s),this.setPublicKeyHex(a),{ecprvhex:s,ecpubhex:a}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new BigInteger(t,16),i=this.ecparams.n,n=new BigInteger(e,16);do{var o=this.getBigRandom(i),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(s.compareTo(BigInteger.ZERO)<=0);var a=o.modInverse(i).multiply(n.add(r.multiply(s))).mod(i);return V.crypto.ECDSA.biRSSigToASN1Sig(s,a)},this.sign=function(e,t){var r=t,i=this.ecparams.n,n=BigInteger.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(i),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(s.compareTo(BigInteger.ZERO)<=0);var a=o.modInverse(i).multiply(n.add(r.multiply(s))).mod(i);return this.serializeSig(s,a)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){var i,n,o,s=V.crypto.ECDSA.parseSigHex(t);i=s.r,n=s.s,o=ECPointFp.decodeFromHex(this.ecparams.curve,r);var a=new BigInteger(e,16);return this.verifyRaw(a,i,n,o)},this.verify=function(e,t,r){var i,o,s;if(Bitcoin.Util.isArray(t)){var a=this.parseSig(t);i=a.r,o=a.s}else{if("object"!==(void 0===t?"undefined":n(t))||!t.r||!t.s)throw"Invalid value for signature";i=t.r,o=t.s}if(r instanceof ECPointFp)s=r;else{if(!Bitcoin.Util.isArray(r))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=ECPointFp.decodeFrom(this.ecparams.curve,r)}var u=BigInteger.fromByteArrayUnsigned(e);return this.verifyRaw(u,i,o,s)},this.verifyRaw=function(e,t,r,i){var n=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(BigInteger.ONE)<0||t.compareTo(n)>=0)return!1;if(r.compareTo(BigInteger.ONE)<0||r.compareTo(n)>=0)return!1;var s=r.modInverse(n),a=e.multiply(s).mod(n),u=t.multiply(s).mod(n);return o.multiply(a).add(i.multiply(u)).getX().toBigInteger().mod(n).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),i=t.toByteArraySigned(),n=[];return n.push(2),n.push(r.length),(n=n.concat(r)).push(2),n.push(i.length),(n=n.concat(i)).unshift(n.length),n.unshift(48),n},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:BigInteger.fromByteArrayUnsigned(r),s:BigInteger.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:BigInteger.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:BigInteger.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){var t,r,i,n=J,o=V.crypto.ECDSA.getName,s=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";try{t=s(e,0,[2,0],"06"),r=s(e,0,[1],"04");try{i=s(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t,r,i,n=J,o=V.crypto.ECDSA.getName,s=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";try{s(e,0,[1,0],"06"),t=s(e,0,[1,1],"06"),r=s(e,0,[2,0,1],"04");try{i=s(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t,r,i=J,n=V.crypto.ECDSA.getName,o=i.getVbyList;if(!1===i.isASN1HEX(e))throw"not ASN.1 hex string";try{o(e,0,[0,0],"06"),t=o(e,0,[0,1],"06"),r=o(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}if(this.curveName=n(t),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var r,i,n=J,o=V.crypto.ECDSA.getName,s=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";try{r=s(e,0,[0,t,0,1],"06"),i=s(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}if(this.curveName=o(r),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},V.crypto.ECDSA.parseSigHex=function(e){var t=V.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new BigInteger(t.r,16),s:new BigInteger(t.s,16)}},V.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=J,r=t.getChildIdx,i=t.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var n=r(e,0);if(2!=n.length)throw"number of signature ASN.1 sequence elements seem wrong";var o=n[0],s=n[1];if("02"!=e.substr(o,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(s,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:i(e,o),s:i(e,s)}},V.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=V.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,i=t.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),r.length%32==30&&(r="00"+r),i.length%32==30&&(i="00"+i),r.length%32!=0)throw"unknown ECDSA sig r length error";if(i.length%32!=0)throw"unknown ECDSA sig s length error";return r+i},V.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return V.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},V.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new BigInteger(e,16),i=new BigInteger(t,16);return V.crypto.ECDSA.biRSSigToASN1Sig(r,i)},V.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=V.asn1,i=new r.DERInteger({bigint:e}),n=new r.DERInteger({bigint:t});return new r.DERSequence({array:[i,n]}).getEncodedHex()},V.crypto.ECDSA.getName=function(e){return"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==V&&V||(V={}),void 0!==V.crypto&&V.crypto||(V.crypto={}),V.crypto.ECParameterDB=new function(){var e={},t={};function a(e){return new BigInteger(e,16)}this.getByName=function(r){var i=r;if(void 0!==t[i]&&(i=t[r]),void 0!==e[i])return e[i];throw"unregistered EC curve name: "+i},this.regist=function(r,i,n,o,s,u,c,h,l,f,g,p){e[r]={};var d=a(n),v=a(o),y=a(s),m=a(u),S=a(c),b=new ECCurveFp(d,v,y),F=b.decodePointHex("04"+h+l);e[r].name=r,e[r].keylen=i,e[r].curve=b,e[r].G=F,e[r].n=m,e[r].h=S,e[r].oid=g,e[r].info=p;for(var _=0;_<f.length;_++)t[f[_]]=r}},V.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),V.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),V.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),V.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),V.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),V.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),V.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),V.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var z=function(){var t=function d(e,t,i){return r(y.AES,e,t,i)},r=function k(e,t,r,i){var n=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),s=y.enc.Hex.parse(i),a={};a.key=o,a.iv=s,a.ciphertext=n;var u=e.decrypt(a,o,{iv:s});return y.enc.Hex.stringify(u)},i=function l(e,t,r){return n(y.AES,e,t,r)},n=function g(e,t,r,i){var n=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),s=y.enc.Hex.parse(i),a=e.encrypt(n,o,{iv:s}),u=y.enc.Hex.parse(a.toString());return y.enc.Base64.stringify(u)},s={"AES-256-CBC":{proc:t,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function e(t,i,n){return r(y.TripleDES,t,i,n)},eproc:function o(e,t,r){return n(y.TripleDES,e,t,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function a(e,t,i){return r(y.DES,e,t,i)},eproc:function f(e,t,r){return n(y.DES,e,t,r)},keylen:8,ivlen:8}},u=function n(e){var t={},r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(t.cipher=r[1],t.ivsalt=r[2]);var i=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));i&&(t.type=i[1]);var o=-1,s=0;-1!=e.indexOf("\r\n\r\n")&&(o=e.indexOf("\r\n\r\n"),s=2),-1!=e.indexOf("\n\n")&&(o=e.indexOf("\n\n"),s=1);var a=e.indexOf("-----END");if(-1!=o&&-1!=a){var u=e.substring(o+2*s,a-s);u=u.replace(/\s+/g,""),t.data=u}return t},c=function j(e,t,r){for(var i=r.substring(0,16),n=y.enc.Hex.parse(i),o=y.enc.Utf8.parse(t),a=s[e].keylen+s[e].ivlen,u="",c=null;;){var h=y.algo.MD5.create();if(null!=c&&h.update(c),h.update(o),h.update(n),c=h.finalize(),(u+=y.enc.Hex.stringify(c)).length>=2*a)break}var l={};return l.keyhex=u.substr(0,2*s[e].keylen),l.ivhex=u.substr(2*s[e].keylen,2*s[e].ivlen),l},g=function b(e,t,r,i){var n=y.enc.Base64.parse(e),o=y.enc.Hex.stringify(n);return(0,s[t].proc)(o,r,i)};return{version:"1.0.0",parsePKCS5PEM:function parsePKCS5PEM(e){return u(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function getKeyAndUnusedIvByPasscodeAndIvsalt(e,t,r){return c(e,t,r)},decryptKeyB64:function decryptKeyB64(e,t,r,i){return g(e,t,r,i)},getDecryptedKeyHex:function getDecryptedKeyHex(e,t){var r=u(e),i=(r.type,r.cipher),n=r.ivsalt,o=r.data,s=c(i,t,n).keyhex;return g(o,i,s,n)},getEncryptedPKCS5PEMFromPrvKeyHex:function getEncryptedPKCS5PEMFromPrvKeyHex(e,t,r,i,n){var o="";if(void 0!==i&&null!=i||(i="AES-256-CBC"),void 0===s[i])throw"KEYUTIL unsupported algorithm: "+i;void 0!==n&&null!=n||(n=function m(e){var t=y.lib.WordArray.random(e);return y.enc.Hex.stringify(t)}(s[i].ivlen).toUpperCase());var a=function h(e,t,r,i){return(0,s[t].eproc)(e,r,i)}(t,i,c(i,r,n).keyhex,n);o="-----BEGIN "+e+" PRIVATE KEY-----\r\n";return o+="Proc-Type: 4,ENCRYPTED\r\n",o+="DEK-Info: "+i+","+n+"\r\n",o+="\r\n",o+=a.replace(/(.{64})/g,"$1\r\n"),o+="\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function parseHexOfEncryptedPKCS8(e){var t=J,r=t.getChildIdx,i=t.getV,n={},o=r(e,0);if(2!=o.length)throw"malformed format: SEQUENCE(0).items != 2: "+o.length;n.ciphertext=i(e,o[1]);var s=r(e,o[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=i(e,s[0]))throw"this only supports pkcs5PBES2";var a=r(e,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var u=r(e,a[1]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length;if("2a864886f70d0307"!=i(e,u[0]))throw"this only supports TripleDES";n.encryptionSchemeAlg="TripleDES",n.encryptionSchemeIV=i(e,u[1]);var c=r(e,a[0]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length;if("2a864886f70d01050c"!=i(e,c[0]))throw"this only supports pkcs5PBKDF2";var h=r(e,c[1]);if(h.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+h.length;n.pbkdf2Salt=i(e,h[0]);var l=i(e,h[1]);try{n.pbkdf2Iter=parseInt(l,16)}catch(e){throw"malformed format pbkdf2Iter: "+l}return n},getPBKDF2KeyHexFromParam:function getPBKDF2KeyHexFromParam(e,t){var r=y.enc.Hex.parse(e.pbkdf2Salt),i=e.pbkdf2Iter,n=y.PBKDF2(t,r,{keySize:6,iterations:i});return y.enc.Hex.stringify(n)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function _getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t){var r=pemtohex(e,"ENCRYPTED PRIVATE KEY"),i=this.parseHexOfEncryptedPKCS8(r),n=z.getPBKDF2KeyHexFromParam(i,t),o={};o.ciphertext=y.enc.Hex.parse(i.ciphertext);var s=y.enc.Hex.parse(n),a=y.enc.Hex.parse(i.encryptionSchemeIV),u=y.TripleDES.decrypt(o,s,{iv:a});return y.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function getKeyFromEncryptedPKCS8PEM(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function parsePlainPrivatePKCS8Hex(e){var t=J,r=t.getChildIdx,i=t.getV,n={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=r(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=r(e,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(n.algoid=i(e,s[0]),"06"==e.substr(s[1],2)&&(n.algparam=i(e,s[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return n.keyidx=t.getVidx(e,o[2]),n},getKeyFromPlainPrivatePKCS8PEM:function getKeyFromPlainPrivatePKCS8PEM(e){var t=pemtohex(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function getKeyFromPlainPrivatePKCS8Hex(e){var t,r=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==r.algoid)t=new RSAKey;else if("2a8648ce380401"==r.algoid)t=new V.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw"unsupported private key algorithm";t=new V.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function _getKeyFromPublicPKCS8Hex(e){var t,r=J.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===r)t=new RSAKey;else if("2a8648ce380401"===r)t=new V.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw"unsupported PKCS#8 public key hex";t=new V.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function parsePublicRawRSAKeyHex(e){var t=J,r=t.getChildIdx,i=t.getV,n={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var o=r(e,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(o[0],2))throw"malformed RSA key(code:003)";if(n.n=i(e,o[0]),"02"!=e.substr(o[1],2))throw"malformed RSA key(code:004)";return n.e=i(e,o[1]),n},parsePublicPKCS8Hex:function parsePublicPKCS8Hex(e){var t=J,r=t.getChildIdx,i=t.getV,n={algparam:null},o=r(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=e.substr(s,2))throw"malformed PKCS8 public key(code:001)";var a=r(e,s);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(n.algoid=i(e,a[0]),"06"==e.substr(a[1],2)?n.algparam=i(e,a[1]):"30"==e.substr(a[1],2)&&(n.algparam={},n.algparam.p=t.getVbyList(e,a[1],[0],"02"),n.algparam.q=t.getVbyList(e,a[1],[1],"02"),n.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return n.key=i(e,o[1]).substr(2),n}}}();z.getKey=function(e,t,r){var i=(v=J).getChildIdx,n=(v.getV,v.getVbyList),o=V.crypto,s=o.ECDSA,a=o.DSA,u=RSAKey,c=pemtohex,h=z;if(void 0!==u&&e instanceof u)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new u).setPublic(e.n,e.e),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(C=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(C=new u).setPrivate(e.n,e.e,e.d),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(C=new a).setPublic(e.p,e.q,e.g,e.y),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(C=new a).setPrivate(e.p,e.q,e.g,e.y,e.x),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new u).setPublic(b64utohex(e.n),b64utohex(e.e)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(C=new u).setPrivateEx(b64utohex(e.n),b64utohex(e.e),b64utohex(e.d),b64utohex(e.p),b64utohex(e.q),b64utohex(e.dp),b64utohex(e.dq),b64utohex(e.qi)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(C=new u).setPrivate(b64utohex(e.n),b64utohex(e.e),b64utohex(e.d)),C;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var l=(A=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+b64utohex(e.x)).slice(-l)+("0000000000"+b64utohex(e.y)).slice(-l);return A.setPublicKeyHex(f),A}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){l=(A=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+b64utohex(e.x)).slice(-l)+("0000000000"+b64utohex(e.y)).slice(-l);var g=("0000000000"+b64utohex(e.d)).slice(-l);return A.setPublicKeyHex(f),A.setPrivateKeyHex(g),A}if("pkcs5prv"===r){var p,d=e,v=J;if(9===(p=i(d,0)).length)(C=new u).readPKCS5PrvKeyHex(d);else if(6===p.length)(C=new a).readPKCS5PrvKeyHex(d);else{if(!(p.length>2&&"04"===d.substr(p[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(C=new s).readPKCS5PrvKeyHex(d)}return C}if("pkcs8prv"===r)return C=h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===r)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===r)return X509.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return X509.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var y=pemtohex(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(y)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var m=c(e,"RSA PRIVATE KEY");return h.getKey(m,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var S=n(B=c(e,"DSA PRIVATE KEY"),0,[1],"02"),b=n(B,0,[2],"02"),F=n(B,0,[3],"02"),_=n(B,0,[4],"02"),w=n(B,0,[5],"02");return(C=new a).setPrivate(new BigInteger(S,16),new BigInteger(b,16),new BigInteger(F,16),new BigInteger(_,16),new BigInteger(w,16)),C}if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var E=h.getDecryptedKeyHex(e,t),x=new RSAKey;return x.readPKCS5PrvKeyHex(E),x}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A,C=n(B=h.getDecryptedKeyHex(e,t),0,[1],"04"),P=n(B,0,[2,0],"06"),I=n(B,0,[3,0],"03").substr(2);if(void 0===V.crypto.OID.oidhex2name[P])throw"undefined OID(hex) in KJUR.crypto.OID: "+P;return(A=new s({curve:V.crypto.OID.oidhex2name[P]})).setPublicKeyHex(I),A.setPrivateKeyHex(C),A.isPublic=!1,A}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var B;S=n(B=h.getDecryptedKeyHex(e,t),0,[1],"02"),b=n(B,0,[2],"02"),F=n(B,0,[3],"02"),_=n(B,0,[4],"02"),w=n(B,0,[5],"02");return(C=new a).setPrivate(new BigInteger(S,16),new BigInteger(b,16),new BigInteger(F,16),new BigInteger(_,16),new BigInteger(w,16)),C}if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw"not supported argument"},z.generateKeypair=function(e,t){if("RSA"==e){var r=t;(s=new RSAKey).generate(r,"10001"),s.isPrivate=!0,s.isPublic=!0;var i=new RSAKey,n=s.n.toString(16),o=s.e.toString(16);return i.setPublic(n,o),i.isPrivate=!1,i.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=i,a}if("EC"==e){var s,a,u=t,c=new V.crypto.ECDSA({curve:u}).generateKeyPairHex();return(s=new V.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),s.setPrivateKeyHex(c.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(i=new V.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),i.isPrivate=!1,i.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=i,a}throw"unknown algorithm: "+e},z.getPEM=function(e,t,r,i,n,s){var a=V,u=a.asn1,c=u.DERObjectIdentifier,h=u.DERInteger,l=u.ASN1Util.newObject,f=u.x509.SubjectPublicKeyInfo,g=a.crypto,p=g.DSA,d=g.ECDSA,v=RSAKey;function A(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function B(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function x(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==v&&e instanceof v||void 0!==p&&e instanceof p||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return hextopem(F=new f(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==v&&e instanceof v&&(void 0===r||null==r)&&1==e.isPrivate)return hextopem(F=A(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===r||null==r)&&1==e.isPrivate){var m=new c({name:e.curveName}).getEncodedHex(),S=B(e).getEncodedHex(),b="";return b+=hextopem(m,"EC PARAMETERS"),b+=hextopem(S,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===r||null==r)&&1==e.isPrivate)return hextopem(F=x(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==v&&e instanceof v&&void 0!==r&&null!=r&&1==e.isPrivate){var F=A(e).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",F,r,i,s)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==r&&null!=r&&1==e.isPrivate){F=B(e).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",F,r,i,s)}if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==r&&null!=r&&1==e.isPrivate){F=x(e).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",F,r,i,s)}var _=function o(e,t){var r=w(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},w=function c(e,t){var r=y.lib.WordArray.random(8),i=y.lib.WordArray.random(8),n=y.PBKDF2(t,r,{keySize:6,iterations:100}),o=y.enc.Hex.parse(e),s=y.TripleDES.encrypt(o,n,{iv:i})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=y.enc.Hex.stringify(r),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=y.enc.Hex.stringify(i),a};if("PKCS8PRV"==t&&void 0!=v&&e instanceof v&&1==e.isPrivate){var E=A(e).getEncodedHex();F=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:E}}]}).getEncodedHex();return void 0===r||null==r?hextopem(F,"PRIVATE KEY"):hextopem(S=_(F,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate){E=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),F=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:E}}]}).getEncodedHex();return void 0===r||null==r?hextopem(F,"PRIVATE KEY"):hextopem(S=_(F,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate){E=new h({bigint:e.x}).getEncodedHex(),F=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:E}}]}).getEncodedHex();return void 0===r||null==r?hextopem(F,"PRIVATE KEY"):hextopem(S=_(F,r),"ENCRYPTED PRIVATE KEY")}throw"unsupported object nor format"},z.getKeyFromCSRPEM=function(e){var t=pemtohex(e,"CERTIFICATE REQUEST");return z.getKeyFromCSRHex(t)},z.getKeyFromCSRHex=function(e){var t=z.parseCSRHex(e);return z.getKey(t.p8pubkeyhex,null,"pkcs8pub")},z.parseCSRHex=function(e){var t=J,r=t.getChildIdx,i=t.getTLV,n={},o=e;if("30"!=o.substr(0,2))throw"malformed CSR(code:001)";var s=r(o,0);if(s.length<1)throw"malformed CSR(code:002)";if("30"!=o.substr(s[0],2))throw"malformed CSR(code:003)";var a=r(o,s[0]);if(a.length<3)throw"malformed CSR(code:004)";return n.p8pubkeyhex=i(o,a[2]),n},z.getJWKFromKey=function(e){var t={};if(e instanceof RSAKey&&e.isPrivate)return t.kty="RSA",t.n=hextob64u(e.n.toString(16)),t.e=hextob64u(e.e.toString(16)),t.d=hextob64u(e.d.toString(16)),t.p=hextob64u(e.p.toString(16)),t.q=hextob64u(e.q.toString(16)),t.dp=hextob64u(e.dmp1.toString(16)),t.dq=hextob64u(e.dmq1.toString(16)),t.qi=hextob64u(e.coeff.toString(16)),t;if(e instanceof RSAKey&&e.isPublic)return t.kty="RSA",t.n=hextob64u(e.n.toString(16)),t.e=hextob64u(e.e.toString(16)),t;if(e instanceof V.crypto.ECDSA&&e.isPrivate){if("P-256"!==(i=e.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=i,t.x=hextob64u(r.x),t.y=hextob64u(r.y),t.d=hextob64u(e.prvKeyHex),t}if(e instanceof V.crypto.ECDSA&&e.isPublic){var i;if("P-256"!==(i=e.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=i,t.x=hextob64u(r.x),t.y=hextob64u(r.y),t}throw"not supported key object"},RSAKey.getPosArrayOfChildrenFromHex=function(e){return J.getChildIdx(e,0)},RSAKey.getHexValueArrayOfChildrenFromHex=function(e){var t,r=J.getV,i=r(e,(t=RSAKey.getPosArrayOfChildrenFromHex(e))[0]),n=r(e,t[1]),o=r(e,t[2]),s=r(e,t[3]),a=r(e,t[4]),u=r(e,t[5]),c=r(e,t[6]),h=r(e,t[7]),l=r(e,t[8]);return(t=new Array).push(i,n,o,s,a,u,c,h,l),t},RSAKey.prototype.readPrivateKeyFromPEMString=function(e){var t=pemtohex(e),r=RSAKey.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},RSAKey.prototype.readPKCS5PrvKeyHex=function(e){var t=RSAKey.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},RSAKey.prototype.readPKCS8PrvKeyHex=function(e){var t,r,i,n,o,s,a,u,c=J,h=c.getVbyList;if(!1===c.isASN1HEX(e))throw"not ASN.1 hex string";try{t=h(e,0,[2,0,1],"02"),r=h(e,0,[2,0,2],"02"),i=h(e,0,[2,0,3],"02"),n=h(e,0,[2,0,4],"02"),o=h(e,0,[2,0,5],"02"),s=h(e,0,[2,0,6],"02"),a=h(e,0,[2,0,7],"02"),u=h(e,0,[2,0,8],"02")}catch(e){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(t,r,i,n,o,s,a,u)},RSAKey.prototype.readPKCS5PubKeyHex=function(e){var t=J,r=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var i=t.getChildIdx(e,0);if(2!==i.length||"02"!==e.substr(i[0],2)||"02"!==e.substr(i[1],2))throw"wrong hex for PKCS#5 public key";var n=r(e,i[0]),o=r(e,i[1]);this.setPublic(n,o)},RSAKey.prototype.readPKCS8PubKeyHex=function(e){var t=J;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==t.getTLVbyList(e,0,[0,0]))throw"not PKCS8 RSA public key";var r=t.getTLVbyList(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},RSAKey.prototype.readCertPubKeyHex=function(e,t){var r,i;(r=new X509).readCertHex(e),i=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(i)};var Y=new RegExp("");function _zeroPaddingOfSignature(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e}function pss_mgf1_str(e,t,r){for(var i="",n=0;i.length<t;)i+=hextorstr(r(rstrtohex(e+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return i}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(e){for(var t in V.crypto.Util.DIGESTINFOHEAD){var r=V.crypto.Util.DIGESTINFOHEAD[t],i=r.length;if(e.substring(0,i)==r)return[t,e.substring(i)]}return[]}function X509(){var e=J,t=e.getChildIdx,r=e.getV,i=e.getTLV,n=e.getVbyList,o=e.getTLVbyList,s=e.getIdxbyList,a=e.getVidx,u=e.oidname,c=X509,h=pemtohex;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return n(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return u(n(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return c.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return c.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=n(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getNotAfter=function(){var e=n(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return s(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return s(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return z.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return u(n(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return n(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmName(),r=this.getSignatureValueHex(),i=o(this.hex,0,[0],"30"),n=new V.crypto.Signature({alg:t});return n.init(e),n.updateHex(i),n.verify(r)},this.parseExt=function(){if(3!==this.version)return-1;var r=s(this.hex,0,[0,7,0],"30"),i=t(this.hex,r);this.aExtInfo=new Array;for(var o=0;o<i.length;o++){var u={critical:!1},c=0;3===t(this.hex,i[o]).length&&(u.critical=!0,c=1),u.oid=e.hextooidstr(n(this.hex,i[o],[0],"06"));var h=s(this.hex,i[o],[1+c]);u.vidx=a(this.hex,h),this.aExtInfo.push(u)}},this.getExtInfo=function(e){var t=this.aExtInfo,r=e;if(e.match(/^[0-9.]+$/)||(r=V.asn1.x509.OID.name2oid(e)),""!==r)for(var i=0;i<t.length;i++)if(t[i].oid===r)return t[i]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=r(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var i=r(t,6);return{cA:!0,pathLen:parseInt(i,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=r(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw"malformed key usage value";var i=parseInt(t.substr(0,2)),n=parseInt(t.substr(2),16).toString(2);return n.substr(0,n.length-i)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,r=0;r<e.length;r++)"1"==e.substr(r,1)&&t.push(X509.KEYUSAGE_NAME[r]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:r(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var n={},o=i(this.hex,e.vidx),s=t(o,0),a=0;a<s.length;a++)"80"===o.substr(s[a],2)&&(n.kid=r(o,s[a]));return n},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var n=new Array,o=i(this.hex,e.vidx);if(""===o)return n;for(var s=t(o,0),a=0;a<s.length;a++)n.push(u(r(o,s[a])));return n},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,r=0;r<e.length;r++)"DNS"===e[r][0]&&t.push(e[r][1]);return t},this.getExtSubjectAltName2=function(){var e,n,o,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var a=new Array,u=i(this.hex,s.vidx),c=t(u,0),h=0;h<c.length;h++)o=u.substr(c[h],2),e=r(u,c[h]),"81"===o&&(n=hextoutf8(e),a.push(["MAIL",n])),"82"===o&&(n=hextoutf8(e),a.push(["DNS",n])),"84"===o&&(n=X509.hex2dn(e,0),a.push(["DN",n])),"86"===o&&(n=hextoutf8(e),a.push(["URI",n])),"87"===o&&(n=hextoip(e),a.push(["IP",n]));return a},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var r=new Array,i=t(this.hex,e.vidx),o=0;o<i.length;o++)try{var s=hextoutf8(n(this.hex,i[o],[0,0,0],"86"));r.push(s)}catch(e){}return r},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var r={ocsp:[],caissuer:[]},i=t(this.hex,e.vidx),o=0;o<i.length;o++){var s=n(this.hex,i[o],[0],"06"),a=n(this.hex,i[o],[1],"86");"2b06010505073001"===s&&r.ocsp.push(hextoutf8(a)),"2b06010505073002"===s&&r.caissuer.push(hextoutf8(a))}return r},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var o=i(this.hex,e.vidx),s=[],a=t(o,0),c=0;c<a.length;c++){var h={},l=t(o,a[c]);if(h.id=u(r(o,l[0])),2===l.length)for(var f=t(o,l[1]),g=0;g<f.length;g++){var p=n(o,f[g],[0],"06");"2b06010505070201"===p?h.cps=hextoutf8(n(o,f[g],[1])):"2b06010505070202"===p&&(h.unotice=hextoutf8(n(o,f[g],[1,0])))}s.push(h)}return s},this.readCertPEM=function(e){this.readCertHex(h(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{s(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getInfo=function(){var e,t,r;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+hextoposhex(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+hextoposhex(t.e.toString(16))+"\n"),void 0!==(r=this.aExtInfo)&&null!==r){e+="X509v3 Extensions:\n";for(var i=0;i<r.length;i++){var n=r[i],o=V.asn1.x509.OID.oid2name(n.oid);""===o&&(o=n.oid);var s="";if(!0===n.critical&&(s="CRITICAL"),e+="  "+o+" "+s+":\n","basicConstraints"===o){var a=this.getExtBasicConstraints();void 0===a.cA?e+="    {}\n":(e+="    cA=true",void 0!==a.pathLen&&(e+=", pathLen="+a.pathLen),e+="\n")}else if("keyUsage"===o)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===o)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===o){var u=this.getExtAuthorityKeyIdentifier();void 0!==u.kid&&(e+="    kid="+u.kid+"\n")}else{if("extKeyUsage"===o)e+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===o)e+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===o)e+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===o){var c=this.getExtAIAInfo();void 0!==c.ocsp&&(e+="    ocsp: "+c.ocsp.join(",")+"\n"),void 0!==c.caissuer&&(e+="    caissuer: "+c.caissuer.join(",")+"\n")}else if("certificatePolicies"===o)for(var h=this.getExtCertificatePolicies(),l=0;l<h.length;l++)void 0!==h[l].id&&(e+="    policy oid: "+h[l].id+"\n"),void 0!==h[l].cps&&(e+="    cps: "+h[l].cps+"\n")}}}return e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",e+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}Y.compile("[^0-9a-f]","gi"),RSAKey.prototype.sign=function(e,t){var r=function b(e){return V.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(r,t)},RSAKey.prototype.signWithMessageHash=function(e,t){var r=parseBigInt(V.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return _zeroPaddingOfSignature(this.doPrivate(r).toString(16),this.n.bitLength())},RSAKey.prototype.signPSS=function(e,t,r){var i=function c(e){return V.crypto.Util.hashHex(e,t)}(rstrtohex(e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(i,t,r)},RSAKey.prototype.signWithMessageHashPSS=function(e,t,r){var i,n=hextorstr(e),s=n.length,a=this.n.bitLength()-1,u=Math.ceil(a/8),c=function o(e){return V.crypto.Util.hashHex(e,t)};if(-1===r||void 0===r)r=s;else if(-2===r)r=u-s-2;else if(r<-2)throw"invalid salt length";if(u<s+r+2)throw"data too long";var h="";r>0&&(h=new Array(r),(new SecureRandom).nextBytes(h),h=String.fromCharCode.apply(String,h));var l=hextorstr(c(rstrtohex("\0\0\0\0\0\0\0\0"+n+h))),f=[];for(i=0;i<u-r-s-2;i+=1)f[i]=0;var g=String.fromCharCode.apply(String,f)+""+h,p=pss_mgf1_str(l,g.length,c),d=[];for(i=0;i<g.length;i+=1)d[i]=g.charCodeAt(i)^p.charCodeAt(i);var v=65280>>8*u-a&255;for(d[0]&=~v,i=0;i<s;i++)d.push(l.charCodeAt(i));return d.push(188),_zeroPaddingOfSignature(this.doPrivate(new BigInteger(d)).toString(16),this.n.bitLength())},RSAKey.prototype.verify=function(e,t){var r=parseBigInt(t=(t=t.replace(Y,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var i=_rsasign_getAlgNameAndHashFromHexDisgestInfo(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;var n=i[0];return i[1]==function a(e){return V.crypto.Util.hashString(e,n)}(e)},RSAKey.prototype.verifyWithMessageHash=function(e,t){var r=parseBigInt(t=(t=t.replace(Y,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var i=_rsasign_getAlgNameAndHashFromHexDisgestInfo(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;i[0];return i[1]==e},RSAKey.prototype.verifyPSS=function(t,r,i,n){var o=function e(t){return V.crypto.Util.hashHex(t,i)}(rstrtohex(t));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(o,r,i,n)},RSAKey.prototype.verifyWithMessageHashPSS=function(e,t,i,n){var o=new BigInteger(t,16);if(o.bitLength()>this.n.bitLength())return!1;var s,a=function r(e){return V.crypto.Util.hashHex(e,i)},u=hextorstr(e),c=u.length,h=this.n.bitLength()-1,l=Math.ceil(h/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw"invalid salt length";if(l<c+n+2)throw"data too long";var f=this.doPublic(o).toByteArray();for(s=0;s<f.length;s+=1)f[s]&=255;for(;f.length<l;)f.unshift(0);if(188!==f[l-1])throw"encoded message does not end in 0xbc";var g=(f=String.fromCharCode.apply(String,f)).substr(0,l-c-1),p=f.substr(g.length,c),d=65280>>8*l-h&255;if(0!=(g.charCodeAt(0)&d))throw"bits beyond keysize not zero";var v=pss_mgf1_str(p,g.length,a),y=[];for(s=0;s<g.length;s+=1)y[s]=g.charCodeAt(s)^v.charCodeAt(s);y[0]&=~d;var m=l-c-n-2;for(s=0;s<m;s+=1)if(0!==y[s])throw"leftmost octets not zero";if(1!==y[m])throw"0x01 marker not found";return p===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+u+String.fromCharCode.apply(String,y.slice(-n)))))},RSAKey.SALT_LEN_HLEN=-1,RSAKey.SALT_LEN_MAX=-2,RSAKey.SALT_LEN_RECOVER=-2,X509.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var r=new Array,i=J.getChildIdx(e,t),n=0;n<i.length;n++)r.push(X509.hex2rdn(e,i[n]));return"/"+(r=r.map(function(e){return e.replace("/","\\/")})).join("/")},X509.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var r=new Array,i=J.getChildIdx(e,t),n=0;n<i.length;n++)r.push(X509.hex2attrTypeValue(e,i[n]));return(r=r.map(function(e){return e.replace("+","\\+")})).join("+")},X509.hex2attrTypeValue=function(e,t){var r=J,i=r.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var n=r.getChildIdx(e,t);2!==n.length||e.substr(n[0],2);var o=i(e,n[0]),s=V.asn1.ASN1Util.oidHexToInt(o);return V.asn1.x509.OID.oid2atype(s)+"="+hextorstr(i(e,n[1]))},X509.getPublicKeyFromCertHex=function(e){var t=new X509;return t.readCertHex(e),t.getPublicKey()},X509.getPublicKeyFromCertPEM=function(e){var t=new X509;return t.readCertPEM(e),t.getPublicKey()},X509.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,i=J.getVbyList,n={};return n.algparam=null,(t=new X509).readCertPEM(e),r=t.getPublicKeyHex(),n.keyhex=i(r,0,[1],"03").substr(2),n.algoid=i(r,0,[0,0],"06"),"2a8648ce3d0201"===n.algoid&&(n.algparam=i(r,0,[0,1],"06")),n},X509.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==V&&V||(V={}),void 0!==V.jws&&V.jws||(V.jws={}),V.jws.JWS=function(){var e=V.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var i=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==i)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var n=i[1],o=i[2],s=i[3],a=n+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=n,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!r){var u=b64utohex(s),c=parseBigInt(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var h=W(n),l=W(o);if(this.parsedJWS.headS=h,this.parsedJWS.payloadS=l,!e(h,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+h}}},V.jws.JWS.sign=function(e,t,r,i,o){var s,a,u,c=V,h=c.jws.JWS,l=h.readSafeJSONString,f=h.isSafeJSONString,g=c.crypto,p=(g.ECDSA,g.Mac),d=g.Signature,v=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":n(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":n(t))&&(a=t,s=v.stringify(a)),"string"==typeof t){if(!f(s=t))throw"JWS Head is not safe JSON string: "+s;a=l(s)}if(u=r,"object"==(void 0===r?"undefined":n(r))&&(u=v.stringify(r)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,s=v.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var y=null;if(void 0===h.jwsalg2sigalg[e])throw"unsupported alg name: "+e;y=h.jwsalg2sigalg[e];var m=q(s)+"."+q(u),S="";if("Hmac"==y.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var b=new p({alg:y,prov:"cryptojs",pass:i});b.updateString(m),S=b.doFinal()}else{var F;if(-1!=y.indexOf("withECDSA"))(F=new d({alg:y})).init(i,o),F.updateString(m),hASN1Sig=F.sign(),S=V.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig);else if("none"!=y)(F=new d({alg:y})).init(i,o),F.updateString(m),S=F.sign()}return m+"."+hextob64u(S)},V.jws.JWS.verify=function(e,t,r){var i,o=V,s=o.jws.JWS,a=s.readSafeJSONString,u=o.crypto,c=u.ECDSA,h=u.Mac,l=u.Signature;void 0!==n(RSAKey)&&(i=RSAKey);var f=e.split(".");if(3!==f.length)return!1;var g=f[0]+"."+f[1],p=b64utohex(f[2]),d=a(W(f[0])),v=null,y=null;if(void 0===d.alg)throw"algorithm not specified in header";if((y=(v=d.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0)&&-1==(":"+r.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=z.getKey(t)),!("RS"!=y&&"PS"!=y||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==y&&!(t instanceof c))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===s.jwsalg2sigalg[d.alg])throw"unsupported alg name: "+v;if("none"==(m=s.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var S=new h({alg:m,pass:t});return S.updateString(g),p==S.doFinal()}if(-1!=m.indexOf("withECDSA")){var b,F=null;try{F=c.concatSigToASN1Sig(p)}catch(e){return!1}return(b=new l({alg:m})).init(t),b.updateString(g),b.verify(F)}return(b=new l({alg:m})).init(t),b.updateString(g),b.verify(p)},V.jws.JWS.parse=function(e){var t,r,i,n=e.split("."),o={};if(2!=n.length&&3!=n.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=n[0],r=n[1],3==n.length&&(i=n[2]),o.headerObj=V.jws.JWS.readSafeJSONString(W(t)),o.payloadObj=V.jws.JWS.readSafeJSONString(W(r)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=W(r):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==i&&(o.sigHex=b64utohex(i)),o},V.jws.JWS.verifyJWT=function(e,t,r){var i=V.jws,o=i.JWS,s=o.readSafeJSONString,a=o.inArray,u=o.includedArray,c=e.split("."),h=c[0],l=c[1],f=(b64utohex(c[2]),s(W(h))),g=s(W(l));if(void 0===f.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!a(f.alg,r.alg))return!1;if(void 0!==g.iss&&"object"===n(r.iss)&&!a(g.iss,r.iss))return!1;if(void 0!==g.sub&&"object"===n(r.sub)&&!a(g.sub,r.sub))return!1;if(void 0!==g.aud&&"object"===n(r.aud))if("string"==typeof g.aud){if(!a(g.aud,r.aud))return!1}else if("object"==n(g.aud)&&!u(g.aud,r.aud))return!1;var p=i.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==g.exp&&"number"==typeof g.exp&&g.exp+r.gracePeriod<p)&&(!(void 0!==g.nbf&&"number"==typeof g.nbf&&p<g.nbf-r.gracePeriod)&&(!(void 0!==g.iat&&"number"==typeof g.iat&&p<g.iat-r.gracePeriod)&&((void 0===g.jti||void 0===r.jti||g.jti===r.jti)&&!!o.verify(e,t,r.alg))))},V.jws.JWS.includedArray=function(e,t){var r=V.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":n(e)))return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!r(e[i],t))return!1;return!0},V.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":n(t)))return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},V.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},V.jws.JWS.isSafeJSONString=function(e,t,r){var i=null;try{return"object"!=(void 0===(i=K(e))?"undefined":n(i))?0:i.constructor===Array?0:(t&&(t[r]=i),1)}catch(e){return 0}},V.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=K(e))?"undefined":n(t))?null:t.constructor===Array?null:t}catch(e){return null}},V.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},V.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=rstrtohex(t);return hextob64u(V.crypto.Util.hashHex(r,"sha256"))},V.jws.IntDate={},V.jws.IntDate.get=function(e){var t=V.jws.IntDate,r=t.getNow,i=t.getZulu;if("now"==e)return r();if("now + 1hour"==e)return r()+3600;if("now + 1day"==e)return r()+86400;if("now + 1month"==e)return r()+2592e3;if("now + 1year"==e)return r()+31536e3;if(e.match(/Z$/))return i(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},V.jws.IntDate.getZulu=function(e){return zulutosec(e)},V.jws.IntDate.getNow=function(){return~~(new Date/1e3)},V.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},V.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=SecureRandom,t.rng_seed_time=rng_seed_time,t.BigInteger=BigInteger,t.RSAKey=RSAKey,t.ECDSA=V.crypto.ECDSA,t.DSA=V.crypto.DSA,t.Signature=V.crypto.Signature,t.MessageDigest=V.crypto.MessageDigest,t.Mac=V.crypto.Mac,t.Cipher=V.crypto.Cipher,t.KEYUTIL=z,t.ASN1HEX=J,t.X509=X509,t.CryptoJS=y,t.b64tohex=b64tohex,t.b64toBA=b64toBA,t.stoBA=stoBA,t.BAtos=BAtos,t.BAtohex=BAtohex,t.stohex=stohex,t.stob64=function stob64(e){return hex2b64(stohex(e))},t.stob64u=function stob64u(e){return b64tob64u(hex2b64(stohex(e)))},t.b64utos=function b64utos(e){return BAtos(b64toBA(b64utob64(e)))},t.b64tob64u=b64tob64u,t.b64utob64=b64utob64,t.hex2b64=hex2b64,t.hextob64u=hextob64u,t.b64utohex=b64utohex,t.utf8tob64u=q,t.b64utoutf8=W,t.utf8tob64=function utf8tob64(e){return hex2b64(uricmptohex(encodeURIComponentAll(e)))},t.b64toutf8=function b64toutf8(e){return decodeURIComponent(hextouricmp(b64tohex(e)))},t.utf8tohex=utf8tohex,t.hextoutf8=hextoutf8,t.hextorstr=hextorstr,t.rstrtohex=rstrtohex,t.hextob64=hextob64,t.hextob64nl=hextob64nl,t.b64nltohex=b64nltohex,t.hextopem=hextopem,t.pemtohex=pemtohex,t.hextoArrayBuffer=function hextoArrayBuffer(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),r=new DataView(t),i=0;i<e.length/2;i++)r.setUint8(i,parseInt(e.substr(2*i,2),16));return t},t.ArrayBuffertohex=function ArrayBuffertohex(e){for(var t="",r=new DataView(e),i=0;i<e.byteLength;i++)t+=("00"+r.getUint8(i).toString(16)).slice(-2);return t},t.zulutomsec=zulutomsec,t.zulutosec=zulutosec,t.zulutodate=function zulutodate(e){return new Date(zulutomsec(e))},t.datetozulu=function datetozulu(e,t,r){var i,n=e.getUTCFullYear();if(t){if(n<1950||2049<n)throw"not proper year for UTCTime: "+n;i=(""+n).slice(-2)}else i=("000"+n).slice(-4);if(i+=("0"+(e.getUTCMonth()+1)).slice(-2),i+=("0"+e.getUTCDate()).slice(-2),i+=("0"+e.getUTCHours()).slice(-2),i+=("0"+e.getUTCMinutes()).slice(-2),i+=("0"+e.getUTCSeconds()).slice(-2),r){var o=e.getUTCMilliseconds();0!==o&&(i+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return i+="Z"},t.uricmptohex=uricmptohex,t.hextouricmp=hextouricmp,t.ipv6tohex=ipv6tohex,t.hextoipv6=hextoipv6,t.hextoip=hextoip,t.iptohex=function iptohex(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return ipv6tohex(e);throw t}var r=e.split(".");if(4!==r.length)throw t;var i="";try{for(var n=0;n<4;n++)i+=("0"+parseInt(r[n]).toString(16)).slice(-2);return i}catch(e){throw t}},t.encodeURIComponentAll=encodeURIComponentAll,t.newline_toUnix=function newline_toUnix(e){return e=e.replace(/\r\n/gm,"\n")},t.newline_toDos=function newline_toDos(e){return e=(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=hextoposhex,t.intarystrtohex=function intarystrtohex(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map(function(e,t,r){var i=parseInt(e);if(i<0||255<i)throw"integer not in range 0-255";return("00"+i.toString(16)).slice(-2)}).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function strdiffidx(e,t){var r=e.length;e.length>t.length&&(r=t.length);for(var i=0;i<r;i++)if(e.charCodeAt(i)!=t.charCodeAt(i))return i;return e.length!=t.length?r:-1},t.KJUR=V,t.crypto=V.crypto,t.asn1=V.asn1,t.jws=V.jws,t.lang=V.lang}).call(this,r(40).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var i=r(41),n=r(0);var o=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];t.JoseUtil=function(){function JoseUtil(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,JoseUtil)}return JoseUtil.parseJwt=function parseJwt(e){n.Log.debug("JoseUtil.parseJwt");try{var t=i.jws.JWS.parse(e);return{header:t.headerObj,payload:t.payloadObj}}catch(e){n.Log.error(e)}},JoseUtil.validateJwt=function validateJwt(e,t,r,o,s,a){n.Log.debug("JoseUtil.validateJwt");try{if("RSA"===t.kty)if(t.e&&t.n)t=i.KEYUTIL.getKey(t);else{if(!t.x5c||!t.x5c.length)return n.Log.error("JoseUtil.validateJwt: RSA key missing key material",t),Promise.reject(new Error("RSA key missing key material"));var u=(0,i.b64tohex)(t.x5c[0]);t=i.X509.getPublicKeyFromCertHex(u)}else{if("EC"!==t.kty)return n.Log.error("JoseUtil.validateJwt: Unsupported key type",t&&t.kty),Promise.reject(new Error( true&&t.kty));if(!(t.crv&&t.x&&t.y))return n.Log.error("JoseUtil.validateJwt: EC key missing key material",t),Promise.reject(new Error("EC key missing key material"));t=i.KEYUTIL.getKey(t)}return JoseUtil._validateJwt(e,t,r,o,s,a)}catch(e){return n.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},JoseUtil._validateJwt=function _validateJwt(e,t,r,s,a,u){a||(a=0),u||(u=parseInt(Date.now()/1e3));var c=JoseUtil.parseJwt(e).payload;if(!c.iss)return n.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(c.iss!==r)return n.Log.error("JoseUtil._validateJwt: Invalid issuer in token",c.iss),Promise.reject(new Error("Invalid issuer in token: "+c.iss));if(!c.aud)return n.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(c.aud===s||Array.isArray(c.aud)&&c.aud.indexOf(s)>=0))return n.Log.error("JoseUtil._validateJwt: Invalid audience in token",c.aud),Promise.reject(new Error("Invalid audience in token: "+c.aud));var h=u+a,l=u-a;if(!c.iat)return n.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(h<c.iat)return n.Log.error("JoseUtil._validateJwt: iat is in the future",c.iat),Promise.reject(new Error("iat is in the future: "+c.iat));if(c.nbf&&h<c.nbf)return n.Log.error("JoseUtil._validateJwt: nbf is in the future",c.nbf),Promise.reject(new Error("nbf is in the future: "+c.nbf));if(!c.exp)return n.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(c.exp<l)return n.Log.error("JoseUtil._validateJwt: exp is in the past",c.exp),Promise.reject(new Error("exp is in the past:"+c.exp));try{if(!i.jws.JWS.verify(e,t,o))return n.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed"))}catch(e){return n.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}return Promise.resolve()},JoseUtil.hashString=function hashString(e,t){try{return i.crypto.Util.hashString(e,t)}catch(e){n.Log.error(e)}},JoseUtil.hexToBase64Url=function hexToBase64Url(e){try{return(0,i.hextob64u)(e)}catch(e){n.Log.error(e)}},JoseUtil}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var i=r(17),n=r(3),o=r(0);t.UserInfoService=function(){function UserInfoService(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.JsonService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.MetadataService;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserInfoService),!e)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=e,this._jsonService=new t,this._metadataService=new r(this._settings)}return UserInfoService.prototype.getClaims=function getClaims(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then(function(r){return o.Log.debug("UserInfoService.getClaims: received userinfo url",r),t._jsonService.getJson(r,e).then(function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},UserInfoService}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var i=r(0),n=r(3),o=r(43),s=r(16),a=r(42);var u=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function ResponseValidator(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UserInfoService,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResponseValidator),!e)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=e,this._metadataService=new t(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=s}return ResponseValidator.prototype.validateSigninResponse=function validateSigninResponse(e,t){var r=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then(function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),r._validateTokens(e,t).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),r._processClaims(e).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e})})})},ResponseValidator.prototype.validateSignoutResponse=function validateSignoutResponse(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new s.ErrorResponse(t))):Promise.resolve(t))},ResponseValidator.prototype._processSigninParams=function _processSigninParams(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new s.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):Promise.resolve(t)},ResponseValidator.prototype._processClaims=function _processClaims(e){var t=this;if(e.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),e.profile=this._filterProtocolClaims(e.profile),this._settings.loadUserInfo&&e.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(e.access_token).then(function(r){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),r.sub!==e.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in access_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in access_token"))):(e.profile=t._mergeClaims(e.profile,r),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",e.profile),e)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(e)},ResponseValidator.prototype._mergeClaims=function _mergeClaims(e,t){var r=Object.assign({},e);for(var i in t){var n=t[i];Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var s=n[o];r[i]?Array.isArray(r[i])?r[i].indexOf(s)<0&&r[i].push(s):r[i]!==s&&(r[i]=[r[i],s]):r[i]=s}}return r},ResponseValidator.prototype._filterProtocolClaims=function _filterProtocolClaims(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(u.forEach(function(e){delete t[e]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},ResponseValidator.prototype._validateTokens=function _validateTokens(e,t){return t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No id_token to validate"),Promise.resolve(t))},ResponseValidator.prototype._validateIdTokenAndAccessToken=function _validateIdTokenAndAccessToken(e,t){var r=this;return this._validateIdToken(e,t).then(function(e){return r._validateAccessToken(e)})},ResponseValidator.prototype._validateIdToken=function _validateIdToken(e,t){var r=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var n=this._joseUtil.parseJwt(t.id_token);if(!n||!n.header||!n.payload)return i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",n),Promise.reject(new Error("Failed to parse id_token"));if(e.nonce!==n.payload.nonce)return i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"));var o=n.header.kid;return this._metadataService.getIssuer().then(function(s){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),r._metadataService.getSigningKeys().then(function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var u=void 0;if(o)u=a.filter(function(e){return e.kid===o})[0];else{if((a=r._filterByAlg(a,n.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));u=a[0]}if(!u)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var c=e.client_id,h=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",h),r._joseUtil.validateJwt(t.id_token,u,s,c,h).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),n.payload.sub?(t.profile=n.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},ResponseValidator.prototype._filterByAlg=function _filterByAlg(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];r="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",r),e=e.filter(function(e){return e.kty===r}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",r,e.length),e},ResponseValidator.prototype._validateAccessToken=function _validateAccessToken(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var r=t.header.alg;if(!r||5!==r.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r),Promise.reject(new Error("Unsupported alg: "+r));var n=r.substr(2,3);if(!n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));if(256!==(n=parseInt(n))&&384!==n&&512!==n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));var o="sha"+n,s=this._joseUtil.hashString(e.access_token,o);if(!s)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var a=s.substr(0,s.length/2),u=this._joseUtil.hexToBase64Url(a);return u!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",u,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},ResponseValidator}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(18),o=r(6),s=r(5),a=r(31),u=r(30),c=r(12),h=r(3),l=r(20),f=r(19),g=r(9),p=r(8),d=r(10),v=r(1),y=r(13);t.default={Log:i.Log,OidcClient:n.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:h.MetadataService,CordovaPopupNavigator:l.CordovaPopupNavigator,CordovaIFrameNavigator:f.CordovaIFrameNavigator,CheckSessionIFrame:g.CheckSessionIFrame,TokenRevocationClient:p.TokenRevocationClient,SessionMonitor:d.SessionMonitor,Global:v.Global,User:y.User},e.exports=t.default}])});

/***/ }),

/***/ "./src/IdmsClient.ts":
/*!***************************!*\
  !*** ./src/IdmsClient.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var oidc_client_1 = __webpack_require__(/*! oidc-client */ "./node_modules/oidc-client/lib/oidc-client.min.js");
var IdmsUser_1 = __webpack_require__(/*! ./IdmsUser */ "./src/IdmsUser.ts");
var IdmsClient = /** @class */ (function () {
    function IdmsClient(clientSettings) {
        if (clientSettings) {
            var userMangerSettings = {
                authority: clientSettings.authority,
                client_id: clientSettings.clientId,
                redirect_uri: clientSettings.redirectUri,
                silent_redirect_uri: clientSettings.silentRefreshRedirectUri,
                post_logout_redirect_uri: clientSettings.logoutRedirectUri,
                response_type: clientSettings.responseType,
                scope: clientSettings.scope
            };
            this._userManager = new oidc_client_1.UserManager(userMangerSettings);
        }
        else {
            this._userManager = new oidc_client_1.UserManager({});
        }
    }
    IdmsClient.prototype.login = function () {
        return this._userManager.signinRedirect();
    };
    IdmsClient.prototype.logout = function () {
        return this._userManager.signoutRedirect();
    };
    IdmsClient.prototype.getUser = function () {
        return this._userManager.getUser().then(function (user) {
            var idmsUser = new IdmsUser_1.IdmsUser();
            idmsUser.accessToken = user.access_token;
            return idmsUser;
        });
    };
    IdmsClient.prototype.signinRedirectCallback = function () {
        return this._userManager.signinRedirectCallback().then(function (user) {
            var idmsUser = new IdmsUser_1.IdmsUser();
            idmsUser.accessToken = user.access_token;
            return idmsUser;
        });
    };
    IdmsClient.prototype.signinPopupCallback = function () {
        return this._userManager.signinPopupCallback().then(function (user) {
            var idmsUser = new IdmsUser_1.IdmsUser();
            idmsUser.accessToken = user.access_token;
            return idmsUser;
        });
    };
    IdmsClient.prototype.signinSilentCallback = function () {
        return this._userManager.signinSilentCallback();
    };
    return IdmsClient;
}());
exports.IdmsClient = IdmsClient;


/***/ }),

/***/ "./src/IdmsUser.ts":
/*!*************************!*\
  !*** ./src/IdmsUser.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var IdmsUser = /** @class */ (function () {
    function IdmsUser() {
    }
    Object.defineProperty(IdmsUser.prototype, "accessToken", {
        get: function () {
            return this._accessToken;
        },
        set: function (v) {
            this._accessToken = v;
        },
        enumerable: true,
        configurable: true
    });
    return IdmsUser;
}());
exports.IdmsUser = IdmsUser;


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29pZGMtY2xpZW50L2xpYi9vaWRjLWNsaWVudC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0lkbXNDbGllbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0lkbXNVc2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ2xGQSxnREFBZ0QsR0FBRyxJQUFpRCxvQkFBb0IsS0FBSyxhQUFpSSxDQUFDLG1CQUFtQixtQkFBbUIsU0FBUyxnQ0FBZ0MsNEJBQTRCLFlBQVkscUJBQXFCLDZFQUE2RSw2RkFBNkYsdURBQXVELG9CQUFvQixFQUFFLG1DQUFtQyw0RkFBNEYsZUFBZSx3Q0FBd0MsU0FBUyxFQUFFLHFDQUFxQyxnREFBZ0QscURBQXFELDBCQUEwQiwrREFBK0Qsc0JBQXNCLCtF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ZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvSWRtc0NsaWVudC50c1wiKTtcbiIsIiFmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sdCk7ZWxzZXt2YXIgcj10KCk7Zm9yKHZhciBpIGluIHIpKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6ZSlbaV09cltpXX19KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgaT10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09ZSxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9dCxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZSx0LHIpe19fd2VicGFja19yZXF1aXJlX18ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPV9fd2VicGFja19yZXF1aXJlX18oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihfX3dlYnBhY2tfcmVxdWlyZV9fLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBpIGluIGUpX193ZWJwYWNrX3JlcXVpcmVfXy5kKHIsaSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbiBnZXREZWZhdWx0KCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpe3JldHVybiBlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKHQsXCJhXCIsdCksdH0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz00NSl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKTt2YXIgbj17ZGVidWc6ZnVuY3Rpb24gZGVidWcoKXt9LGluZm86ZnVuY3Rpb24gaW5mbygpe30sd2FybjpmdW5jdGlvbiB3YXJuKCl7fSxlcnJvcjpmdW5jdGlvbiBlcnJvcigpe319LG89dm9pZCAwLHM9dm9pZCAwOyh0LkxvZz1mdW5jdGlvbigpe2Z1bmN0aW9uIExvZygpeyFmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLExvZyl9cmV0dXJuIExvZy5yZXNldD1mdW5jdGlvbiByZXNldCgpe3M9MyxvPW59LExvZy5kZWJ1Zz1mdW5jdGlvbiBkZWJ1Zygpe2lmKHM+PTQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9QXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07by5kZWJ1Zy5hcHBseShvLEFycmF5LmZyb20odCkpfX0sTG9nLmluZm89ZnVuY3Rpb24gaW5mbygpe2lmKHM+PTMpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9QXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07by5pbmZvLmFwcGx5KG8sQXJyYXkuZnJvbSh0KSl9fSxMb2cud2Fybj1mdW5jdGlvbiB3YXJuKCl7aWYocz49Mil7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtvLndhcm4uYXBwbHkobyxBcnJheS5mcm9tKHQpKX19LExvZy5lcnJvcj1mdW5jdGlvbiBlcnJvcigpe2lmKHM+PTEpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9QXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07by5lcnJvci5hcHBseShvLEFycmF5LmZyb20odCkpfX0saShMb2csbnVsbCxbe2tleTpcIk5PTkVcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIDB9fSx7a2V5OlwiRVJST1JcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIDF9fSx7a2V5OlwiV0FSTlwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gMn19LHtrZXk6XCJJTkZPXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiAzfX0se2tleTpcIkRFQlVHXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiA0fX0se2tleTpcImxldmVsXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBzfSxzZXQ6ZnVuY3Rpb24gc2V0KGUpe2lmKCEoMDw9ZSYmZTw9NCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsb2cgbGV2ZWxcIik7cz1lfX0se2tleTpcImxvZ2dlclwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gb30sc2V0OmZ1bmN0aW9uIHNldChlKXtpZighZS5kZWJ1ZyYmZS5pbmZvJiYoZS5kZWJ1Zz1lLmluZm8pLCEoZS5kZWJ1ZyYmZS5pbmZvJiZlLndhcm4mJmUuZXJyb3IpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbG9nZ2VyXCIpO289ZX19XSksTG9nfSgpKS5yZXNldCgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKTt2YXIgbj17c2V0SW50ZXJ2YWw6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gc2V0SW50ZXJ2YWwodCxyKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHNldEludGVydmFsLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUudG9TdHJpbmcoKX0sc2V0SW50ZXJ2YWx9KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHNldEludGVydmFsKGUsdCl9KSxjbGVhckludGVydmFsOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGNsZWFySW50ZXJ2YWwodCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBjbGVhckludGVydmFsLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUudG9TdHJpbmcoKX0sY2xlYXJJbnRlcnZhbH0oZnVuY3Rpb24oZSl7cmV0dXJuIGNsZWFySW50ZXJ2YWwoZSl9KX0sbz0hMSxzPW51bGw7dC5HbG9iYWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBHbG9iYWwoKXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxHbG9iYWwpfXJldHVybiBHbG9iYWwuX3Rlc3Rpbmc9ZnVuY3Rpb24gX3Rlc3RpbmcoKXtvPSEwfSxHbG9iYWwuc2V0WE1MSHR0cFJlcXVlc3Q9ZnVuY3Rpb24gc2V0WE1MSHR0cFJlcXVlc3QoZSl7cz1lfSxpKEdsb2JhbCxudWxsLFt7a2V5OlwibG9jYXRpb25cIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7aWYoIW8pcmV0dXJuIGxvY2F0aW9ufX0se2tleTpcImxvY2FsU3RvcmFnZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtpZighbyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdylyZXR1cm4gbG9jYWxTdG9yYWdlfX0se2tleTpcInNlc3Npb25TdG9yYWdlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe2lmKCFvJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXJldHVybiBzZXNzaW9uU3RvcmFnZX19LHtrZXk6XCJYTUxIdHRwUmVxdWVzdFwiLGdldDpmdW5jdGlvbiBnZXQoKXtpZighbyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdylyZXR1cm4gc3x8WE1MSHR0cFJlcXVlc3R9fSx7a2V5OlwidGltZXJcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7aWYoIW8pcmV0dXJuIG59fV0pLEdsb2JhbH0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVXJsVXRpbGl0eT12b2lkIDA7dmFyIGk9cigwKSxuPXIoMSk7dC5VcmxVdGlsaXR5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVXJsVXRpbGl0eSgpeyFmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLFVybFV0aWxpdHkpfXJldHVybiBVcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW09ZnVuY3Rpb24gYWRkUXVlcnlQYXJhbShlLHQscil7cmV0dXJuIGUuaW5kZXhPZihcIj9cIik8MCYmKGUrPVwiP1wiKSxcIj9cIiE9PWVbZS5sZW5ndGgtMV0mJihlKz1cIiZcIiksZSs9ZW5jb2RlVVJJQ29tcG9uZW50KHQpLGUrPVwiPVwiLGUrPWVuY29kZVVSSUNvbXBvbmVudChyKX0sVXJsVXRpbGl0eS5wYXJzZVVybEZyYWdtZW50PWZ1bmN0aW9uIHBhcnNlVXJsRnJhZ21lbnQoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiI1wiLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm4uR2xvYmFsO1wic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1yLmxvY2F0aW9uLmhyZWYpO3ZhciBvPWUubGFzdEluZGV4T2YodCk7bz49MCYmKGU9ZS5zdWJzdHIobysxKSk7Zm9yKHZhciBzLGE9e30sdT0vKFteJj1dKyk9KFteJl0qKS9nLGM9MDtzPXUuZXhlYyhlKTspaWYoYVtkZWNvZGVVUklDb21wb25lbnQoc1sxXSldPWRlY29kZVVSSUNvbXBvbmVudChzWzJdKSxjKys+NTApcmV0dXJuIGkuTG9nLmVycm9yKFwiVXJsVXRpbGl0eS5wYXJzZVVybEZyYWdtZW50OiByZXNwb25zZSBleGNlZWRlZCBleHBlY3RlZCBudW1iZXIgb2YgcGFyYW1ldGVyc1wiLGUpLHtlcnJvcjpcIlJlc3BvbnNlIGV4Y2VlZGVkIGV4cGVjdGVkIG51bWJlciBvZiBwYXJhbWV0ZXJzXCJ9O2Zvcih2YXIgaCBpbiBhKXJldHVybiBhO3JldHVybnt9fSxVcmxVdGlsaXR5fSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5NZXRhZGF0YVNlcnZpY2U9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCksbj1yKDApLG89cigxNyk7dC5NZXRhZGF0YVNlcnZpY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNZXRhZGF0YVNlcnZpY2UoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm8uSnNvblNlcnZpY2U7aWYoZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxNZXRhZGF0YVNlcnZpY2UpLCFlKXRocm93IG4uTG9nLmVycm9yKFwiTWV0YWRhdGFTZXJ2aWNlOiBObyBzZXR0aW5ncyBwYXNzZWQgdG8gTWV0YWRhdGFTZXJ2aWNlXCIpLG5ldyBFcnJvcihcInNldHRpbmdzXCIpO3RoaXMuX3NldHRpbmdzPWUsdGhpcy5fanNvblNlcnZpY2U9bmV3IHQoW1wiYXBwbGljYXRpb24vandrLXNldCtqc29uXCJdKX1yZXR1cm4gTWV0YWRhdGFTZXJ2aWNlLnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbiBnZXRNZXRhZGF0YSgpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3NldHRpbmdzLm1ldGFkYXRhPyhuLkxvZy5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRNZXRhZGF0YTogUmV0dXJuaW5nIG1ldGFkYXRhIGZyb20gc2V0dGluZ3NcIiksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3NldHRpbmdzLm1ldGFkYXRhKSk6dGhpcy5tZXRhZGF0YVVybD8obi5Mb2cuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGE6IGdldHRpbmcgbWV0YWRhdGEgZnJvbVwiLHRoaXMubWV0YWRhdGFVcmwpLHRoaXMuX2pzb25TZXJ2aWNlLmdldEpzb24odGhpcy5tZXRhZGF0YVVybCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGE6IGpzb24gcmVjZWl2ZWRcIiksZS5fc2V0dGluZ3MubWV0YWRhdGE9dCx0fSkpOihuLkxvZy5lcnJvcihcIk1ldGFkYXRhU2VydmljZS5nZXRNZXRhZGF0YTogTm8gYXV0aG9yaXR5IG9yIG1ldGFkYXRhVXJsIGNvbmZpZ3VyZWQgb24gc2V0dGluZ3NcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gYXV0aG9yaXR5IG9yIG1ldGFkYXRhVXJsIGNvbmZpZ3VyZWQgb24gc2V0dGluZ3NcIikpKX0sTWV0YWRhdGFTZXJ2aWNlLnByb3RvdHlwZS5nZXRJc3N1ZXI9ZnVuY3Rpb24gZ2V0SXNzdWVyKCl7cmV0dXJuIHRoaXMuX2dldE1ldGFkYXRhUHJvcGVydHkoXCJpc3N1ZXJcIil9LE1ldGFkYXRhU2VydmljZS5wcm90b3R5cGUuZ2V0QXV0aG9yaXphdGlvbkVuZHBvaW50PWZ1bmN0aW9uIGdldEF1dGhvcml6YXRpb25FbmRwb2ludCgpe3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwiYXV0aG9yaXphdGlvbl9lbmRwb2ludFwiKX0sTWV0YWRhdGFTZXJ2aWNlLnByb3RvdHlwZS5nZXRVc2VySW5mb0VuZHBvaW50PWZ1bmN0aW9uIGdldFVzZXJJbmZvRW5kcG9pbnQoKXtyZXR1cm4gdGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcInVzZXJpbmZvX2VuZHBvaW50XCIpfSxNZXRhZGF0YVNlcnZpY2UucHJvdG90eXBlLmdldFRva2VuRW5kcG9pbnQ9ZnVuY3Rpb24gZ2V0VG9rZW5FbmRwb2ludCgpe3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwidG9rZW5fZW5kcG9pbnRcIiwhMCl9LE1ldGFkYXRhU2VydmljZS5wcm90b3R5cGUuZ2V0Q2hlY2tTZXNzaW9uSWZyYW1lPWZ1bmN0aW9uIGdldENoZWNrU2Vzc2lvbklmcmFtZSgpe3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwiY2hlY2tfc2Vzc2lvbl9pZnJhbWVcIiwhMCl9LE1ldGFkYXRhU2VydmljZS5wcm90b3R5cGUuZ2V0RW5kU2Vzc2lvbkVuZHBvaW50PWZ1bmN0aW9uIGdldEVuZFNlc3Npb25FbmRwb2ludCgpe3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwiZW5kX3Nlc3Npb25fZW5kcG9pbnRcIiwhMCl9LE1ldGFkYXRhU2VydmljZS5wcm90b3R5cGUuZ2V0UmV2b2NhdGlvbkVuZHBvaW50PWZ1bmN0aW9uIGdldFJldm9jYXRpb25FbmRwb2ludCgpe3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwicmV2b2NhdGlvbl9lbmRwb2ludFwiLCEwKX0sTWV0YWRhdGFTZXJ2aWNlLnByb3RvdHlwZS5fZ2V0TWV0YWRhdGFQcm9wZXJ0eT1mdW5jdGlvbiBfZ2V0TWV0YWRhdGFQcm9wZXJ0eShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiBuLkxvZy5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRNZXRhZGF0YVByb3BlcnR5IGZvcjogXCIrZSksdGhpcy5nZXRNZXRhZGF0YSgpLnRoZW4oZnVuY3Rpb24ocil7aWYobi5Mb2cuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGFQcm9wZXJ0eTogbWV0YWRhdGEgcmVjaWV2ZWRcIiksdm9pZCAwPT09cltlXSl7aWYoITA9PT10KXJldHVybiB2b2lkIG4uTG9nLndhcm4oXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGFQcm9wZXJ0eTogTWV0YWRhdGEgZG9lcyBub3QgY29udGFpbiBvcHRpb25hbCBwcm9wZXJ0eSBcIitlKTt0aHJvdyBuLkxvZy5lcnJvcihcIk1ldGFkYXRhU2VydmljZS5nZXRNZXRhZGF0YVByb3BlcnR5OiBNZXRhZGF0YSBkb2VzIG5vdCBjb250YWluIHByb3BlcnR5IFwiK2UpLG5ldyBFcnJvcihcIk1ldGFkYXRhIGRvZXMgbm90IGNvbnRhaW4gcHJvcGVydHkgXCIrZSl9cmV0dXJuIHJbZV19KX0sTWV0YWRhdGFTZXJ2aWNlLnByb3RvdHlwZS5nZXRTaWduaW5nS2V5cz1mdW5jdGlvbiBnZXRTaWduaW5nS2V5cygpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3NldHRpbmdzLnNpZ25pbmdLZXlzPyhuLkxvZy5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRTaWduaW5nS2V5czogUmV0dXJuaW5nIHNpZ25pbmdLZXlzIGZyb20gc2V0dGluZ3NcIiksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3NldHRpbmdzLnNpZ25pbmdLZXlzKSk6dGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcImp3a3NfdXJpXCIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uTG9nLmRlYnVnKFwiTWV0YWRhdGFTZXJ2aWNlLmdldFNpZ25pbmdLZXlzOiBqd2tzX3VyaSByZWNlaXZlZFwiLHQpLGUuX2pzb25TZXJ2aWNlLmdldEpzb24odCkudGhlbihmdW5jdGlvbih0KXtpZihuLkxvZy5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRTaWduaW5nS2V5czoga2V5IHNldCByZWNlaXZlZFwiLHQpLCF0LmtleXMpdGhyb3cgbi5Mb2cuZXJyb3IoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0U2lnbmluZ0tleXM6IE1pc3Npbmcga2V5cyBvbiBrZXlzZXRcIiksbmV3IEVycm9yKFwiTWlzc2luZyBrZXlzIG9uIGtleXNldFwiKTtyZXR1cm4gZS5fc2V0dGluZ3Muc2lnbmluZ0tleXM9dC5rZXlzLGUuX3NldHRpbmdzLnNpZ25pbmdLZXlzfSl9KX0saShNZXRhZGF0YVNlcnZpY2UsW3trZXk6XCJtZXRhZGF0YVVybFwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGFVcmx8fCh0aGlzLl9zZXR0aW5ncy5tZXRhZGF0YVVybD90aGlzLl9tZXRhZGF0YVVybD10aGlzLl9zZXR0aW5ncy5tZXRhZGF0YVVybDoodGhpcy5fbWV0YWRhdGFVcmw9dGhpcy5fc2V0dGluZ3MuYXV0aG9yaXR5LHRoaXMuX21ldGFkYXRhVXJsJiZ0aGlzLl9tZXRhZGF0YVVybC5pbmRleE9mKFwiLndlbGwta25vd24vb3BlbmlkLWNvbmZpZ3VyYXRpb25cIik8MCYmKFwiL1wiIT09dGhpcy5fbWV0YWRhdGFVcmxbdGhpcy5fbWV0YWRhdGFVcmwubGVuZ3RoLTFdJiYodGhpcy5fbWV0YWRhdGFVcmwrPVwiL1wiKSx0aGlzLl9tZXRhZGF0YVVybCs9XCIud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvblwiKSkpLHRoaXMuX21ldGFkYXRhVXJsfX1dKSxNZXRhZGF0YVNlcnZpY2V9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlN0YXRlPXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsdCksciYmZGVmaW5lUHJvcGVydGllcyhlLHIpLGV9fSgpLG49cigwKSxvPWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKDE0KSk7dC5TdGF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN0YXRlKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5pZCxyPWUuZGF0YSxpPWUuY3JlYXRlZDshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxTdGF0ZSksdGhpcy5faWQ9dHx8KDAsby5kZWZhdWx0KSgpLHRoaXMuX2RhdGE9cix0aGlzLl9jcmVhdGVkPVwibnVtYmVyXCI9PXR5cGVvZiBpJiZpPjA/aTpwYXJzZUludChEYXRlLm5vdygpLzFlMyl9cmV0dXJuIFN0YXRlLnByb3RvdHlwZS50b1N0b3JhZ2VTdHJpbmc9ZnVuY3Rpb24gdG9TdG9yYWdlU3RyaW5nKCl7cmV0dXJuIG4uTG9nLmRlYnVnKFwiU3RhdGUudG9TdG9yYWdlU3RyaW5nXCIpLEpTT04uc3RyaW5naWZ5KHtpZDp0aGlzLmlkLGRhdGE6dGhpcy5kYXRhLGNyZWF0ZWQ6dGhpcy5jcmVhdGVkfSl9LFN0YXRlLmZyb21TdG9yYWdlU3RyaW5nPWZ1bmN0aW9uIGZyb21TdG9yYWdlU3RyaW5nKGUpe3JldHVybiBuLkxvZy5kZWJ1ZyhcIlN0YXRlLmZyb21TdG9yYWdlU3RyaW5nXCIpLG5ldyBTdGF0ZShKU09OLnBhcnNlKGUpKX0sU3RhdGUuY2xlYXJTdGFsZVN0YXRlPWZ1bmN0aW9uIGNsZWFyU3RhbGVTdGF0ZShlLHQpe3ZhciByPURhdGUubm93KCkvMWUzLXQ7cmV0dXJuIGUuZ2V0QWxsS2V5cygpLnRoZW4oZnVuY3Rpb24odCl7bi5Mb2cuZGVidWcoXCJTdGF0ZS5jbGVhclN0YWxlU3RhdGU6IGdvdCBrZXlzXCIsdCk7Zm9yKHZhciBpPVtdLG89ZnVuY3Rpb24gX2xvb3Aobyl7dmFyIHM9dFtvXTthPWUuZ2V0KHMpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGk9ITE7aWYodCl0cnl7dmFyIG89U3RhdGUuZnJvbVN0b3JhZ2VTdHJpbmcodCk7bi5Mb2cuZGVidWcoXCJTdGF0ZS5jbGVhclN0YWxlU3RhdGU6IGdvdCBpdGVtIGZyb20ga2V5OiBcIixzLG8uY3JlYXRlZCksby5jcmVhdGVkPD1yJiYoaT0hMCl9Y2F0Y2goZSl7bi5Mb2cuZXJyb3IoXCJTdGF0ZS5jbGVhclN0YWxlU3RhdGU6IEVycm9yIHBhcnNpbmcgc3RhdGUgZm9yIGtleVwiLHMsZS5tZXNzYWdlKSxpPSEwfWVsc2Ugbi5Mb2cuZGVidWcoXCJTdGF0ZS5jbGVhclN0YWxlU3RhdGU6IG5vIGl0ZW0gaW4gc3RvcmFnZSBmb3Iga2V5OiBcIixzKSxpPSEwO2lmKGkpcmV0dXJuIG4uTG9nLmRlYnVnKFwiU3RhdGUuY2xlYXJTdGFsZVN0YXRlOiByZW1vdmVkIGl0ZW0gZm9yIGtleTogXCIscyksZS5yZW1vdmUocyl9KSxpLnB1c2goYSl9LHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGE7byhzKX1yZXR1cm4gbi5Mb2cuZGVidWcoXCJTdGF0ZS5jbGVhclN0YWxlU3RhdGU6IHdhaXRpbmcgb24gcHJvbWlzZSBjb3VudDpcIixpLmxlbmd0aCksUHJvbWlzZS5hbGwoaSl9KX0saShTdGF0ZSxbe2tleTpcImlkXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6XCJkYXRhXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9kYXRhfX0se2tleTpcImNyZWF0ZWRcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2NyZWF0ZWR9fV0pLFN0YXRlfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XZWJTdG9yYWdlU3RhdGVTdG9yZT12b2lkIDA7dmFyIGk9cigwKSxuPXIoMSk7dC5XZWJTdG9yYWdlU3RhdGVTdG9yZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFdlYlN0b3JhZ2VTdGF0ZVN0b3JlKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5wcmVmaXgscj12b2lkIDA9PT10P1wib2lkYy5cIjp0LGk9ZS5zdG9yZSxvPXZvaWQgMD09PWk/bi5HbG9iYWwubG9jYWxTdG9yYWdlOmk7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsV2ViU3RvcmFnZVN0YXRlU3RvcmUpLHRoaXMuX3N0b3JlPW8sdGhpcy5fcHJlZml4PXJ9cmV0dXJuIFdlYlN0b3JhZ2VTdGF0ZVN0b3JlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24gc2V0KGUsdCl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiV2ViU3RvcmFnZVN0YXRlU3RvcmUuc2V0XCIsZSksZT10aGlzLl9wcmVmaXgrZSx0aGlzLl9zdG9yZS5zZXRJdGVtKGUsdCksUHJvbWlzZS5yZXNvbHZlKCl9LFdlYlN0b3JhZ2VTdGF0ZVN0b3JlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24gZ2V0KGUpe2kuTG9nLmRlYnVnKFwiV2ViU3RvcmFnZVN0YXRlU3RvcmUuZ2V0XCIsZSksZT10aGlzLl9wcmVmaXgrZTt2YXIgdD10aGlzLl9zdG9yZS5nZXRJdGVtKGUpO3JldHVybiBQcm9taXNlLnJlc29sdmUodCl9LFdlYlN0b3JhZ2VTdGF0ZVN0b3JlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24gcmVtb3ZlKGUpe2kuTG9nLmRlYnVnKFwiV2ViU3RvcmFnZVN0YXRlU3RvcmUucmVtb3ZlXCIsZSksZT10aGlzLl9wcmVmaXgrZTt2YXIgdD10aGlzLl9zdG9yZS5nZXRJdGVtKGUpO3JldHVybiB0aGlzLl9zdG9yZS5yZW1vdmVJdGVtKGUpLFByb21pc2UucmVzb2x2ZSh0KX0sV2ViU3RvcmFnZVN0YXRlU3RvcmUucHJvdG90eXBlLmdldEFsbEtleXM9ZnVuY3Rpb24gZ2V0QWxsS2V5cygpe2kuTG9nLmRlYnVnKFwiV2ViU3RvcmFnZVN0YXRlU3RvcmUuZ2V0QWxsS2V5c1wiKTtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5fc3RvcmUubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fc3RvcmUua2V5KHQpOzA9PT1yLmluZGV4T2YodGhpcy5fcHJlZml4KSYmZS5wdXNoKHIuc3Vic3RyKHRoaXMuX3ByZWZpeC5sZW5ndGgpKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfSxXZWJTdG9yYWdlU3RhdGVTdG9yZX0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuT2lkY0NsaWVudFNldHRpbmdzPXZvaWQgMDt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCksbz1yKDApLHM9cig1KSxhPXIoNDQpLHU9cigzKTt2YXIgYz1cImlkX3Rva2VuXCIsaD1cIm9wZW5pZFwiLGw9OTAwLGY9MzAwO3QuT2lkY0NsaWVudFNldHRpbmdzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT2lkY0NsaWVudFNldHRpbmdzKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5hdXRob3JpdHkscj1lLm1ldGFkYXRhVXJsLG49ZS5tZXRhZGF0YSxvPWUuc2lnbmluZ0tleXMsZz1lLmNsaWVudF9pZCxwPWUuY2xpZW50X3NlY3JldCxkPWUucmVzcG9uc2VfdHlwZSx2PXZvaWQgMD09PWQ/YzpkLHk9ZS5zY29wZSxtPXZvaWQgMD09PXk/aDp5LFM9ZS5yZWRpcmVjdF91cmksYj1lLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaSxGPWUucHJvbXB0LF89ZS5kaXNwbGF5LHc9ZS5tYXhfYWdlLEU9ZS51aV9sb2NhbGVzLHg9ZS5hY3JfdmFsdWVzLEE9ZS5yZXNvdXJjZSxDPWUuZmlsdGVyUHJvdG9jb2xDbGFpbXMsUD12b2lkIDA9PT1DfHxDLEk9ZS5sb2FkVXNlckluZm8sQj12b2lkIDA9PT1JfHxJLGs9ZS5zdGFsZVN0YXRlQWdlLFI9dm9pZCAwPT09az9sOmssVD1lLmNsb2NrU2tldyxVPXZvaWQgMD09PVQ/ZjpULEQ9ZS5zdGF0ZVN0b3JlLE09dm9pZCAwPT09RD9uZXcgcy5XZWJTdG9yYWdlU3RhdGVTdG9yZTpELEw9ZS5SZXNwb25zZVZhbGlkYXRvckN0b3IsTj12b2lkIDA9PT1MP2EuUmVzcG9uc2VWYWxpZGF0b3I6TCxPPWUuTWV0YWRhdGFTZXJ2aWNlQ3RvcixIPXZvaWQgMD09PU8/dS5NZXRhZGF0YVNlcnZpY2U6TyxqPWUuZXh0cmFRdWVyeVBhcmFtcyxLPXZvaWQgMD09PWo/e306ajshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxPaWRjQ2xpZW50U2V0dGluZ3MpLHRoaXMuX2F1dGhvcml0eT10LHRoaXMuX21ldGFkYXRhVXJsPXIsdGhpcy5fbWV0YWRhdGE9bix0aGlzLl9zaWduaW5nS2V5cz1vLHRoaXMuX2NsaWVudF9pZD1nLHRoaXMuX2NsaWVudF9zZWNyZXQ9cCx0aGlzLl9yZXNwb25zZV90eXBlPXYsdGhpcy5fc2NvcGU9bSx0aGlzLl9yZWRpcmVjdF91cmk9Uyx0aGlzLl9wb3N0X2xvZ291dF9yZWRpcmVjdF91cmk9Yix0aGlzLl9wcm9tcHQ9Rix0aGlzLl9kaXNwbGF5PV8sdGhpcy5fbWF4X2FnZT13LHRoaXMuX3VpX2xvY2FsZXM9RSx0aGlzLl9hY3JfdmFsdWVzPXgsdGhpcy5fcmVzb3VyY2U9QSx0aGlzLl9maWx0ZXJQcm90b2NvbENsYWltcz0hIVAsdGhpcy5fbG9hZFVzZXJJbmZvPSEhQix0aGlzLl9zdGFsZVN0YXRlQWdlPVIsdGhpcy5fY2xvY2tTa2V3PVUsdGhpcy5fc3RhdGVTdG9yZT1NLHRoaXMuX3ZhbGlkYXRvcj1uZXcgTih0aGlzKSx0aGlzLl9tZXRhZGF0YVNlcnZpY2U9bmV3IEgodGhpcyksdGhpcy5fZXh0cmFRdWVyeVBhcmFtcz1cIm9iamVjdFwiPT09KHZvaWQgMD09PUs/XCJ1bmRlZmluZWRcIjppKEspKT9LOnt9fXJldHVybiBuKE9pZGNDbGllbnRTZXR0aW5ncyxbe2tleTpcImNsaWVudF9pZFwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fY2xpZW50X2lkfSxzZXQ6ZnVuY3Rpb24gc2V0KGUpe2lmKHRoaXMuX2NsaWVudF9pZCl0aHJvdyBvLkxvZy5lcnJvcihcIk9pZGNDbGllbnRTZXR0aW5ncy5zZXRfY2xpZW50X2lkOiBjbGllbnRfaWQgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZC5cIiksbmV3IEVycm9yKFwiY2xpZW50X2lkIGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXCIpO3RoaXMuX2NsaWVudF9pZD1lfX0se2tleTpcImNsaWVudF9zZWNyZXRcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2NsaWVudF9zZWNyZXR9fSx7a2V5OlwicmVzcG9uc2VfdHlwZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcmVzcG9uc2VfdHlwZX19LHtrZXk6XCJzY29wZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2NvcGV9fSx7a2V5OlwicmVkaXJlY3RfdXJpXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9yZWRpcmVjdF91cml9fSx7a2V5OlwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9wb3N0X2xvZ291dF9yZWRpcmVjdF91cml9fSx7a2V5OlwicHJvbXB0XCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9wcm9tcHR9fSx7a2V5OlwiZGlzcGxheVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fZGlzcGxheX19LHtrZXk6XCJtYXhfYWdlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9tYXhfYWdlfX0se2tleTpcInVpX2xvY2FsZXNcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX3VpX2xvY2FsZXN9fSx7a2V5OlwiYWNyX3ZhbHVlc1wiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fYWNyX3ZhbHVlc319LHtrZXk6XCJyZXNvdXJjZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcmVzb3VyY2V9fSx7a2V5OlwiYXV0aG9yaXR5XCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9hdXRob3JpdHl9LHNldDpmdW5jdGlvbiBzZXQoZSl7aWYodGhpcy5fYXV0aG9yaXR5KXRocm93IG8uTG9nLmVycm9yKFwiT2lkY0NsaWVudFNldHRpbmdzLnNldF9hdXRob3JpdHk6IGF1dGhvcml0eSBoYXMgYWxyZWFkeSBiZWVuIGFzc2lnbmVkLlwiKSxuZXcgRXJyb3IoXCJhdXRob3JpdHkgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZC5cIik7dGhpcy5fYXV0aG9yaXR5PWV9fSx7a2V5OlwibWV0YWRhdGFVcmxcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhVXJsfHwodGhpcy5fbWV0YWRhdGFVcmw9dGhpcy5hdXRob3JpdHksdGhpcy5fbWV0YWRhdGFVcmwmJnRoaXMuX21ldGFkYXRhVXJsLmluZGV4T2YoXCIud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvblwiKTwwJiYoXCIvXCIhPT10aGlzLl9tZXRhZGF0YVVybFt0aGlzLl9tZXRhZGF0YVVybC5sZW5ndGgtMV0mJih0aGlzLl9tZXRhZGF0YVVybCs9XCIvXCIpLHRoaXMuX21ldGFkYXRhVXJsKz1cIi53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uXCIpKSx0aGlzLl9tZXRhZGF0YVVybH19LHtrZXk6XCJtZXRhZGF0YVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGF9LHNldDpmdW5jdGlvbiBzZXQoZSl7dGhpcy5fbWV0YWRhdGE9ZX19LHtrZXk6XCJzaWduaW5nS2V5c1wiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2lnbmluZ0tleXN9LHNldDpmdW5jdGlvbiBzZXQoZSl7dGhpcy5fc2lnbmluZ0tleXM9ZX19LHtrZXk6XCJmaWx0ZXJQcm90b2NvbENsYWltc1wiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fZmlsdGVyUHJvdG9jb2xDbGFpbXN9fSx7a2V5OlwibG9hZFVzZXJJbmZvXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9sb2FkVXNlckluZm99fSx7a2V5Olwic3RhbGVTdGF0ZUFnZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc3RhbGVTdGF0ZUFnZX19LHtrZXk6XCJjbG9ja1NrZXdcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2Nsb2NrU2tld319LHtrZXk6XCJzdGF0ZVN0b3JlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlfX0se2tleTpcInZhbGlkYXRvclwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fdmFsaWRhdG9yfX0se2tleTpcIm1ldGFkYXRhU2VydmljZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlfX0se2tleTpcImV4dHJhUXVlcnlQYXJhbXNcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2V4dHJhUXVlcnlQYXJhbXN9LHNldDpmdW5jdGlvbiBzZXQoZSl7XCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6aShlKSk/dGhpcy5fZXh0cmFRdWVyeVBhcmFtcz1lOnRoaXMuX2V4dHJhUXVlcnlQYXJhbXM9e319fV0pLE9pZGNDbGllbnRTZXR0aW5nc30oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ29yZG92YVBvcHVwV2luZG93PXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsdCksciYmZGVmaW5lUHJvcGVydGllcyhlLHIpLGV9fSgpLG49cigwKTt2YXIgbz1cImxvY2F0aW9uPW5vLHRvb2xiYXI9bm8sem9vbT1ub1wiLHM9XCJfYmxhbmtcIjt0LkNvcmRvdmFQb3B1cFdpbmRvdz1mdW5jdGlvbigpe2Z1bmN0aW9uIENvcmRvdmFQb3B1cFdpbmRvdyhlKXt2YXIgdD10aGlzOyFmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLENvcmRvdmFQb3B1cFdpbmRvdyksdGhpcy5fcHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbihlLHIpe3QuX3Jlc29sdmU9ZSx0Ll9yZWplY3Q9cn0pLHRoaXMuZmVhdHVyZXM9ZS5wb3B1cFdpbmRvd0ZlYXR1cmVzfHxvLHRoaXMudGFyZ2V0PWUucG9wdXBXaW5kb3dUYXJnZXR8fHMsdGhpcy5yZWRpcmVjdF91cmk9ZS5zdGFydFVybCxuLkxvZy5kZWJ1ZyhcIkNvcmRvdmFQb3B1cFdpbmRvdy5jdG9yOiByZWRpcmVjdF91cmk6IFwiK3RoaXMucmVkaXJlY3RfdXJpKX1yZXR1cm4gQ29yZG92YVBvcHVwV2luZG93LnByb3RvdHlwZS5faXNJbkFwcEJyb3dzZXJJbnN0YWxsZWQ9ZnVuY3Rpb24gX2lzSW5BcHBCcm93c2VySW5zdGFsbGVkKGUpe3JldHVybltcImNvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlclwiLFwiY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyLmluYXBwYnJvd3NlclwiLFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiXS5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpfSl9LENvcmRvdmFQb3B1cFdpbmRvdy5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24gbmF2aWdhdGUoZSl7aWYoZSYmZS51cmwpe2lmKCF3aW5kb3cuY29yZG92YSlyZXR1cm4gdGhpcy5fZXJyb3IoXCJjb3Jkb3ZhIGlzIHVuZGVmaW5lZFwiKTt2YXIgdD13aW5kb3cuY29yZG92YS5yZXF1aXJlKFwiY29yZG92YS9wbHVnaW5fbGlzdFwiKS5tZXRhZGF0YTtpZighMT09PXRoaXMuX2lzSW5BcHBCcm93c2VySW5zdGFsbGVkKHQpKXJldHVybiB0aGlzLl9lcnJvcihcIkluQXBwQnJvd3NlciBwbHVnaW4gbm90IGZvdW5kXCIpO3RoaXMuX3BvcHVwPWNvcmRvdmEuSW5BcHBCcm93c2VyLm9wZW4oZS51cmwsdGhpcy50YXJnZXQsdGhpcy5mZWF0dXJlcyksdGhpcy5fcG9wdXA/KG4uTG9nLmRlYnVnKFwiQ29yZG92YVBvcHVwV2luZG93Lm5hdmlnYXRlOiBwb3B1cCBzdWNjZXNzZnVsbHkgY3JlYXRlZFwiKSx0aGlzLl9leGl0Q2FsbGJhY2tFdmVudD10aGlzLl9leGl0Q2FsbGJhY2suYmluZCh0aGlzKSx0aGlzLl9sb2FkU3RhcnRDYWxsYmFja0V2ZW50PXRoaXMuX2xvYWRTdGFydENhbGxiYWNrLmJpbmQodGhpcyksdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXRcIix0aGlzLl9leGl0Q2FsbGJhY2tFdmVudCwhMSksdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLHRoaXMuX2xvYWRTdGFydENhbGxiYWNrRXZlbnQsITEpKTp0aGlzLl9lcnJvcihcIkVycm9yIG9wZW5pbmcgcG9wdXAgd2luZG93XCIpfWVsc2UgdGhpcy5fZXJyb3IoXCJObyB1cmwgcHJvdmlkZWRcIik7cmV0dXJuIHRoaXMucHJvbWlzZX0sQ29yZG92YVBvcHVwV2luZG93LnByb3RvdHlwZS5fbG9hZFN0YXJ0Q2FsbGJhY2s9ZnVuY3Rpb24gX2xvYWRTdGFydENhbGxiYWNrKGUpezA9PT1lLnVybC5pbmRleE9mKHRoaXMucmVkaXJlY3RfdXJpKSYmdGhpcy5fc3VjY2Vzcyh7dXJsOmUudXJsfSl9LENvcmRvdmFQb3B1cFdpbmRvdy5wcm90b3R5cGUuX2V4aXRDYWxsYmFjaz1mdW5jdGlvbiBfZXhpdENhbGxiYWNrKGUpe3RoaXMuX2Vycm9yKGUpfSxDb3Jkb3ZhUG9wdXBXaW5kb3cucHJvdG90eXBlLl9zdWNjZXNzPWZ1bmN0aW9uIF9zdWNjZXNzKGUpe3RoaXMuX2NsZWFudXAoKSxuLkxvZy5kZWJ1ZyhcIkNvcmRvdmFQb3B1cFdpbmRvdzogU3VjY2Vzc2Z1bCByZXNwb25zZSBmcm9tIGNvcmRvdmEgcG9wdXAgd2luZG93XCIpLHRoaXMuX3Jlc29sdmUoZSl9LENvcmRvdmFQb3B1cFdpbmRvdy5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uIF9lcnJvcihlKXt0aGlzLl9jbGVhbnVwKCksbi5Mb2cuZXJyb3IoZSksdGhpcy5fcmVqZWN0KG5ldyBFcnJvcihlKSl9LENvcmRvdmFQb3B1cFdpbmRvdy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24gY2xvc2UoKXt0aGlzLl9jbGVhbnVwKCl9LENvcmRvdmFQb3B1cFdpbmRvdy5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24gX2NsZWFudXAoKXt0aGlzLl9wb3B1cCYmKG4uTG9nLmRlYnVnKFwiQ29yZG92YVBvcHVwV2luZG93OiBjbGVhbmluZyB1cCBwb3B1cFwiKSx0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXhpdFwiLHRoaXMuX2V4aXRDYWxsYmFja0V2ZW50LCExKSx0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsdGhpcy5fbG9hZFN0YXJ0Q2FsbGJhY2tFdmVudCwhMSksdGhpcy5fcG9wdXAuY2xvc2UoKSksdGhpcy5fcG9wdXA9bnVsbH0saShDb3Jkb3ZhUG9wdXBXaW5kb3csW3trZXk6XCJwcm9taXNlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9wcm9taXNlfX1dKSxDb3Jkb3ZhUG9wdXBXaW5kb3d9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRva2VuUmV2b2NhdGlvbkNsaWVudD12b2lkIDA7dmFyIGk9cigwKSxuPXIoMyksbz1yKDEpO3QuVG9rZW5SZXZvY2F0aW9uQ2xpZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVG9rZW5SZXZvY2F0aW9uQ2xpZW50KGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpvLkdsb2JhbC5YTUxIdHRwUmVxdWVzdCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpuLk1ldGFkYXRhU2VydmljZTtpZihmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLFRva2VuUmV2b2NhdGlvbkNsaWVudCksIWUpdGhyb3cgaS5Mb2cuZXJyb3IoXCJUb2tlblJldm9jYXRpb25DbGllbnQuY3RvcjogTm8gc2V0dGluZ3MgcHJvdmlkZWRcIiksbmV3IEVycm9yKFwiTm8gc2V0dGluZ3MgcHJvdmlkZWQuXCIpO3RoaXMuX3NldHRpbmdzPWUsdGhpcy5fWE1MSHR0cFJlcXVlc3RDdG9yPXQsdGhpcy5fbWV0YWRhdGFTZXJ2aWNlPW5ldyByKHRoaXMuX3NldHRpbmdzKX1yZXR1cm4gVG9rZW5SZXZvY2F0aW9uQ2xpZW50LnByb3RvdHlwZS5yZXZva2U9ZnVuY3Rpb24gcmV2b2tlKGUsdCl7dmFyIHI9dGhpcztpZighZSl0aHJvdyBpLkxvZy5lcnJvcihcIlRva2VuUmV2b2NhdGlvbkNsaWVudC5yZXZva2U6IE5vIGFjY2Vzc1Rva2VuIHByb3ZpZGVkXCIpLG5ldyBFcnJvcihcIk5vIGFjY2Vzc1Rva2VuIHByb3ZpZGVkLlwiKTtyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldFJldm9jYXRpb25FbmRwb2ludCgpLnRoZW4oZnVuY3Rpb24obil7aWYobil7aS5Mb2cuZXJyb3IoXCJUb2tlblJldm9jYXRpb25DbGllbnQucmV2b2tlOiBSZXZva2luZyBhY2Nlc3MgdG9rZW5cIik7dmFyIG89ci5fc2V0dGluZ3MuY2xpZW50X2lkLHM9ci5fc2V0dGluZ3MuY2xpZW50X3NlY3JldDtyZXR1cm4gci5fcmV2b2tlKG4sbyxzLGUpfWlmKHQpdGhyb3cgaS5Mb2cuZXJyb3IoXCJUb2tlblJldm9jYXRpb25DbGllbnQucmV2b2tlOiBSZXZvY2F0aW9uIG5vdCBzdXBwb3J0ZWRcIiksbmV3IEVycm9yKFwiUmV2b2NhdGlvbiBub3Qgc3VwcG9ydGVkXCIpfSl9LFRva2VuUmV2b2NhdGlvbkNsaWVudC5wcm90b3R5cGUuX3Jldm9rZT1mdW5jdGlvbiBfcmV2b2tlKGUsdCxyLG4pe3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsYSl7dmFyIHU9bmV3IG8uX1hNTEh0dHBSZXF1ZXN0Q3Rvcjt1Lm9wZW4oXCJQT1NUXCIsZSksdS5vbmxvYWQ9ZnVuY3Rpb24oKXtpLkxvZy5kZWJ1ZyhcIlRva2VuUmV2b2NhdGlvbkNsaWVudC5yZXZva2U6IEhUVFAgcmVzcG9uc2UgcmVjZWl2ZWQsIHN0YXR1c1wiLHUuc3RhdHVzKSwyMDA9PT11LnN0YXR1cz9zKCk6YShFcnJvcih1LnN0YXR1c1RleHQrXCIgKFwiK3Uuc3RhdHVzK1wiKVwiKSl9O3ZhciBjPVwiY2xpZW50X2lkPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0KTtyJiYoYys9XCImY2xpZW50X3NlY3JldD1cIitlbmNvZGVVUklDb21wb25lbnQocikpLGMrPVwiJnRva2VuX3R5cGVfaGludD1cIitlbmNvZGVVUklDb21wb25lbnQoXCJhY2Nlc3NfdG9rZW5cIiksYys9XCImdG9rZW49XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pLHUuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpLHUuc2VuZChjKX0pfSxUb2tlblJldm9jYXRpb25DbGllbnR9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNoZWNrU2Vzc2lvbklGcmFtZT12b2lkIDA7dmFyIGk9cigwKTt2YXIgbj0yZTM7dC5DaGVja1Nlc3Npb25JRnJhbWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDaGVja1Nlc3Npb25JRnJhbWUoZSx0LHIsaSl7dmFyIG89IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XTshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxDaGVja1Nlc3Npb25JRnJhbWUpLHRoaXMuX2NhbGxiYWNrPWUsdGhpcy5fY2xpZW50X2lkPXQsdGhpcy5fdXJsPXIsdGhpcy5faW50ZXJ2YWw9aXx8bix0aGlzLl9zdG9wT25FcnJvcj1vO3ZhciBzPXIuaW5kZXhPZihcIi9cIixyLmluZGV4T2YoXCIvL1wiKSsyKTt0aGlzLl9mcmFtZV9vcmlnaW49ci5zdWJzdHIoMCxzKSx0aGlzLl9mcmFtZT13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSx0aGlzLl9mcmFtZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZnJhbWUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuX2ZyYW1lLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fZnJhbWUuc3R5bGUud2lkdGg9MCx0aGlzLl9mcmFtZS5zdHlsZS5oZWlnaHQ9MCx0aGlzLl9mcmFtZS5zcmM9cn1yZXR1cm4gQ2hlY2tTZXNzaW9uSUZyYW1lLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uIGxvYWQoKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtlLl9mcmFtZS5vbmxvYWQ9ZnVuY3Rpb24oKXt0KCl9LHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUuX2ZyYW1lKSxlLl9ib3VuZE1lc3NhZ2VFdmVudD1lLl9tZXNzYWdlLmJpbmQoZSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZS5fYm91bmRNZXNzYWdlRXZlbnQsITEpfSl9LENoZWNrU2Vzc2lvbklGcmFtZS5wcm90b3R5cGUuX21lc3NhZ2U9ZnVuY3Rpb24gX21lc3NhZ2UoZSl7ZS5vcmlnaW49PT10aGlzLl9mcmFtZV9vcmlnaW4mJmUuc291cmNlPT09dGhpcy5fZnJhbWUuY29udGVudFdpbmRvdyYmKFwiZXJyb3JcIj09PWUuZGF0YT8oaS5Mb2cuZXJyb3IoXCJDaGVja1Nlc3Npb25JRnJhbWU6IGVycm9yIG1lc3NhZ2UgZnJvbSBjaGVjayBzZXNzaW9uIG9wIGlmcmFtZVwiKSx0aGlzLl9zdG9wT25FcnJvciYmdGhpcy5zdG9wKCkpOlwiY2hhbmdlZFwiPT09ZS5kYXRhPyhpLkxvZy5kZWJ1ZyhcIkNoZWNrU2Vzc2lvbklGcmFtZTogY2hhbmdlZCBtZXNzYWdlIGZyb20gY2hlY2sgc2Vzc2lvbiBvcCBpZnJhbWVcIiksdGhpcy5zdG9wKCksdGhpcy5fY2FsbGJhY2soKSk6aS5Mb2cuZGVidWcoXCJDaGVja1Nlc3Npb25JRnJhbWU6IFwiK2UuZGF0YStcIiBtZXNzYWdlIGZyb20gY2hlY2sgc2Vzc2lvbiBvcCBpZnJhbWVcIikpfSxDaGVja1Nlc3Npb25JRnJhbWUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uIHN0YXJ0KGUpe3ZhciB0PXRoaXM7aWYodGhpcy5fc2Vzc2lvbl9zdGF0ZSE9PWUpe2kuTG9nLmRlYnVnKFwiQ2hlY2tTZXNzaW9uSUZyYW1lLnN0YXJ0XCIpLHRoaXMuc3RvcCgpLHRoaXMuX3Nlc3Npb25fc3RhdGU9ZTt2YXIgcj1mdW5jdGlvbiBzZW5kKCl7dC5fZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh0Ll9jbGllbnRfaWQrXCIgXCIrdC5fc2Vzc2lvbl9zdGF0ZSx0Ll9mcmFtZV9vcmlnaW4pfTtyKCksdGhpcy5fdGltZXI9d2luZG93LnNldEludGVydmFsKHIsdGhpcy5faW50ZXJ2YWwpfX0sQ2hlY2tTZXNzaW9uSUZyYW1lLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uIHN0b3AoKXt0aGlzLl9zZXNzaW9uX3N0YXRlPW51bGwsdGhpcy5fdGltZXImJihpLkxvZy5kZWJ1ZyhcIkNoZWNrU2Vzc2lvbklGcmFtZS5zdG9wXCIpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1udWxsKX0sQ2hlY2tTZXNzaW9uSUZyYW1lfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TZXNzaW9uTW9uaXRvcj12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKSxuPXIoMCksbz1yKDkpO3QuU2Vzc2lvbk1vbml0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTZXNzaW9uTW9uaXRvcihlKXt2YXIgdD10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm8uQ2hlY2tTZXNzaW9uSUZyYW1lO2lmKGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsU2Vzc2lvbk1vbml0b3IpLCFlKXRocm93IG4uTG9nLmVycm9yKFwiU2Vzc2lvbk1vbml0b3IuY3RvcjogTm8gdXNlciBtYW5hZ2VyIHBhc3NlZCB0byBTZXNzaW9uTW9uaXRvclwiKSxuZXcgRXJyb3IoXCJ1c2VyTWFuYWdlclwiKTt0aGlzLl91c2VyTWFuYWdlcj1lLHRoaXMuX0NoZWNrU2Vzc2lvbklGcmFtZUN0b3I9cix0aGlzLl91c2VyTWFuYWdlci5ldmVudHMuYWRkVXNlckxvYWRlZCh0aGlzLl9zdGFydC5iaW5kKHRoaXMpKSx0aGlzLl91c2VyTWFuYWdlci5ldmVudHMuYWRkVXNlclVubG9hZGVkKHRoaXMuX3N0b3AuYmluZCh0aGlzKSksdGhpcy5fdXNlck1hbmFnZXIuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24oZSl7ZSYmdC5fc3RhcnQoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuLkxvZy5lcnJvcihcIlNlc3Npb25Nb25pdG9yIGN0b3I6IGVycm9yIGZyb20gZ2V0VXNlcjpcIixlLm1lc3NhZ2UpfSl9cmV0dXJuIFNlc3Npb25Nb25pdG9yLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24gX3N0YXJ0KGUpe3ZhciB0PXRoaXMscj1lLnNlc3Npb25fc3RhdGU7ciYmKHRoaXMuX3N1Yj1lLnByb2ZpbGUuc3ViLHRoaXMuX3NpZD1lLnByb2ZpbGUuc2lkLG4uTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX3N0YXJ0OiBzZXNzaW9uX3N0YXRlOlwiLHIsXCIsIHN1YjpcIix0aGlzLl9zdWIpLHRoaXMuX2NoZWNrU2Vzc2lvbklGcmFtZT90aGlzLl9jaGVja1Nlc3Npb25JRnJhbWUuc3RhcnQocik6dGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldENoZWNrU2Vzc2lvbklmcmFtZSgpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZSl7bi5Mb2cuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fc3RhcnQ6IEluaXRpYWxpemluZyBjaGVjayBzZXNzaW9uIGlmcmFtZVwiKTt2YXIgaT10Ll9jbGllbnRfaWQsbz10Ll9jaGVja1Nlc3Npb25JbnRlcnZhbCxzPXQuX3N0b3BDaGVja1Nlc3Npb25PbkVycm9yO3QuX2NoZWNrU2Vzc2lvbklGcmFtZT1uZXcgdC5fQ2hlY2tTZXNzaW9uSUZyYW1lQ3Rvcih0Ll9jYWxsYmFjay5iaW5kKHQpLGksZSxvLHMpLHQuX2NoZWNrU2Vzc2lvbklGcmFtZS5sb2FkKCkudGhlbihmdW5jdGlvbigpe3QuX2NoZWNrU2Vzc2lvbklGcmFtZS5zdGFydChyKX0pfWVsc2Ugbi5Mb2cud2FybihcIlNlc3Npb25Nb25pdG9yLl9zdGFydDogTm8gY2hlY2sgc2Vzc2lvbiBpZnJhbWUgZm91bmQgaW4gdGhlIG1ldGFkYXRhXCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bi5Mb2cuZXJyb3IoXCJTZXNzaW9uTW9uaXRvci5fc3RhcnQ6IEVycm9yIGZyb20gZ2V0Q2hlY2tTZXNzaW9uSWZyYW1lOlwiLGUubWVzc2FnZSl9KSl9LFNlc3Npb25Nb25pdG9yLnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbiBfc3RvcCgpe3RoaXMuX3N1Yj1udWxsLHRoaXMuX3NpZD1udWxsLHRoaXMuX2NoZWNrU2Vzc2lvbklGcmFtZSYmKG4uTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX3N0b3BcIiksdGhpcy5fY2hlY2tTZXNzaW9uSUZyYW1lLnN0b3AoKSl9LFNlc3Npb25Nb25pdG9yLnByb3RvdHlwZS5fY2FsbGJhY2s9ZnVuY3Rpb24gX2NhbGxiYWNrKCl7dmFyIGU9dGhpczt0aGlzLl91c2VyTWFuYWdlci5xdWVyeVNlc3Npb25TdGF0dXMoKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPSEwO3Q/dC5zdWI9PT1lLl9zdWI/KHI9ITEsZS5fY2hlY2tTZXNzaW9uSUZyYW1lLnN0YXJ0KHQuc2Vzc2lvbl9zdGF0ZSksdC5zaWQ9PT1lLl9zaWQ/bi5Mb2cuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s6IFNhbWUgc3ViIHN0aWxsIGxvZ2dlZCBpbiBhdCBPUCwgcmVzdGFydGluZyBjaGVjayBzZXNzaW9uIGlmcmFtZTsgc2Vzc2lvbl9zdGF0ZTpcIix0LnNlc3Npb25fc3RhdGUpOihuLkxvZy5kZWJ1ZyhcIlNlc3Npb25Nb25pdG9yLl9jYWxsYmFjazogU2FtZSBzdWIgc3RpbGwgbG9nZ2VkIGluIGF0IE9QLCBzZXNzaW9uIHN0YXRlIGhhcyBjaGFuZ2VkLCByZXN0YXJ0aW5nIGNoZWNrIHNlc3Npb24gaWZyYW1lOyBzZXNzaW9uX3N0YXRlOlwiLHQuc2Vzc2lvbl9zdGF0ZSksZS5fdXNlck1hbmFnZXIuZXZlbnRzLl9yYWlzZVVzZXJTZXNzaW9uQ2hhbmdlZCgpKSk6bi5Mb2cuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s6IERpZmZlcmVudCBzdWJqZWN0IHNpZ25lZCBpbnRvIE9QOlwiLHQuc3ViKTpuLkxvZy5kZWJ1ZyhcIlNlc3Npb25Nb25pdG9yLl9jYWxsYmFjazogU3ViamVjdCBubyBsb25nZXIgc2lnbmVkIGludG8gT1BcIiksciYmKG4uTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX2NhbGxiYWNrOiBTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s7IHJhaXNpbmcgc2lnbmVkIG91dCBldmVudFwiKSxlLl91c2VyTWFuYWdlci5ldmVudHMuX3JhaXNlVXNlclNpZ25lZE91dCgpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe24uTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX2NhbGxiYWNrOiBFcnJvciBjYWxsaW5nIHF1ZXJ5Q3VycmVudFNpZ25pblNlc3Npb247IHJhaXNpbmcgc2lnbmVkIG91dCBldmVudFwiLHQubWVzc2FnZSksZS5fdXNlck1hbmFnZXIuZXZlbnRzLl9yYWlzZVVzZXJTaWduZWRPdXQoKX0pfSxpKFNlc3Npb25Nb25pdG9yLFt7a2V5OlwiX3NldHRpbmdzXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl91c2VyTWFuYWdlci5zZXR0aW5nc319LHtrZXk6XCJfbWV0YWRhdGFTZXJ2aWNlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl91c2VyTWFuYWdlci5tZXRhZGF0YVNlcnZpY2V9fSx7a2V5OlwiX2NsaWVudF9pZFwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkfX0se2tleTpcIl9jaGVja1Nlc3Npb25JbnRlcnZhbFwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3MuY2hlY2tTZXNzaW9uSW50ZXJ2YWx9fSx7a2V5OlwiX3N0b3BDaGVja1Nlc3Npb25PbkVycm9yXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9zZXR0aW5ncy5zdG9wQ2hlY2tTZXNzaW9uT25FcnJvcn19XSksU2Vzc2lvbk1vbml0b3J9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkV2ZW50PXZvaWQgMDt2YXIgaT1yKDApO3QuRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFdmVudChlKXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxFdmVudCksdGhpcy5fbmFtZT1lLHRoaXMuX2NhbGxiYWNrcz1bXX1yZXR1cm4gRXZlbnQucHJvdG90eXBlLmFkZEhhbmRsZXI9ZnVuY3Rpb24gYWRkSGFuZGxlcihlKXt0aGlzLl9jYWxsYmFja3MucHVzaChlKX0sRXZlbnQucHJvdG90eXBlLnJlbW92ZUhhbmRsZXI9ZnVuY3Rpb24gcmVtb3ZlSGFuZGxlcihlKXt2YXIgdD10aGlzLl9jYWxsYmFja3MuZmluZEluZGV4KGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pO3Q+PTAmJnRoaXMuX2NhbGxiYWNrcy5zcGxpY2UodCwxKX0sRXZlbnQucHJvdG90eXBlLnJhaXNlPWZ1bmN0aW9uIHJhaXNlKCl7aS5Mb2cuZGVidWcoXCJFdmVudDogUmFpc2luZyBldmVudDogXCIrdGhpcy5fbmFtZSk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jYWxsYmFja3MubGVuZ3RoO2UrKyl7dmFyIHQ7KHQ9dGhpcy5fY2FsbGJhY2tzKVtlXS5hcHBseSh0LGFyZ3VtZW50cyl9fSxFdmVudH0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQWNjZXNzVG9rZW5FdmVudHM9dm9pZCAwO3ZhciBpPXIoMCksbj1yKDIyKTt2YXIgbz02MDt0LkFjY2Vzc1Rva2VuRXZlbnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWNjZXNzVG9rZW5FdmVudHMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lLHI9dm9pZCAwPT09dD9vOnQsaT1lLmFjY2Vzc1Rva2VuRXhwaXJpbmdUaW1lcixzPXZvaWQgMD09PWk/bmV3IG4uVGltZXIoXCJBY2Nlc3MgdG9rZW4gZXhwaXJpbmdcIik6aSxhPWUuYWNjZXNzVG9rZW5FeHBpcmVkVGltZXIsdT12b2lkIDA9PT1hP25ldyBuLlRpbWVyKFwiQWNjZXNzIHRva2VuIGV4cGlyZWRcIik6YTshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxBY2Nlc3NUb2tlbkV2ZW50cyksdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZ05vdGlmaWNhdGlvblRpbWU9cix0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyaW5nPXMsdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmVkPXV9cmV0dXJuIEFjY2Vzc1Rva2VuRXZlbnRzLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uIGxvYWQoZSl7aWYoZS5hY2Nlc3NfdG9rZW4mJnZvaWQgMCE9PWUuZXhwaXJlc19pbil7dmFyIHQ9ZS5leHBpcmVzX2luO2lmKGkuTG9nLmRlYnVnKFwiQWNjZXNzVG9rZW5FdmVudHMubG9hZDogYWNjZXNzIHRva2VuIHByZXNlbnQsIHJlbWFpbmluZyBkdXJhdGlvbjpcIix0KSx0PjApe3ZhciByPXQtdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZ05vdGlmaWNhdGlvblRpbWU7cjw9MCYmKHI9MSksaS5Mb2cuZGVidWcoXCJBY2Nlc3NUb2tlbkV2ZW50cy5sb2FkOiByZWdpc3RlcmluZyBleHBpcmluZyB0aW1lciBpbjpcIixyKSx0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyaW5nLmluaXQocil9ZWxzZSBpLkxvZy5kZWJ1ZyhcIkFjY2Vzc1Rva2VuRXZlbnRzLmxvYWQ6IGNhbmNlbGluZyBleGlzdGluZyBleHBpcmluZyB0aW1lciBiZWNhc2Ugd2UncmUgcGFzdCBleHBpcmF0aW9uLlwiKSx0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyaW5nLmNhbmNlbCgpO3ZhciBuPXQrMTtpLkxvZy5kZWJ1ZyhcIkFjY2Vzc1Rva2VuRXZlbnRzLmxvYWQ6IHJlZ2lzdGVyaW5nIGV4cGlyZWQgdGltZXIgaW46XCIsbiksdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmVkLmluaXQobil9ZWxzZSB0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyaW5nLmNhbmNlbCgpLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJlZC5jYW5jZWwoKX0sQWNjZXNzVG9rZW5FdmVudHMucHJvdG90eXBlLnVubG9hZD1mdW5jdGlvbiB1bmxvYWQoKXtpLkxvZy5kZWJ1ZyhcIkFjY2Vzc1Rva2VuRXZlbnRzLnVubG9hZDogY2FuY2VsaW5nIGV4aXN0aW5nIGFjY2VzcyB0b2tlbiB0aW1lcnNcIiksdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZy5jYW5jZWwoKSx0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyZWQuY2FuY2VsKCl9LEFjY2Vzc1Rva2VuRXZlbnRzLnByb3RvdHlwZS5hZGRBY2Nlc3NUb2tlbkV4cGlyaW5nPWZ1bmN0aW9uIGFkZEFjY2Vzc1Rva2VuRXhwaXJpbmcoZSl7dGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZy5hZGRIYW5kbGVyKGUpfSxBY2Nlc3NUb2tlbkV2ZW50cy5wcm90b3R5cGUucmVtb3ZlQWNjZXNzVG9rZW5FeHBpcmluZz1mdW5jdGlvbiByZW1vdmVBY2Nlc3NUb2tlbkV4cGlyaW5nKGUpe3RoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmcucmVtb3ZlSGFuZGxlcihlKX0sQWNjZXNzVG9rZW5FdmVudHMucHJvdG90eXBlLmFkZEFjY2Vzc1Rva2VuRXhwaXJlZD1mdW5jdGlvbiBhZGRBY2Nlc3NUb2tlbkV4cGlyZWQoZSl7dGhpcy5fYWNjZXNzVG9rZW5FeHBpcmVkLmFkZEhhbmRsZXIoZSl9LEFjY2Vzc1Rva2VuRXZlbnRzLnByb3RvdHlwZS5yZW1vdmVBY2Nlc3NUb2tlbkV4cGlyZWQ9ZnVuY3Rpb24gcmVtb3ZlQWNjZXNzVG9rZW5FeHBpcmVkKGUpe3RoaXMuX2FjY2Vzc1Rva2VuRXhwaXJlZC5yZW1vdmVIYW5kbGVyKGUpfSxBY2Nlc3NUb2tlbkV2ZW50c30oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVXNlcj12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKSxuPXIoMCk7dC5Vc2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVXNlcihlKXt2YXIgdD1lLmlkX3Rva2VuLHI9ZS5zZXNzaW9uX3N0YXRlLGk9ZS5hY2Nlc3NfdG9rZW4sbj1lLnRva2VuX3R5cGUsbz1lLnNjb3BlLHM9ZS5wcm9maWxlLGE9ZS5leHBpcmVzX2F0LHU9ZS5zdGF0ZTshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxVc2VyKSx0aGlzLmlkX3Rva2VuPXQsdGhpcy5zZXNzaW9uX3N0YXRlPXIsdGhpcy5hY2Nlc3NfdG9rZW49aSx0aGlzLnRva2VuX3R5cGU9bix0aGlzLnNjb3BlPW8sdGhpcy5wcm9maWxlPXMsdGhpcy5leHBpcmVzX2F0PWEsdGhpcy5zdGF0ZT11fXJldHVybiBVc2VyLnByb3RvdHlwZS50b1N0b3JhZ2VTdHJpbmc9ZnVuY3Rpb24gdG9TdG9yYWdlU3RyaW5nKCl7cmV0dXJuIG4uTG9nLmRlYnVnKFwiVXNlci50b1N0b3JhZ2VTdHJpbmdcIiksSlNPTi5zdHJpbmdpZnkoe2lkX3Rva2VuOnRoaXMuaWRfdG9rZW4sc2Vzc2lvbl9zdGF0ZTp0aGlzLnNlc3Npb25fc3RhdGUsYWNjZXNzX3Rva2VuOnRoaXMuYWNjZXNzX3Rva2VuLHRva2VuX3R5cGU6dGhpcy50b2tlbl90eXBlLHNjb3BlOnRoaXMuc2NvcGUscHJvZmlsZTp0aGlzLnByb2ZpbGUsZXhwaXJlc19hdDp0aGlzLmV4cGlyZXNfYXR9KX0sVXNlci5mcm9tU3RvcmFnZVN0cmluZz1mdW5jdGlvbiBmcm9tU3RvcmFnZVN0cmluZyhlKXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJVc2VyLmZyb21TdG9yYWdlU3RyaW5nXCIpLG5ldyBVc2VyKEpTT04ucGFyc2UoZSkpfSxpKFVzZXIsW3trZXk6XCJleHBpcmVzX2luXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe2lmKHRoaXMuZXhwaXJlc19hdCl7dmFyIGU9cGFyc2VJbnQoRGF0ZS5ub3coKS8xZTMpO3JldHVybiB0aGlzLmV4cGlyZXNfYXQtZX19fSx7a2V5OlwiZXhwaXJlZFwiLGdldDpmdW5jdGlvbiBnZXQoKXt2YXIgZT10aGlzLmV4cGlyZXNfaW47aWYodm9pZCAwIT09ZSlyZXR1cm4gZTw9MH19LHtrZXk6XCJzY29wZXNcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuKHRoaXMuc2NvcGV8fFwiXCIpLnNwbGl0KFwiIFwiKX19XSksVXNlcn0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1cbi8vIEBwcmVzZXJ2ZSBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBPcGVuIFRlY2hub2xvZ2llcywgSW5jLlxuZnVuY3Rpb24gcmFuZG9tKCl7Zm9yKHZhciBlPVwieHh4eHh4eHh4eHh4NHh4eHl4eHh4eHh4eHh4eHh4eHhcIix0PVwiMDEyMzQ1Njc4OWFiY2RlZlwiLHI9MCxpPVwiXCIsbj0wO248ZS5sZW5ndGg7bisrKVwiLVwiIT09ZVtuXSYmXCI0XCIhPT1lW25dJiYocj0xNipNYXRoLnJhbmRvbSgpfDApLFwieFwiPT09ZVtuXT9pKz10W3JdOlwieVwiPT09ZVtuXT8ociY9MyxpKz10W3J8PThdKTppKz1lW25dO3JldHVybiBpfSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TaWduaW5TdGF0ZT12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKSxuPXIoMCksbz1yKDQpLHM9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoMTQpKTt0LlNpZ25pblN0YXRlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFNpZ25pblN0YXRlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9dC5ub25jZSxpPXQuYXV0aG9yaXR5LG49dC5jbGllbnRfaWQ7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsU2lnbmluU3RhdGUpO3ZhciBvPWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9KHRoaXMsZS5jYWxsKHRoaXMsYXJndW1lbnRzWzBdKSk7cmV0dXJuITA9PT1yP28uX25vbmNlPSgwLHMuZGVmYXVsdCkoKTpyJiYoby5fbm9uY2U9ciksby5fYXV0aG9yaXR5PWksby5fY2xpZW50X2lkPW4sb31yZXR1cm4gZnVuY3Rpb24gX2luaGVyaXRzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9KFNpZ25pblN0YXRlLGUpLFNpZ25pblN0YXRlLnByb3RvdHlwZS50b1N0b3JhZ2VTdHJpbmc9ZnVuY3Rpb24gdG9TdG9yYWdlU3RyaW5nKCl7cmV0dXJuIG4uTG9nLmRlYnVnKFwiU2lnbmluU3RhdGUudG9TdG9yYWdlU3RyaW5nXCIpLEpTT04uc3RyaW5naWZ5KHtpZDp0aGlzLmlkLGRhdGE6dGhpcy5kYXRhLGNyZWF0ZWQ6dGhpcy5jcmVhdGVkLG5vbmNlOnRoaXMubm9uY2UsYXV0aG9yaXR5OnRoaXMuYXV0aG9yaXR5LGNsaWVudF9pZDp0aGlzLmNsaWVudF9pZH0pfSxTaWduaW5TdGF0ZS5mcm9tU3RvcmFnZVN0cmluZz1mdW5jdGlvbiBmcm9tU3RvcmFnZVN0cmluZyhlKXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJTaWduaW5TdGF0ZS5mcm9tU3RvcmFnZVN0cmluZ1wiKSxuZXcgU2lnbmluU3RhdGUoSlNPTi5wYXJzZShlKSl9LGkoU2lnbmluU3RhdGUsW3trZXk6XCJub25jZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fbm9uY2V9fSx7a2V5OlwiYXV0aG9yaXR5XCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9hdXRob3JpdHl9fSx7a2V5OlwiY2xpZW50X2lkXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9jbGllbnRfaWR9fV0pLFNpZ25pblN0YXRlfShvLlN0YXRlKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRXJyb3JSZXNwb25zZT12b2lkIDA7dmFyIGk9cigwKTt0LkVycm9yUmVzcG9uc2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gRXJyb3JSZXNwb25zZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPXQuZXJyb3Isbj10LmVycm9yX2Rlc2NyaXB0aW9uLG89dC5lcnJvcl91cmkscz10LnN0YXRlO2lmKGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsRXJyb3JSZXNwb25zZSksIXIpdGhyb3cgaS5Mb2cuZXJyb3IoXCJObyBlcnJvciBwYXNzZWQgdG8gRXJyb3JSZXNwb25zZVwiKSxuZXcgRXJyb3IoXCJlcnJvclwiKTt2YXIgYT1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fSh0aGlzLGUuY2FsbCh0aGlzLG58fHIpKTtyZXR1cm4gYS5uYW1lPVwiRXJyb3JSZXNwb25zZVwiLGEuZXJyb3I9cixhLmVycm9yX2Rlc2NyaXB0aW9uPW4sYS5lcnJvcl91cmk9byxhLnN0YXRlPXMsYX1yZXR1cm4gZnVuY3Rpb24gX2luaGVyaXRzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9KEVycm9yUmVzcG9uc2UsZSksRXJyb3JSZXNwb25zZX0oRXJyb3IpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Kc29uU2VydmljZT12b2lkIDA7dmFyIGk9cigwKSxuPXIoMSk7dC5Kc29uU2VydmljZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEpzb25TZXJ2aWNlKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bi5HbG9iYWwuWE1MSHR0cFJlcXVlc3Q7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsSnNvblNlcnZpY2UpLGUmJkFycmF5LmlzQXJyYXkoZSk/dGhpcy5fY29udGVudFR5cGVzPWUuc2xpY2UoKTp0aGlzLl9jb250ZW50VHlwZXM9W10sdGhpcy5fY29udGVudFR5cGVzLnB1c2goXCJhcHBsaWNhdGlvbi9qc29uXCIpLHRoaXMuX1hNTEh0dHBSZXF1ZXN0PXR9cmV0dXJuIEpzb25TZXJ2aWNlLnByb3RvdHlwZS5nZXRKc29uPWZ1bmN0aW9uIGdldEpzb24oZSx0KXt2YXIgcj10aGlzO2lmKCFlKXRocm93IGkuTG9nLmVycm9yKFwiSnNvblNlcnZpY2UuZ2V0SnNvbjogTm8gdXJsIHBhc3NlZFwiKSxuZXcgRXJyb3IoXCJ1cmxcIik7cmV0dXJuIGkuTG9nLmRlYnVnKFwiSnNvblNlcnZpY2UuZ2V0SnNvbiwgdXJsOiBcIixlKSxuZXcgUHJvbWlzZShmdW5jdGlvbihuLG8pe3ZhciBzPW5ldyByLl9YTUxIdHRwUmVxdWVzdDtzLm9wZW4oXCJHRVRcIixlKTt2YXIgYT1yLl9jb250ZW50VHlwZXM7cy5vbmxvYWQ9ZnVuY3Rpb24oKXtpZihpLkxvZy5kZWJ1ZyhcIkpzb25TZXJ2aWNlLmdldEpzb246IEhUVFAgcmVzcG9uc2UgcmVjZWl2ZWQsIHN0YXR1c1wiLHMuc3RhdHVzKSwyMDA9PT1zLnN0YXR1cyl7dmFyIHQ9cy5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtpZih0KWlmKGEuZmluZChmdW5jdGlvbihlKXtpZih0LnN0YXJ0c1dpdGgoZSkpcmV0dXJuITB9KSl0cnl7cmV0dXJuIHZvaWQgbihKU09OLnBhcnNlKHMucmVzcG9uc2VUZXh0KSl9Y2F0Y2goZSl7cmV0dXJuIGkuTG9nLmVycm9yKFwiSnNvblNlcnZpY2UuZ2V0SnNvbjogRXJyb3IgcGFyc2luZyBKU09OIHJlc3BvbnNlXCIsZS5tZXNzYWdlKSx2b2lkIG8oZSl9byhFcnJvcihcIkludmFsaWQgcmVzcG9uc2UgQ29udGVudC1UeXBlOiBcIit0K1wiLCBmcm9tIFVSTDogXCIrZSkpfWVsc2UgbyhFcnJvcihzLnN0YXR1c1RleHQrXCIgKFwiK3Muc3RhdHVzK1wiKVwiKSl9LHMub25lcnJvcj1mdW5jdGlvbigpe2kuTG9nLmVycm9yKFwiSnNvblNlcnZpY2UuZ2V0SnNvbjogbmV0d29yayBlcnJvclwiKSxvKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LHQmJihpLkxvZy5kZWJ1ZyhcIkpzb25TZXJ2aWNlLmdldEpzb246IHRva2VuIHBhc3NlZCwgc2V0dGluZyBBdXRob3JpemF0aW9uIGhlYWRlclwiKSxzLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsXCJCZWFyZXIgXCIrdCkpLHMuc2VuZCgpfSl9LEpzb25TZXJ2aWNlfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5PaWRjQ2xpZW50PXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsdCksciYmZGVmaW5lUHJvcGVydGllcyhlLHIpLGV9fSgpLG49cigwKSxvPXIoNikscz1yKDE2KSxhPXIoMzUpLHU9cigzNCksYz1yKDMzKSxoPXIoMzIpLGw9cigxNSksZj1yKDQpO3QuT2lkY0NsaWVudD1mdW5jdGlvbigpe2Z1bmN0aW9uIE9pZGNDbGllbnQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsT2lkY0NsaWVudCksZSBpbnN0YW5jZW9mIG8uT2lkY0NsaWVudFNldHRpbmdzP3RoaXMuX3NldHRpbmdzPWU6dGhpcy5fc2V0dGluZ3M9bmV3IG8uT2lkY0NsaWVudFNldHRpbmdzKGUpfXJldHVybiBPaWRjQ2xpZW50LnByb3RvdHlwZS5jcmVhdGVTaWduaW5SZXF1ZXN0PWZ1bmN0aW9uIGNyZWF0ZVNpZ25pblJlcXVlc3QoKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9dC5yZXNwb25zZV90eXBlLGk9dC5zY29wZSxvPXQucmVkaXJlY3RfdXJpLHM9dC5kYXRhLHU9dC5zdGF0ZSxjPXQucHJvbXB0LGg9dC5kaXNwbGF5LGw9dC5tYXhfYWdlLGY9dC51aV9sb2NhbGVzLGc9dC5pZF90b2tlbl9oaW50LHA9dC5sb2dpbl9oaW50LGQ9dC5hY3JfdmFsdWVzLHY9dC5yZXNvdXJjZSx5PXQucmVxdWVzdCxtPXQucmVxdWVzdF91cmksUz10LmV4dHJhUXVlcnlQYXJhbXMsYj1hcmd1bWVudHNbMV07bi5Mb2cuZGVidWcoXCJPaWRjQ2xpZW50LmNyZWF0ZVNpZ25pblJlcXVlc3RcIik7dmFyIEY9dGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkO3I9cnx8dGhpcy5fc2V0dGluZ3MucmVzcG9uc2VfdHlwZSxpPWl8fHRoaXMuX3NldHRpbmdzLnNjb3BlLG89b3x8dGhpcy5fc2V0dGluZ3MucmVkaXJlY3RfdXJpLGM9Y3x8dGhpcy5fc2V0dGluZ3MucHJvbXB0LGg9aHx8dGhpcy5fc2V0dGluZ3MuZGlzcGxheSxsPWx8fHRoaXMuX3NldHRpbmdzLm1heF9hZ2UsZj1mfHx0aGlzLl9zZXR0aW5ncy51aV9sb2NhbGVzLGQ9ZHx8dGhpcy5fc2V0dGluZ3MuYWNyX3ZhbHVlcyx2PXZ8fHRoaXMuX3NldHRpbmdzLnJlc291cmNlLFM9U3x8dGhpcy5fc2V0dGluZ3MuZXh0cmFRdWVyeVBhcmFtczt2YXIgXz10aGlzLl9zZXR0aW5ncy5hdXRob3JpdHk7cmV0dXJuIHRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRBdXRob3JpemF0aW9uRW5kcG9pbnQoKS50aGVuKGZ1bmN0aW9uKHQpe24uTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5jcmVhdGVTaWduaW5SZXF1ZXN0OiBSZWNlaXZlZCBhdXRob3JpemF0aW9uIGVuZHBvaW50XCIsdCk7dmFyIHc9bmV3IGEuU2lnbmluUmVxdWVzdCh7dXJsOnQsY2xpZW50X2lkOkYscmVkaXJlY3RfdXJpOm8scmVzcG9uc2VfdHlwZTpyLHNjb3BlOmksZGF0YTpzfHx1LGF1dGhvcml0eTpfLHByb21wdDpjLGRpc3BsYXk6aCxtYXhfYWdlOmwsdWlfbG9jYWxlczpmLGlkX3Rva2VuX2hpbnQ6Zyxsb2dpbl9oaW50OnAsYWNyX3ZhbHVlczpkLHJlc291cmNlOnYscmVxdWVzdDp5LHJlcXVlc3RfdXJpOm0sZXh0cmFRdWVyeVBhcmFtczpTfSksRT13LnN0YXRlO3JldHVybihiPWJ8fGUuX3N0YXRlU3RvcmUpLnNldChFLmlkLEUudG9TdG9yYWdlU3RyaW5nKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gd30pfSl9LE9pZGNDbGllbnQucHJvdG90eXBlLnByb2Nlc3NTaWduaW5SZXNwb25zZT1mdW5jdGlvbiBwcm9jZXNzU2lnbmluUmVzcG9uc2UoZSx0KXt2YXIgcj10aGlzO24uTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5wcm9jZXNzU2lnbmluUmVzcG9uc2VcIik7dmFyIGk9bmV3IHUuU2lnbmluUmVzcG9uc2UoZSk7cmV0dXJuIGkuc3RhdGU/KHQ9dHx8dGhpcy5fc3RhdGVTdG9yZSkucmVtb3ZlKGkuc3RhdGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbi5Mb2cuZXJyb3IoXCJPaWRjQ2xpZW50LnByb2Nlc3NTaWduaW5SZXNwb25zZTogTm8gbWF0Y2hpbmcgc3RhdGUgZm91bmQgaW4gc3RvcmFnZVwiKSxuZXcgRXJyb3IoXCJObyBtYXRjaGluZyBzdGF0ZSBmb3VuZCBpbiBzdG9yYWdlXCIpO3ZhciB0PWwuU2lnbmluU3RhdGUuZnJvbVN0b3JhZ2VTdHJpbmcoZSk7cmV0dXJuIG4uTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5wcm9jZXNzU2lnbmluUmVzcG9uc2U6IFJlY2VpdmVkIHN0YXRlIGZyb20gc3RvcmFnZTsgdmFsaWRhdGluZyByZXNwb25zZVwiKSxyLl92YWxpZGF0b3IudmFsaWRhdGVTaWduaW5SZXNwb25zZSh0LGkpfSk6KG4uTG9nLmVycm9yKFwiT2lkY0NsaWVudC5wcm9jZXNzU2lnbmluUmVzcG9uc2U6IE5vIHN0YXRlIGluIHJlc3BvbnNlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHN0YXRlIGluIHJlc3BvbnNlXCIpKSl9LE9pZGNDbGllbnQucHJvdG90eXBlLmNyZWF0ZVNpZ25vdXRSZXF1ZXN0PWZ1bmN0aW9uIGNyZWF0ZVNpZ25vdXRSZXF1ZXN0KCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPXQuaWRfdG9rZW5faGludCxpPXQuZGF0YSxvPXQuc3RhdGUscz10LnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaSxhPWFyZ3VtZW50c1sxXTtyZXR1cm4gbi5Mb2cuZGVidWcoXCJPaWRjQ2xpZW50LmNyZWF0ZVNpZ25vdXRSZXF1ZXN0XCIpLHM9c3x8dGhpcy5fc2V0dGluZ3MucG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpLHRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRFbmRTZXNzaW9uRW5kcG9pbnQoKS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IG4uTG9nLmVycm9yKFwiT2lkY0NsaWVudC5jcmVhdGVTaWdub3V0UmVxdWVzdDogTm8gZW5kIHNlc3Npb24gZW5kcG9pbnQgdXJsIHJldHVybmVkXCIpLG5ldyBFcnJvcihcIm5vIGVuZCBzZXNzaW9uIGVuZHBvaW50XCIpO24uTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5jcmVhdGVTaWdub3V0UmVxdWVzdDogUmVjZWl2ZWQgZW5kIHNlc3Npb24gZW5kcG9pbnRcIix0KTt2YXIgdT1uZXcgYy5TaWdub3V0UmVxdWVzdCh7dXJsOnQsaWRfdG9rZW5faGludDpyLHBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaTpzLGRhdGE6aXx8b30pLGg9dS5zdGF0ZTtyZXR1cm4gaCYmKG4uTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5jcmVhdGVTaWdub3V0UmVxdWVzdDogU2lnbm91dCByZXF1ZXN0IGhhcyBzdGF0ZSB0byBwZXJzaXN0XCIpLChhPWF8fGUuX3N0YXRlU3RvcmUpLnNldChoLmlkLGgudG9TdG9yYWdlU3RyaW5nKCkpKSx1fSl9LE9pZGNDbGllbnQucHJvdG90eXBlLnByb2Nlc3NTaWdub3V0UmVzcG9uc2U9ZnVuY3Rpb24gcHJvY2Vzc1NpZ25vdXRSZXNwb25zZShlLHQpe3ZhciByPXRoaXM7bi5Mb2cuZGVidWcoXCJPaWRjQ2xpZW50LnByb2Nlc3NTaWdub3V0UmVzcG9uc2VcIik7dmFyIGk9bmV3IGguU2lnbm91dFJlc3BvbnNlKGUpO2lmKCFpLnN0YXRlKXJldHVybiBuLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25vdXRSZXNwb25zZTogTm8gc3RhdGUgaW4gcmVzcG9uc2VcIiksaS5lcnJvcj8obi5Mb2cud2FybihcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25vdXRSZXNwb25zZTogUmVzcG9uc2Ugd2FzIGVycm9yOiBcIixpLmVycm9yKSxQcm9taXNlLnJlamVjdChuZXcgcy5FcnJvclJlc3BvbnNlKGkpKSk6UHJvbWlzZS5yZXNvbHZlKGkpO3ZhciBvPWkuc3RhdGU7cmV0dXJuKHQ9dHx8dGhpcy5fc3RhdGVTdG9yZSkucmVtb3ZlKG8pLnRoZW4oZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbi5Mb2cuZXJyb3IoXCJPaWRjQ2xpZW50LnByb2Nlc3NTaWdub3V0UmVzcG9uc2U6IE5vIG1hdGNoaW5nIHN0YXRlIGZvdW5kIGluIHN0b3JhZ2VcIiksbmV3IEVycm9yKFwiTm8gbWF0Y2hpbmcgc3RhdGUgZm91bmQgaW4gc3RvcmFnZVwiKTt2YXIgdD1mLlN0YXRlLmZyb21TdG9yYWdlU3RyaW5nKGUpO3JldHVybiBuLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25vdXRSZXNwb25zZTogUmVjZWl2ZWQgc3RhdGUgZnJvbSBzdG9yYWdlOyB2YWxpZGF0aW5nIHJlc3BvbnNlXCIpLHIuX3ZhbGlkYXRvci52YWxpZGF0ZVNpZ25vdXRSZXNwb25zZSh0LGkpfSl9LE9pZGNDbGllbnQucHJvdG90eXBlLmNsZWFyU3RhbGVTdGF0ZT1mdW5jdGlvbiBjbGVhclN0YWxlU3RhdGUoZSl7cmV0dXJuIG4uTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5jbGVhclN0YWxlU3RhdGVcIiksZT1lfHx0aGlzLl9zdGF0ZVN0b3JlLGYuU3RhdGUuY2xlYXJTdGFsZVN0YXRlKGUsdGhpcy5zZXR0aW5ncy5zdGFsZVN0YXRlQWdlKX0saShPaWRjQ2xpZW50LFt7a2V5OlwiX3N0YXRlU3RvcmVcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuc2V0dGluZ3Muc3RhdGVTdG9yZX19LHtrZXk6XCJfdmFsaWRhdG9yXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNldHRpbmdzLnZhbGlkYXRvcn19LHtrZXk6XCJfbWV0YWRhdGFTZXJ2aWNlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNldHRpbmdzLm1ldGFkYXRhU2VydmljZX19LHtrZXk6XCJzZXR0aW5nc1wiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3N9fSx7a2V5OlwibWV0YWRhdGFTZXJ2aWNlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9tZXRhZGF0YVNlcnZpY2V9fV0pLE9pZGNDbGllbnR9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvcmRvdmFJRnJhbWVOYXZpZ2F0b3I9dm9pZCAwO3ZhciBpPXIoNyk7dC5Db3Jkb3ZhSUZyYW1lTmF2aWdhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ29yZG92YUlGcmFtZU5hdmlnYXRvcigpeyFmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLENvcmRvdmFJRnJhbWVOYXZpZ2F0b3IpfXJldHVybiBDb3Jkb3ZhSUZyYW1lTmF2aWdhdG9yLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uIHByZXBhcmUoZSl7ZS5wb3B1cFdpbmRvd0ZlYXR1cmVzPVwiaGlkZGVuPXllc1wiO3ZhciB0PW5ldyBpLkNvcmRvdmFQb3B1cFdpbmRvdyhlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHQpfSxDb3Jkb3ZhSUZyYW1lTmF2aWdhdG9yfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db3Jkb3ZhUG9wdXBOYXZpZ2F0b3I9dm9pZCAwO3ZhciBpPXIoNyk7dC5Db3Jkb3ZhUG9wdXBOYXZpZ2F0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDb3Jkb3ZhUG9wdXBOYXZpZ2F0b3IoKXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxDb3Jkb3ZhUG9wdXBOYXZpZ2F0b3IpfXJldHVybiBDb3Jkb3ZhUG9wdXBOYXZpZ2F0b3IucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24gcHJlcGFyZShlKXt2YXIgdD1uZXcgaS5Db3Jkb3ZhUG9wdXBXaW5kb3coZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KX0sQ29yZG92YVBvcHVwTmF2aWdhdG9yfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TaWxlbnRSZW5ld1NlcnZpY2U9dm9pZCAwO3ZhciBpPXIoMCk7dC5TaWxlbnRSZW5ld1NlcnZpY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTaWxlbnRSZW5ld1NlcnZpY2UoZSl7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsU2lsZW50UmVuZXdTZXJ2aWNlKSx0aGlzLl91c2VyTWFuYWdlcj1lfXJldHVybiBTaWxlbnRSZW5ld1NlcnZpY2UucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uIHN0YXJ0KCl7dGhpcy5fY2FsbGJhY2t8fCh0aGlzLl9jYWxsYmFjaz10aGlzLl90b2tlbkV4cGlyaW5nLmJpbmQodGhpcyksdGhpcy5fdXNlck1hbmFnZXIuZXZlbnRzLmFkZEFjY2Vzc1Rva2VuRXhwaXJpbmcodGhpcy5fY2FsbGJhY2spLHRoaXMuX3VzZXJNYW5hZ2VyLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKGUpe30pLmNhdGNoKGZ1bmN0aW9uKGUpe2kuTG9nLmVycm9yKFwiU2lsZW50UmVuZXdTZXJ2aWNlLnN0YXJ0OiBFcnJvciBmcm9tIGdldFVzZXI6XCIsZS5tZXNzYWdlKX0pKX0sU2lsZW50UmVuZXdTZXJ2aWNlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uIHN0b3AoKXt0aGlzLl9jYWxsYmFjayYmKHRoaXMuX3VzZXJNYW5hZ2VyLmV2ZW50cy5yZW1vdmVBY2Nlc3NUb2tlbkV4cGlyaW5nKHRoaXMuX2NhbGxiYWNrKSxkZWxldGUgdGhpcy5fY2FsbGJhY2spfSxTaWxlbnRSZW5ld1NlcnZpY2UucHJvdG90eXBlLl90b2tlbkV4cGlyaW5nPWZ1bmN0aW9uIF90b2tlbkV4cGlyaW5nKCl7dmFyIGU9dGhpczt0aGlzLl91c2VyTWFuYWdlci5zaWduaW5TaWxlbnQoKS50aGVuKGZ1bmN0aW9uKGUpe2kuTG9nLmRlYnVnKFwiU2lsZW50UmVuZXdTZXJ2aWNlLl90b2tlbkV4cGlyaW5nOiBTaWxlbnQgdG9rZW4gcmVuZXdhbCBzdWNjZXNzZnVsXCIpfSxmdW5jdGlvbih0KXtpLkxvZy5lcnJvcihcIlNpbGVudFJlbmV3U2VydmljZS5fdG9rZW5FeHBpcmluZzogRXJyb3IgZnJvbSBzaWduaW5TaWxlbnQ6XCIsdC5tZXNzYWdlKSxlLl91c2VyTWFuYWdlci5ldmVudHMuX3JhaXNlU2lsZW50UmVuZXdFcnJvcih0KX0pfSxTaWxlbnRSZW5ld1NlcnZpY2V9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRpbWVyPXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsdCksciYmZGVmaW5lUHJvcGVydGllcyhlLHIpLGV9fSgpLG49cigwKSxvPXIoMSkscz1yKDExKTt0LlRpbWVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFRpbWVyKHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpvLkdsb2JhbC50aW1lcixpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsVGltZXIpO3ZhciBuPWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9KHRoaXMsZS5jYWxsKHRoaXMsdCkpO3JldHVybiBuLl90aW1lcj1yLG4uX25vd0Z1bmM9aXx8ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS8xZTN9LG59cmV0dXJuIGZ1bmN0aW9uIF9pbmhlcml0cyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfShUaW1lcixlKSxUaW1lci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbiBpbml0KGUpe2U8PTAmJihlPTEpLGU9cGFyc2VJbnQoZSk7dmFyIHQ9dGhpcy5ub3crZTtpZih0aGlzLmV4cGlyYXRpb249PT10JiZ0aGlzLl90aW1lckhhbmRsZSluLkxvZy5kZWJ1ZyhcIlRpbWVyLmluaXQgdGltZXIgXCIrdGhpcy5fbmFtZStcIiBza2lwcGluZyBpbml0aWFsaXphdGlvbiBzaW5jZSBhbHJlYWR5IGluaXRpYWxpemVkIGZvciBleHBpcmF0aW9uOlwiLHRoaXMuZXhwaXJhdGlvbik7ZWxzZXt0aGlzLmNhbmNlbCgpLG4uTG9nLmRlYnVnKFwiVGltZXIuaW5pdCB0aW1lciBcIit0aGlzLl9uYW1lK1wiIGZvciBkdXJhdGlvbjpcIixlKSx0aGlzLl9leHBpcmF0aW9uPXQ7dmFyIHI9NTtlPHImJihyPWUpLHRoaXMuX3RpbWVySGFuZGxlPXRoaXMuX3RpbWVyLnNldEludGVydmFsKHRoaXMuX2NhbGxiYWNrLmJpbmQodGhpcyksMWUzKnIpfX0sVGltZXIucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbiBjYW5jZWwoKXt0aGlzLl90aW1lckhhbmRsZSYmKG4uTG9nLmRlYnVnKFwiVGltZXIuY2FuY2VsOiBcIix0aGlzLl9uYW1lKSx0aGlzLl90aW1lci5jbGVhckludGVydmFsKHRoaXMuX3RpbWVySGFuZGxlKSx0aGlzLl90aW1lckhhbmRsZT1udWxsKX0sVGltZXIucHJvdG90eXBlLl9jYWxsYmFjaz1mdW5jdGlvbiBfY2FsbGJhY2soKXt2YXIgdD10aGlzLl9leHBpcmF0aW9uLXRoaXMubm93O24uTG9nLmRlYnVnKFwiVGltZXIuY2FsbGJhY2s7IFwiK3RoaXMuX25hbWUrXCIgdGltZXIgZXhwaXJlcyBpbjpcIix0KSx0aGlzLl9leHBpcmF0aW9uPD10aGlzLm5vdyYmKHRoaXMuY2FuY2VsKCksZS5wcm90b3R5cGUucmFpc2UuY2FsbCh0aGlzKSl9LGkoVGltZXIsW3trZXk6XCJub3dcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuX25vd0Z1bmMoKSl9fSx7a2V5OlwiZXhwaXJhdGlvblwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fZXhwaXJhdGlvbn19XSksVGltZXJ9KHMuRXZlbnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Vc2VyTWFuYWdlckV2ZW50cz12b2lkIDA7dmFyIGk9cigwKSxuPXIoMTIpLG89cigxMSk7dC5Vc2VyTWFuYWdlckV2ZW50cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBVc2VyTWFuYWdlckV2ZW50cyh0KXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxVc2VyTWFuYWdlckV2ZW50cyk7dmFyIHI9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH0odGhpcyxlLmNhbGwodGhpcyx0KSk7cmV0dXJuIHIuX3VzZXJMb2FkZWQ9bmV3IG8uRXZlbnQoXCJVc2VyIGxvYWRlZFwiKSxyLl91c2VyVW5sb2FkZWQ9bmV3IG8uRXZlbnQoXCJVc2VyIHVubG9hZGVkXCIpLHIuX3NpbGVudFJlbmV3RXJyb3I9bmV3IG8uRXZlbnQoXCJTaWxlbnQgcmVuZXcgZXJyb3JcIiksci5fdXNlclNpZ25lZE91dD1uZXcgby5FdmVudChcIlVzZXIgc2lnbmVkIG91dFwiKSxyLl91c2VyU2Vzc2lvbkNoYW5nZWQ9bmV3IG8uRXZlbnQoXCJVc2VyIHNlc3Npb24gY2hhbmdlZFwiKSxyfXJldHVybiBmdW5jdGlvbiBfaW5oZXJpdHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX0oVXNlck1hbmFnZXJFdmVudHMsZSksVXNlck1hbmFnZXJFdmVudHMucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24gbG9hZCh0KXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2kuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMubG9hZFwiKSxlLnByb3RvdHlwZS5sb2FkLmNhbGwodGhpcyx0KSxyJiZ0aGlzLl91c2VyTG9hZGVkLnJhaXNlKHQpfSxVc2VyTWFuYWdlckV2ZW50cy5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uIHVubG9hZCgpe2kuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMudW5sb2FkXCIpLGUucHJvdG90eXBlLnVubG9hZC5jYWxsKHRoaXMpLHRoaXMuX3VzZXJVbmxvYWRlZC5yYWlzZSgpfSxVc2VyTWFuYWdlckV2ZW50cy5wcm90b3R5cGUuYWRkVXNlckxvYWRlZD1mdW5jdGlvbiBhZGRVc2VyTG9hZGVkKGUpe3RoaXMuX3VzZXJMb2FkZWQuYWRkSGFuZGxlcihlKX0sVXNlck1hbmFnZXJFdmVudHMucHJvdG90eXBlLnJlbW92ZVVzZXJMb2FkZWQ9ZnVuY3Rpb24gcmVtb3ZlVXNlckxvYWRlZChlKXt0aGlzLl91c2VyTG9hZGVkLnJlbW92ZUhhbmRsZXIoZSl9LFVzZXJNYW5hZ2VyRXZlbnRzLnByb3RvdHlwZS5hZGRVc2VyVW5sb2FkZWQ9ZnVuY3Rpb24gYWRkVXNlclVubG9hZGVkKGUpe3RoaXMuX3VzZXJVbmxvYWRlZC5hZGRIYW5kbGVyKGUpfSxVc2VyTWFuYWdlckV2ZW50cy5wcm90b3R5cGUucmVtb3ZlVXNlclVubG9hZGVkPWZ1bmN0aW9uIHJlbW92ZVVzZXJVbmxvYWRlZChlKXt0aGlzLl91c2VyVW5sb2FkZWQucmVtb3ZlSGFuZGxlcihlKX0sVXNlck1hbmFnZXJFdmVudHMucHJvdG90eXBlLmFkZFNpbGVudFJlbmV3RXJyb3I9ZnVuY3Rpb24gYWRkU2lsZW50UmVuZXdFcnJvcihlKXt0aGlzLl9zaWxlbnRSZW5ld0Vycm9yLmFkZEhhbmRsZXIoZSl9LFVzZXJNYW5hZ2VyRXZlbnRzLnByb3RvdHlwZS5yZW1vdmVTaWxlbnRSZW5ld0Vycm9yPWZ1bmN0aW9uIHJlbW92ZVNpbGVudFJlbmV3RXJyb3IoZSl7dGhpcy5fc2lsZW50UmVuZXdFcnJvci5yZW1vdmVIYW5kbGVyKGUpfSxVc2VyTWFuYWdlckV2ZW50cy5wcm90b3R5cGUuX3JhaXNlU2lsZW50UmVuZXdFcnJvcj1mdW5jdGlvbiBfcmFpc2VTaWxlbnRSZW5ld0Vycm9yKGUpe2kuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMuX3JhaXNlU2lsZW50UmVuZXdFcnJvclwiLGUubWVzc2FnZSksdGhpcy5fc2lsZW50UmVuZXdFcnJvci5yYWlzZShlKX0sVXNlck1hbmFnZXJFdmVudHMucHJvdG90eXBlLmFkZFVzZXJTaWduZWRPdXQ9ZnVuY3Rpb24gYWRkVXNlclNpZ25lZE91dChlKXt0aGlzLl91c2VyU2lnbmVkT3V0LmFkZEhhbmRsZXIoZSl9LFVzZXJNYW5hZ2VyRXZlbnRzLnByb3RvdHlwZS5yZW1vdmVVc2VyU2lnbmVkT3V0PWZ1bmN0aW9uIHJlbW92ZVVzZXJTaWduZWRPdXQoZSl7dGhpcy5fdXNlclNpZ25lZE91dC5yZW1vdmVIYW5kbGVyKGUpfSxVc2VyTWFuYWdlckV2ZW50cy5wcm90b3R5cGUuX3JhaXNlVXNlclNpZ25lZE91dD1mdW5jdGlvbiBfcmFpc2VVc2VyU2lnbmVkT3V0KGUpe2kuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMuX3JhaXNlVXNlclNpZ25lZE91dFwiKSx0aGlzLl91c2VyU2lnbmVkT3V0LnJhaXNlKGUpfSxVc2VyTWFuYWdlckV2ZW50cy5wcm90b3R5cGUuYWRkVXNlclNlc3Npb25DaGFuZ2VkPWZ1bmN0aW9uIGFkZFVzZXJTZXNzaW9uQ2hhbmdlZChlKXt0aGlzLl91c2VyU2Vzc2lvbkNoYW5nZWQuYWRkSGFuZGxlcihlKX0sVXNlck1hbmFnZXJFdmVudHMucHJvdG90eXBlLnJlbW92ZVVzZXJTZXNzaW9uQ2hhbmdlZD1mdW5jdGlvbiByZW1vdmVVc2VyU2Vzc2lvbkNoYW5nZWQoZSl7dGhpcy5fdXNlclNlc3Npb25DaGFuZ2VkLnJlbW92ZUhhbmRsZXIoZSl9LFVzZXJNYW5hZ2VyRXZlbnRzLnByb3RvdHlwZS5fcmFpc2VVc2VyU2Vzc2lvbkNoYW5nZWQ9ZnVuY3Rpb24gX3JhaXNlVXNlclNlc3Npb25DaGFuZ2VkKGUpe2kuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMuX3JhaXNlVXNlclNlc3Npb25DaGFuZ2VkXCIpLHRoaXMuX3VzZXJTZXNzaW9uQ2hhbmdlZC5yYWlzZShlKX0sVXNlck1hbmFnZXJFdmVudHN9KG4uQWNjZXNzVG9rZW5FdmVudHMpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JRnJhbWVXaW5kb3c9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCksbj1yKDApO3QuSUZyYW1lV2luZG93PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSUZyYW1lV2luZG93KGUpe3ZhciB0PXRoaXM7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsSUZyYW1lV2luZG93KSx0aGlzLl9wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGUscil7dC5fcmVzb2x2ZT1lLHQuX3JlamVjdD1yfSksdGhpcy5fYm91bmRNZXNzYWdlRXZlbnQ9dGhpcy5fbWVzc2FnZS5iaW5kKHRoaXMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX2JvdW5kTWVzc2FnZUV2ZW50LCExKSx0aGlzLl9mcmFtZT13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSx0aGlzLl9mcmFtZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZnJhbWUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuX2ZyYW1lLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fZnJhbWUuc3R5bGUud2lkdGg9MCx0aGlzLl9mcmFtZS5zdHlsZS5oZWlnaHQ9MCx3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9mcmFtZSl9cmV0dXJuIElGcmFtZVdpbmRvdy5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24gbmF2aWdhdGUoZSl7aWYoZSYmZS51cmwpe3ZhciB0PWUuc2lsZW50UmVxdWVzdFRpbWVvdXR8fDFlNDtuLkxvZy5kZWJ1ZyhcIklGcmFtZVdpbmRvdy5uYXZpZ2F0ZTogVXNpbmcgdGltZW91dCBvZjpcIix0KSx0aGlzLl90aW1lcj13aW5kb3cuc2V0VGltZW91dCh0aGlzLl90aW1lb3V0LmJpbmQodGhpcyksdCksdGhpcy5fZnJhbWUuc3JjPWUudXJsfWVsc2UgdGhpcy5fZXJyb3IoXCJObyB1cmwgcHJvdmlkZWRcIik7cmV0dXJuIHRoaXMucHJvbWlzZX0sSUZyYW1lV2luZG93LnByb3RvdHlwZS5fc3VjY2Vzcz1mdW5jdGlvbiBfc3VjY2VzcyhlKXt0aGlzLl9jbGVhbnVwKCksbi5Mb2cuZGVidWcoXCJJRnJhbWVXaW5kb3c6IFN1Y2Nlc3NmdWwgcmVzcG9uc2UgZnJvbSBmcmFtZSB3aW5kb3dcIiksdGhpcy5fcmVzb2x2ZShlKX0sSUZyYW1lV2luZG93LnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24gX2Vycm9yKGUpe3RoaXMuX2NsZWFudXAoKSxuLkxvZy5lcnJvcihlKSx0aGlzLl9yZWplY3QobmV3IEVycm9yKGUpKX0sSUZyYW1lV2luZG93LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbiBjbG9zZSgpe3RoaXMuX2NsZWFudXAoKX0sSUZyYW1lV2luZG93LnByb3RvdHlwZS5fY2xlYW51cD1mdW5jdGlvbiBfY2xlYW51cCgpe3RoaXMuX2ZyYW1lJiYobi5Mb2cuZGVidWcoXCJJRnJhbWVXaW5kb3c6IGNsZWFudXBcIiksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5fYm91bmRNZXNzYWdlRXZlbnQsITEpLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHdpbmRvdy5kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2ZyYW1lKSx0aGlzLl90aW1lcj1udWxsLHRoaXMuX2ZyYW1lPW51bGwsdGhpcy5fYm91bmRNZXNzYWdlRXZlbnQ9bnVsbCl9LElGcmFtZVdpbmRvdy5wcm90b3R5cGUuX3RpbWVvdXQ9ZnVuY3Rpb24gX3RpbWVvdXQoKXtuLkxvZy5kZWJ1ZyhcIklGcmFtZVdpbmRvdy50aW1lb3V0XCIpLHRoaXMuX2Vycm9yKFwiRnJhbWUgd2luZG93IHRpbWVkIG91dFwiKX0sSUZyYW1lV2luZG93LnByb3RvdHlwZS5fbWVzc2FnZT1mdW5jdGlvbiBfbWVzc2FnZShlKXtpZihuLkxvZy5kZWJ1ZyhcIklGcmFtZVdpbmRvdy5tZXNzYWdlXCIpLHRoaXMuX3RpbWVyJiZlLm9yaWdpbj09PXRoaXMuX29yaWdpbiYmZS5zb3VyY2U9PT10aGlzLl9mcmFtZS5jb250ZW50V2luZG93KXt2YXIgdD1lLmRhdGE7dD90aGlzLl9zdWNjZXNzKHt1cmw6dH0pOnRoaXMuX2Vycm9yKFwiSW52YWxpZCByZXNwb25zZSBmcm9tIGZyYW1lXCIpfX0sSUZyYW1lV2luZG93Lm5vdGlmeVBhcmVudD1mdW5jdGlvbiBub3RpZnlQYXJlbnQoZSl7bi5Mb2cuZGVidWcoXCJJRnJhbWVXaW5kb3cubm90aWZ5UGFyZW50XCIpLHdpbmRvdy5wYXJlbnQmJndpbmRvdyE9PXdpbmRvdy5wYXJlbnQmJihlPWV8fHdpbmRvdy5sb2NhdGlvbi5ocmVmKSYmKG4uTG9nLmRlYnVnKFwiSUZyYW1lV2luZG93Lm5vdGlmeVBhcmVudDogcG9zdGluZyB1cmwgbWVzc2FnZSB0byBwYXJlbnRcIiksd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShlLGxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitsb2NhdGlvbi5ob3N0KSl9LGkoSUZyYW1lV2luZG93LFt7a2V5OlwicHJvbWlzZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX19LHtrZXk6XCJfb3JpZ2luXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBsb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrbG9jYXRpb24uaG9zdH19XSksSUZyYW1lV2luZG93fSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JRnJhbWVOYXZpZ2F0b3I9dm9pZCAwO3ZhciBpPXIoMCksbj1yKDI0KTt0LklGcmFtZU5hdmlnYXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIElGcmFtZU5hdmlnYXRvcigpeyFmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLElGcmFtZU5hdmlnYXRvcil9cmV0dXJuIElGcmFtZU5hdmlnYXRvci5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbiBwcmVwYXJlKGUpe3ZhciB0PW5ldyBuLklGcmFtZVdpbmRvdyhlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHQpfSxJRnJhbWVOYXZpZ2F0b3IucHJvdG90eXBlLmNhbGxiYWNrPWZ1bmN0aW9uIGNhbGxiYWNrKGUpe2kuTG9nLmRlYnVnKFwiSUZyYW1lTmF2aWdhdG9yLmNhbGxiYWNrXCIpO3RyeXtyZXR1cm4gbi5JRnJhbWVXaW5kb3cubm90aWZ5UGFyZW50KGUpLFByb21pc2UucmVzb2x2ZSgpfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX19LElGcmFtZU5hdmlnYXRvcn0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUG9wdXBXaW5kb3c9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCksbj1yKDApLG89cigyKTt2YXIgcz01MDAsYT1cImxvY2F0aW9uPW5vLHRvb2xiYXI9bm8sd2lkdGg9NTAwLGhlaWdodD01MDAsbGVmdD0xMDAsdG9wPTEwMDtcIix1PVwiX2JsYW5rXCI7dC5Qb3B1cFdpbmRvdz1mdW5jdGlvbigpe2Z1bmN0aW9uIFBvcHVwV2luZG93KGUpe3ZhciB0PXRoaXM7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsUG9wdXBXaW5kb3cpLHRoaXMuX3Byb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24oZSxyKXt0Ll9yZXNvbHZlPWUsdC5fcmVqZWN0PXJ9KTt2YXIgcj1lLnBvcHVwV2luZG93VGFyZ2V0fHx1LGk9ZS5wb3B1cFdpbmRvd0ZlYXR1cmVzfHxhO3RoaXMuX3BvcHVwPXdpbmRvdy5vcGVuKFwiXCIscixpKSx0aGlzLl9wb3B1cCYmKG4uTG9nLmRlYnVnKFwiUG9wdXBXaW5kb3cuY3RvcjogcG9wdXAgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcIiksdGhpcy5fY2hlY2tGb3JQb3B1cENsb3NlZFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLl9jaGVja0ZvclBvcHVwQ2xvc2VkLmJpbmQodGhpcykscykpfXJldHVybiBQb3B1cFdpbmRvdy5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24gbmF2aWdhdGUoZSl7cmV0dXJuIHRoaXMuX3BvcHVwP2UmJmUudXJsPyhuLkxvZy5kZWJ1ZyhcIlBvcHVwV2luZG93Lm5hdmlnYXRlOiBTZXR0aW5nIFVSTCBpbiBwb3B1cFwiKSx0aGlzLl9pZD1lLmlkLHRoaXMuX2lkJiYod2luZG93W1wicG9wdXBDYWxsYmFja19cIitlLmlkXT10aGlzLl9jYWxsYmFjay5iaW5kKHRoaXMpKSx0aGlzLl9wb3B1cC5mb2N1cygpLHRoaXMuX3BvcHVwLndpbmRvdy5sb2NhdGlvbj1lLnVybCk6KHRoaXMuX2Vycm9yKFwiUG9wdXBXaW5kb3cubmF2aWdhdGU6IG5vIHVybCBwcm92aWRlZFwiKSx0aGlzLl9lcnJvcihcIk5vIHVybCBwcm92aWRlZFwiKSk6dGhpcy5fZXJyb3IoXCJQb3B1cFdpbmRvdy5uYXZpZ2F0ZTogRXJyb3Igb3BlbmluZyBwb3B1cCB3aW5kb3dcIiksdGhpcy5wcm9taXNlfSxQb3B1cFdpbmRvdy5wcm90b3R5cGUuX3N1Y2Nlc3M9ZnVuY3Rpb24gX3N1Y2Nlc3MoZSl7bi5Mb2cuZGVidWcoXCJQb3B1cFdpbmRvdy5jYWxsYmFjazogU3VjY2Vzc2Z1bCByZXNwb25zZSBmcm9tIHBvcHVwIHdpbmRvd1wiKSx0aGlzLl9jbGVhbnVwKCksdGhpcy5fcmVzb2x2ZShlKX0sUG9wdXBXaW5kb3cucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbiBfZXJyb3IoZSl7bi5Mb2cuZXJyb3IoXCJQb3B1cFdpbmRvdy5lcnJvcjogXCIsZSksdGhpcy5fY2xlYW51cCgpLHRoaXMuX3JlamVjdChuZXcgRXJyb3IoZSkpfSxQb3B1cFdpbmRvdy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24gY2xvc2UoKXt0aGlzLl9jbGVhbnVwKCExKX0sUG9wdXBXaW5kb3cucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uIF9jbGVhbnVwKGUpe24uTG9nLmRlYnVnKFwiUG9wdXBXaW5kb3cuY2xlYW51cFwiKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja0ZvclBvcHVwQ2xvc2VkVGltZXIpLHRoaXMuX2NoZWNrRm9yUG9wdXBDbG9zZWRUaW1lcj1udWxsLGRlbGV0ZSB3aW5kb3dbXCJwb3B1cENhbGxiYWNrX1wiK3RoaXMuX2lkXSx0aGlzLl9wb3B1cCYmIWUmJnRoaXMuX3BvcHVwLmNsb3NlKCksdGhpcy5fcG9wdXA9bnVsbH0sUG9wdXBXaW5kb3cucHJvdG90eXBlLl9jaGVja0ZvclBvcHVwQ2xvc2VkPWZ1bmN0aW9uIF9jaGVja0ZvclBvcHVwQ2xvc2VkKCl7dGhpcy5fcG9wdXAmJiF0aGlzLl9wb3B1cC5jbG9zZWR8fHRoaXMuX2Vycm9yKFwiUG9wdXAgd2luZG93IGNsb3NlZFwiKX0sUG9wdXBXaW5kb3cucHJvdG90eXBlLl9jYWxsYmFjaz1mdW5jdGlvbiBfY2FsbGJhY2soZSx0KXt0aGlzLl9jbGVhbnVwKHQpLGU/KG4uTG9nLmRlYnVnKFwiUG9wdXBXaW5kb3cuY2FsbGJhY2sgc3VjY2Vzc1wiKSx0aGlzLl9zdWNjZXNzKHt1cmw6ZX0pKToobi5Mb2cuZGVidWcoXCJQb3B1cFdpbmRvdy5jYWxsYmFjazogSW52YWxpZCByZXNwb25zZSBmcm9tIHBvcHVwXCIpLHRoaXMuX2Vycm9yKFwiSW52YWxpZCByZXNwb25zZSBmcm9tIHBvcHVwXCIpKX0sUG9wdXBXaW5kb3cubm90aWZ5T3BlbmVyPWZ1bmN0aW9uIG5vdGlmeU9wZW5lcihlLHQscil7aWYod2luZG93Lm9wZW5lcil7aWYoZT1lfHx3aW5kb3cubG9jYXRpb24uaHJlZil7dmFyIGk9by5VcmxVdGlsaXR5LnBhcnNlVXJsRnJhZ21lbnQoZSxyKTtpZihpLnN0YXRlKXt2YXIgcz1cInBvcHVwQ2FsbGJhY2tfXCIraS5zdGF0ZSxhPXdpbmRvdy5vcGVuZXJbc107YT8obi5Mb2cuZGVidWcoXCJQb3B1cFdpbmRvdy5ub3RpZnlPcGVuZXI6IHBhc3NpbmcgdXJsIG1lc3NhZ2UgdG8gb3BlbmVyXCIpLGEoZSx0KSk6bi5Mb2cud2FybihcIlBvcHVwV2luZG93Lm5vdGlmeU9wZW5lcjogbm8gbWF0Y2hpbmcgY2FsbGJhY2sgZm91bmQgb24gb3BlbmVyXCIpfWVsc2Ugbi5Mb2cud2FybihcIlBvcHVwV2luZG93Lm5vdGlmeU9wZW5lcjogbm8gc3RhdGUgZm91bmQgaW4gcmVzcG9uc2UgdXJsXCIpfX1lbHNlIG4uTG9nLndhcm4oXCJQb3B1cFdpbmRvdy5ub3RpZnlPcGVuZXI6IG5vIHdpbmRvdy5vcGVuZXIuIENhbid0IGNvbXBsZXRlIG5vdGlmaWNhdGlvbi5cIil9LGkoUG9wdXBXaW5kb3csW3trZXk6XCJwcm9taXNlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9wcm9taXNlfX1dKSxQb3B1cFdpbmRvd30oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUG9wdXBOYXZpZ2F0b3I9dm9pZCAwO3ZhciBpPXIoMCksbj1yKDI2KTt0LlBvcHVwTmF2aWdhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUG9wdXBOYXZpZ2F0b3IoKXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxQb3B1cE5hdmlnYXRvcil9cmV0dXJuIFBvcHVwTmF2aWdhdG9yLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uIHByZXBhcmUoZSl7dmFyIHQ9bmV3IG4uUG9wdXBXaW5kb3coZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KX0sUG9wdXBOYXZpZ2F0b3IucHJvdG90eXBlLmNhbGxiYWNrPWZ1bmN0aW9uIGNhbGxiYWNrKGUsdCxyKXtpLkxvZy5kZWJ1ZyhcIlBvcHVwTmF2aWdhdG9yLmNhbGxiYWNrXCIpO3RyeXtyZXR1cm4gbi5Qb3B1cFdpbmRvdy5ub3RpZnlPcGVuZXIoZSx0LHIpLFByb21pc2UucmVzb2x2ZSgpfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX19LFBvcHVwTmF2aWdhdG9yfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SZWRpcmVjdE5hdmlnYXRvcj12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKSxuPXIoMCk7dC5SZWRpcmVjdE5hdmlnYXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlZGlyZWN0TmF2aWdhdG9yKCl7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsUmVkaXJlY3ROYXZpZ2F0b3IpfXJldHVybiBSZWRpcmVjdE5hdmlnYXRvci5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbiBwcmVwYXJlKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKX0sUmVkaXJlY3ROYXZpZ2F0b3IucHJvdG90eXBlLm5hdmlnYXRlPWZ1bmN0aW9uIG5hdmlnYXRlKGUpe3JldHVybiBlJiZlLnVybD8od2luZG93LmxvY2F0aW9uPWUudXJsLFByb21pc2UucmVzb2x2ZSgpKToobi5Mb2cuZXJyb3IoXCJSZWRpcmVjdE5hdmlnYXRvci5uYXZpZ2F0ZTogTm8gdXJsIHByb3ZpZGVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHVybCBwcm92aWRlZFwiKSkpfSxpKFJlZGlyZWN0TmF2aWdhdG9yLFt7a2V5OlwidXJsXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZn19XSksUmVkaXJlY3ROYXZpZ2F0b3J9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlVzZXJNYW5hZ2VyU2V0dGluZ3M9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCksbj0ocigwKSxyKDYpKSxvPXIoMjgpLHM9cigyNyksYT1yKDI1KSx1PXIoNSksYz1yKDEpO3ZhciBoPTYwLGw9MmUzLGY9XCJpZF90b2tlblwiO3QuVXNlck1hbmFnZXJTZXR0aW5ncz1mdW5jdGlvbihlKXtmdW5jdGlvbiBVc2VyTWFuYWdlclNldHRpbmdzKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9dC5wb3B1cF9yZWRpcmVjdF91cmksaT10LnBvcHVwX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaSxuPXQucG9wdXBXaW5kb3dGZWF0dXJlcyxnPXQucG9wdXBXaW5kb3dUYXJnZXQscD10LnNpbGVudF9yZWRpcmVjdF91cmksZD10LnNpbGVudFJlcXVlc3RUaW1lb3V0LHY9dC5hdXRvbWF0aWNTaWxlbnRSZW5ldyx5PXZvaWQgMCE9PXYmJnYsbT10LmluY2x1ZGVJZFRva2VuSW5TaWxlbnRSZW5ldyxTPXZvaWQgMD09PW18fG0sYj10Lm1vbml0b3JTZXNzaW9uLEY9dm9pZCAwPT09Ynx8YixfPXQuY2hlY2tTZXNzaW9uSW50ZXJ2YWwsdz12b2lkIDA9PT1fP2w6XyxFPXQuc3RvcENoZWNrU2Vzc2lvbk9uRXJyb3IseD12b2lkIDA9PT1FfHxFLEE9dC5xdWVyeV9zdGF0dXNfcmVzcG9uc2VfdHlwZSxDPXZvaWQgMD09PUE/ZjpBLFA9dC5yZXZva2VBY2Nlc3NUb2tlbk9uU2lnbm91dCxJPXZvaWQgMCE9PVAmJlAsQj10LmFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lLGs9dm9pZCAwPT09Qj9oOkIsUj10LnJlZGlyZWN0TmF2aWdhdG9yLFQ9dm9pZCAwPT09Uj9uZXcgby5SZWRpcmVjdE5hdmlnYXRvcjpSLFU9dC5wb3B1cE5hdmlnYXRvcixEPXZvaWQgMD09PVU/bmV3IHMuUG9wdXBOYXZpZ2F0b3I6VSxNPXQuaWZyYW1lTmF2aWdhdG9yLEw9dm9pZCAwPT09TT9uZXcgYS5JRnJhbWVOYXZpZ2F0b3I6TSxOPXQudXNlclN0b3JlLE89dm9pZCAwPT09Tj9uZXcgdS5XZWJTdG9yYWdlU3RhdGVTdG9yZSh7c3RvcmU6Yy5HbG9iYWwuc2Vzc2lvblN0b3JhZ2V9KTpOOyFmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLFVzZXJNYW5hZ2VyU2V0dGluZ3MpO3ZhciBIPWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9KHRoaXMsZS5jYWxsKHRoaXMsYXJndW1lbnRzWzBdKSk7cmV0dXJuIEguX3BvcHVwX3JlZGlyZWN0X3VyaT1yLEguX3BvcHVwX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT1pLEguX3BvcHVwV2luZG93RmVhdHVyZXM9bixILl9wb3B1cFdpbmRvd1RhcmdldD1nLEguX3NpbGVudF9yZWRpcmVjdF91cmk9cCxILl9zaWxlbnRSZXF1ZXN0VGltZW91dD1kLEguX2F1dG9tYXRpY1NpbGVudFJlbmV3PSEheSxILl9pbmNsdWRlSWRUb2tlbkluU2lsZW50UmVuZXc9UyxILl9hY2Nlc3NUb2tlbkV4cGlyaW5nTm90aWZpY2F0aW9uVGltZT1rLEguX21vbml0b3JTZXNzaW9uPUYsSC5fY2hlY2tTZXNzaW9uSW50ZXJ2YWw9dyxILl9zdG9wQ2hlY2tTZXNzaW9uT25FcnJvcj14LEguX3F1ZXJ5X3N0YXR1c19yZXNwb25zZV90eXBlPUMsSC5fcmV2b2tlQWNjZXNzVG9rZW5PblNpZ25vdXQ9SSxILl9yZWRpcmVjdE5hdmlnYXRvcj1ULEguX3BvcHVwTmF2aWdhdG9yPUQsSC5faWZyYW1lTmF2aWdhdG9yPUwsSC5fdXNlclN0b3JlPU8sSH1yZXR1cm4gZnVuY3Rpb24gX2luaGVyaXRzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9KFVzZXJNYW5hZ2VyU2V0dGluZ3MsZSksaShVc2VyTWFuYWdlclNldHRpbmdzLFt7a2V5OlwicG9wdXBfcmVkaXJlY3RfdXJpXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9wb3B1cF9yZWRpcmVjdF91cml9fSx7a2V5OlwicG9wdXBfcG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9wb3B1cF9wb3N0X2xvZ291dF9yZWRpcmVjdF91cml9fSx7a2V5OlwicG9wdXBXaW5kb3dGZWF0dXJlc1wiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcG9wdXBXaW5kb3dGZWF0dXJlc319LHtrZXk6XCJwb3B1cFdpbmRvd1RhcmdldFwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcG9wdXBXaW5kb3dUYXJnZXR9fSx7a2V5Olwic2lsZW50X3JlZGlyZWN0X3VyaVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2lsZW50X3JlZGlyZWN0X3VyaX19LHtrZXk6XCJzaWxlbnRSZXF1ZXN0VGltZW91dFwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2lsZW50UmVxdWVzdFRpbWVvdXR9fSx7a2V5OlwiYXV0b21hdGljU2lsZW50UmVuZXdcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuISghdGhpcy5zaWxlbnRfcmVkaXJlY3RfdXJpfHwhdGhpcy5fYXV0b21hdGljU2lsZW50UmVuZXcpfX0se2tleTpcImluY2x1ZGVJZFRva2VuSW5TaWxlbnRSZW5ld1wiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5faW5jbHVkZUlkVG9rZW5JblNpbGVudFJlbmV3fX0se2tleTpcImFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyaW5nTm90aWZpY2F0aW9uVGltZX19LHtrZXk6XCJtb25pdG9yU2Vzc2lvblwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fbW9uaXRvclNlc3Npb259fSx7a2V5OlwiY2hlY2tTZXNzaW9uSW50ZXJ2YWxcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2NoZWNrU2Vzc2lvbkludGVydmFsfX0se2tleTpcInN0b3BDaGVja1Nlc3Npb25PbkVycm9yXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9zdG9wQ2hlY2tTZXNzaW9uT25FcnJvcn19LHtrZXk6XCJxdWVyeV9zdGF0dXNfcmVzcG9uc2VfdHlwZVwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcXVlcnlfc3RhdHVzX3Jlc3BvbnNlX3R5cGV9fSx7a2V5OlwicmV2b2tlQWNjZXNzVG9rZW5PblNpZ25vdXRcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX3Jldm9rZUFjY2Vzc1Rva2VuT25TaWdub3V0fX0se2tleTpcInJlZGlyZWN0TmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9yZWRpcmVjdE5hdmlnYXRvcn19LHtrZXk6XCJwb3B1cE5hdmlnYXRvclwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcG9wdXBOYXZpZ2F0b3J9fSx7a2V5OlwiaWZyYW1lTmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9pZnJhbWVOYXZpZ2F0b3J9fSx7a2V5OlwidXNlclN0b3JlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl91c2VyU3RvcmV9fV0pLFVzZXJNYW5hZ2VyU2V0dGluZ3N9KG4uT2lkY0NsaWVudFNldHRpbmdzKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVXNlck1hbmFnZXI9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCksbj1yKDApLG89cigxOCkscz1yKDI5KSxhPXIoMTMpLHU9cigyMyksYz1yKDIxKSxoPXIoMTApLGw9cig4KTt0LlVzZXJNYW5hZ2VyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFVzZXJNYW5hZ2VyKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmMuU2lsZW50UmVuZXdTZXJ2aWNlLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOmguU2Vzc2lvbk1vbml0b3Isbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bC5Ub2tlblJldm9jYXRpb25DbGllbnQ7IWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsVXNlck1hbmFnZXIpLHQgaW5zdGFuY2VvZiBzLlVzZXJNYW5hZ2VyU2V0dGluZ3N8fCh0PW5ldyBzLlVzZXJNYW5hZ2VyU2V0dGluZ3ModCkpO3ZhciBhPWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9KHRoaXMsZS5jYWxsKHRoaXMsdCkpO3JldHVybiBhLl9ldmVudHM9bmV3IHUuVXNlck1hbmFnZXJFdmVudHModCksYS5fc2lsZW50UmVuZXdTZXJ2aWNlPW5ldyByKGEpLGEuc2V0dGluZ3MuYXV0b21hdGljU2lsZW50UmVuZXcmJihuLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLmN0b3I6IGF1dG9tYXRpY1NpbGVudFJlbmV3IGlzIGNvbmZpZ3VyZWQsIHNldHRpbmcgdXAgc2lsZW50IHJlbmV3XCIpLGEuc3RhcnRTaWxlbnRSZW5ldygpKSxhLnNldHRpbmdzLm1vbml0b3JTZXNzaW9uJiYobi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5jdG9yOiBtb25pdG9yU2Vzc2lvbiBpcyBjb25maWd1cmVkLCBzZXR0aW5nIHVwIHNlc3Npb24gbW9uaXRvclwiKSxhLl9zZXNzaW9uTW9uaXRvcj1uZXcgaShhKSksYS5fdG9rZW5SZXZvY2F0aW9uQ2xpZW50PW5ldyBvKGEuX3NldHRpbmdzKSxhfXJldHVybiBmdW5jdGlvbiBfaW5oZXJpdHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX0oVXNlck1hbmFnZXIsZSksVXNlck1hbmFnZXIucHJvdG90eXBlLmdldFVzZXI9ZnVuY3Rpb24gZ2V0VXNlcigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2xvYWRVc2VyKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD8obi5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLmdldFVzZXI6IHVzZXIgbG9hZGVkXCIpLGUuX2V2ZW50cy5sb2FkKHQsITEpLHQpOihuLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuZ2V0VXNlcjogdXNlciBub3QgZm91bmQgaW4gc3RvcmFnZVwiKSxudWxsKX0pfSxVc2VyTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlVXNlcj1mdW5jdGlvbiByZW1vdmVVc2VyKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5zdG9yZVVzZXIobnVsbCkudGhlbihmdW5jdGlvbigpe24uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5yZW1vdmVVc2VyOiB1c2VyIHJlbW92ZWQgZnJvbSBzdG9yYWdlXCIpLGUuX2V2ZW50cy51bmxvYWQoKX0pfSxVc2VyTWFuYWdlci5wcm90b3R5cGUuc2lnbmluUmVkaXJlY3Q9ZnVuY3Rpb24gc2lnbmluUmVkaXJlY3QoZSl7cmV0dXJuIHRoaXMuX3NpZ25pblN0YXJ0KGUsdGhpcy5fcmVkaXJlY3ROYXZpZ2F0b3IpLnRoZW4oZnVuY3Rpb24oKXtuLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluUmVkaXJlY3Q6IHN1Y2Nlc3NmdWxcIil9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnNpZ25pblJlZGlyZWN0Q2FsbGJhY2s9ZnVuY3Rpb24gc2lnbmluUmVkaXJlY3RDYWxsYmFjayhlKXtyZXR1cm4gdGhpcy5fc2lnbmluRW5kKGV8fHRoaXMuX3JlZGlyZWN0TmF2aWdhdG9yLnVybCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUucHJvZmlsZSYmZS5wcm9maWxlLnN1Yj9uLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluUmVkaXJlY3RDYWxsYmFjazogc3VjY2Vzc2Z1bCwgc2lnbmVkIGluIHN1YjogXCIsZS5wcm9maWxlLnN1Yik6bi5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25pblJlZGlyZWN0Q2FsbGJhY2s6IG5vIHN1YlwiKSksZX0pfSxVc2VyTWFuYWdlci5wcm90b3R5cGUuc2lnbmluUG9wdXA9ZnVuY3Rpb24gc2lnbmluUG9wdXAoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLnJlZGlyZWN0X3VyaXx8dGhpcy5zZXR0aW5ncy5wb3B1cF9yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3MucmVkaXJlY3RfdXJpO3JldHVybiB0PyhlLnJlZGlyZWN0X3VyaT10LGUuZGlzcGxheT1cInBvcHVwXCIsdGhpcy5fc2lnbmluKGUsdGhpcy5fcG9wdXBOYXZpZ2F0b3Ise3N0YXJ0VXJsOnQscG9wdXBXaW5kb3dGZWF0dXJlczplLnBvcHVwV2luZG93RmVhdHVyZXN8fHRoaXMuc2V0dGluZ3MucG9wdXBXaW5kb3dGZWF0dXJlcyxwb3B1cFdpbmRvd1RhcmdldDplLnBvcHVwV2luZG93VGFyZ2V0fHx0aGlzLnNldHRpbmdzLnBvcHVwV2luZG93VGFyZ2V0fSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUucHJvZmlsZSYmZS5wcm9maWxlLnN1Yj9uLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluUG9wdXA6IHNpZ25pblBvcHVwIHN1Y2Nlc3NmdWwsIHNpZ25lZCBpbiBzdWI6IFwiLGUucHJvZmlsZS5zdWIpOm4uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWduaW5Qb3B1cDogbm8gc3ViXCIpKSxlfSkpOihuLkxvZy5lcnJvcihcIlVzZXJNYW5hZ2VyLnNpZ25pblBvcHVwOiBObyBwb3B1cF9yZWRpcmVjdF91cmkgb3IgcmVkaXJlY3RfdXJpIGNvbmZpZ3VyZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gcG9wdXBfcmVkaXJlY3RfdXJpIG9yIHJlZGlyZWN0X3VyaSBjb25maWd1cmVkXCIpKSl9LFVzZXJNYW5hZ2VyLnByb3RvdHlwZS5zaWduaW5Qb3B1cENhbGxiYWNrPWZ1bmN0aW9uIHNpZ25pblBvcHVwQ2FsbGJhY2soZSl7cmV0dXJuIHRoaXMuX3NpZ25pbkNhbGxiYWNrKGUsdGhpcy5fcG9wdXBOYXZpZ2F0b3IpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLnByb2ZpbGUmJmUucHJvZmlsZS5zdWI/bi5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25pblBvcHVwQ2FsbGJhY2s6IHN1Y2Nlc3NmdWwsIHNpZ25lZCBpbiBzdWI6IFwiLGUucHJvZmlsZS5zdWIpOm4uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWduaW5Qb3B1cENhbGxiYWNrOiBubyBzdWJcIikpLGV9KS5jYXRjaChmdW5jdGlvbihlKXtuLkxvZy5lcnJvcihcIlVzZXJNYW5hZ2VyLnNpZ25pblBvcHVwQ2FsbGJhY2sgZXJyb3I6IFwiK2UmJmUubWVzc2FnZSl9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnNpZ25pblNpbGVudD1mdW5jdGlvbiBzaWduaW5TaWxlbnQoKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9dC5yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3Muc2lsZW50X3JlZGlyZWN0X3VyaTtpZighcilyZXR1cm4gbi5Mb2cuZXJyb3IoXCJVc2VyTWFuYWdlci5zaWduaW5TaWxlbnQ6IE5vIHNpbGVudF9yZWRpcmVjdF91cmkgY29uZmlndXJlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBzaWxlbnRfcmVkaXJlY3RfdXJpIGNvbmZpZ3VyZWRcIikpO3QucmVkaXJlY3RfdXJpPXIsdC5wcm9tcHQ9dC5wcm9tcHR8fFwibm9uZVwiO3JldHVybih0LmlkX3Rva2VuX2hpbnR8fCF0aGlzLnNldHRpbmdzLmluY2x1ZGVJZFRva2VuSW5TaWxlbnRSZW5ldz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLl9sb2FkVXNlcigpLnRoZW4oZnVuY3Rpb24oZSl7dC5pZF90b2tlbl9oaW50PWUmJmUuaWRfdG9rZW59KSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLl9zaWduaW4odCxlLl9pZnJhbWVOYXZpZ2F0b3Ise3N0YXJ0VXJsOnIsc2lsZW50UmVxdWVzdFRpbWVvdXQ6dC5zaWxlbnRSZXF1ZXN0VGltZW91dHx8ZS5zZXR0aW5ncy5zaWxlbnRSZXF1ZXN0VGltZW91dH0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUucHJvZmlsZSYmZS5wcm9maWxlLnN1Yj9uLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluU2lsZW50OiBzdWNjZXNzZnVsLCBzaWduZWQgaW4gc3ViOiBcIixlLnByb2ZpbGUuc3ViKTpuLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluU2lsZW50OiBubyBzdWJcIikpLGV9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnNpZ25pblNpbGVudENhbGxiYWNrPWZ1bmN0aW9uIHNpZ25pblNpbGVudENhbGxiYWNrKGUpe3JldHVybiB0aGlzLl9zaWduaW5DYWxsYmFjayhlLHRoaXMuX2lmcmFtZU5hdmlnYXRvcikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUucHJvZmlsZSYmZS5wcm9maWxlLnN1Yj9uLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluU2lsZW50Q2FsbGJhY2s6IHN1Y2Nlc3NmdWwsIHNpZ25lZCBpbiBzdWI6IFwiLGUucHJvZmlsZS5zdWIpOm4uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWduaW5TaWxlbnRDYWxsYmFjazogbm8gc3ViXCIpKSxlfSl9LFVzZXJNYW5hZ2VyLnByb3RvdHlwZS5xdWVyeVNlc3Npb25TdGF0dXM9ZnVuY3Rpb24gcXVlcnlTZXNzaW9uU3RhdHVzKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPXQucmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnNpbGVudF9yZWRpcmVjdF91cmk7cmV0dXJuIHI/KHQucmVkaXJlY3RfdXJpPXIsdC5wcm9tcHQ9XCJub25lXCIsdC5yZXNwb25zZV90eXBlPXQucmVzcG9uc2VfdHlwZXx8dGhpcy5zZXR0aW5ncy5xdWVyeV9zdGF0dXNfcmVzcG9uc2VfdHlwZSx0LnNjb3BlPVwib3BlbmlkXCIsdGhpcy5fc2lnbmluU3RhcnQodCx0aGlzLl9pZnJhbWVOYXZpZ2F0b3Ise3N0YXJ0VXJsOnIsc2lsZW50UmVxdWVzdFRpbWVvdXQ6dC5zaWxlbnRSZXF1ZXN0VGltZW91dHx8dGhpcy5zZXR0aW5ncy5zaWxlbnRSZXF1ZXN0VGltZW91dH0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUucHJvY2Vzc1NpZ25pblJlc3BvbnNlKHQudXJsKS50aGVuKGZ1bmN0aW9uKGUpe2lmKG4uTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIucXVlcnlTZXNzaW9uU3RhdHVzOiBnb3Qgc2lnbmluIHJlc3BvbnNlXCIpLGUuc2Vzc2lvbl9zdGF0ZSYmZS5wcm9maWxlLnN1YilyZXR1cm4gbi5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnF1ZXJ5U2Vzc2lvblN0YXR1czogcXVlcnlTZXNzaW9uU3RhdHVzIHN1Y2Nlc3MgZm9yIHN1YjogXCIsZS5wcm9maWxlLnN1Yikse3Nlc3Npb25fc3RhdGU6ZS5zZXNzaW9uX3N0YXRlLHN1YjplLnByb2ZpbGUuc3ViLHNpZDplLnByb2ZpbGUuc2lkfTtuLkxvZy5pbmZvKFwicXVlcnlTZXNzaW9uU3RhdHVzIHN1Y2Nlc3NmdWwsIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWRcIil9KX0pKToobi5Mb2cuZXJyb3IoXCJVc2VyTWFuYWdlci5xdWVyeVNlc3Npb25TdGF0dXM6IE5vIHNpbGVudF9yZWRpcmVjdF91cmkgY29uZmlndXJlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBzaWxlbnRfcmVkaXJlY3RfdXJpIGNvbmZpZ3VyZWRcIikpKX0sVXNlck1hbmFnZXIucHJvdG90eXBlLl9zaWduaW49ZnVuY3Rpb24gX3NpZ25pbihlLHQpe3ZhciByPXRoaXMsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307cmV0dXJuIHRoaXMuX3NpZ25pblN0YXJ0KGUsdCxpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLl9zaWduaW5FbmQoZS51cmwpfSl9LFVzZXJNYW5hZ2VyLnByb3RvdHlwZS5fc2lnbmluU3RhcnQ9ZnVuY3Rpb24gX3NpZ25pblN0YXJ0KGUsdCl7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gdC5wcmVwYXJlKGkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25pblN0YXJ0OiBnb3QgbmF2aWdhdG9yIHdpbmRvdyBoYW5kbGVcIiksci5jcmVhdGVTaWduaW5SZXF1ZXN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4uTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25pblN0YXJ0OiBnb3Qgc2lnbmluIHJlcXVlc3RcIiksaS51cmw9ZS51cmwsaS5pZD1lLnN0YXRlLmlkLHQubmF2aWdhdGUoaSl9KS5jYXRjaChmdW5jdGlvbihlKXt0aHJvdyB0LmNsb3NlJiYobi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbmluU3RhcnQ6IEVycm9yIGFmdGVyIHByZXBhcmluZyBuYXZpZ2F0b3IsIGNsb3NpbmcgbmF2aWdhdG9yIHdpbmRvd1wiKSx0LmNsb3NlKCkpLGV9KX0pfSxVc2VyTWFuYWdlci5wcm90b3R5cGUuX3NpZ25pbkVuZD1mdW5jdGlvbiBfc2lnbmluRW5kKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMucHJvY2Vzc1NpZ25pblJlc3BvbnNlKGUpLnRoZW4oZnVuY3Rpb24oZSl7bi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbmluRW5kOiBnb3Qgc2lnbmluIHJlc3BvbnNlXCIpO3ZhciByPW5ldyBhLlVzZXIoZSk7cmV0dXJuIHQuc3RvcmVVc2VyKHIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbmluRW5kOiB1c2VyIHN0b3JlZFwiKSx0Ll9ldmVudHMubG9hZChyKSxyfSl9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLl9zaWduaW5DYWxsYmFjaz1mdW5jdGlvbiBfc2lnbmluQ2FsbGJhY2soZSx0KXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbmluQ2FsbGJhY2tcIiksdC5jYWxsYmFjayhlKX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnNpZ25vdXRSZWRpcmVjdD1mdW5jdGlvbiBzaWdub3V0UmVkaXJlY3QoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaXx8dGhpcy5zZXR0aW5ncy5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmk7cmV0dXJuIHQmJihlLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT10KSx0aGlzLl9zaWdub3V0U3RhcnQoZSx0aGlzLl9yZWRpcmVjdE5hdmlnYXRvcikudGhlbihmdW5jdGlvbigpe24uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWdub3V0UmVkaXJlY3Q6IHN1Y2Nlc3NmdWxcIil9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnNpZ25vdXRSZWRpcmVjdENhbGxiYWNrPWZ1bmN0aW9uIHNpZ25vdXRSZWRpcmVjdENhbGxiYWNrKGUpe3JldHVybiB0aGlzLl9zaWdub3V0RW5kKGV8fHRoaXMuX3JlZGlyZWN0TmF2aWdhdG9yLnVybCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25vdXRSZWRpcmVjdENhbGxiYWNrOiBzdWNjZXNzZnVsXCIpLGV9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnNpZ25vdXRQb3B1cD1mdW5jdGlvbiBzaWdub3V0UG9wdXAoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaXx8dGhpcy5zZXR0aW5ncy5wb3B1cF9wb3N0X2xvZ291dF9yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3MucG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpO3JldHVybiBlLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT10LGUuZGlzcGxheT1cInBvcHVwXCIsZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmkmJihlLnN0YXRlPWUuc3RhdGV8fHt9KSx0aGlzLl9zaWdub3V0KGUsdGhpcy5fcG9wdXBOYXZpZ2F0b3Ise3N0YXJ0VXJsOnQscG9wdXBXaW5kb3dGZWF0dXJlczplLnBvcHVwV2luZG93RmVhdHVyZXN8fHRoaXMuc2V0dGluZ3MucG9wdXBXaW5kb3dGZWF0dXJlcyxwb3B1cFdpbmRvd1RhcmdldDplLnBvcHVwV2luZG93VGFyZ2V0fHx0aGlzLnNldHRpbmdzLnBvcHVwV2luZG93VGFyZ2V0fSkudGhlbihmdW5jdGlvbigpe24uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWdub3V0UG9wdXA6IHN1Y2Nlc3NmdWxcIil9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnNpZ25vdXRQb3B1cENhbGxiYWNrPWZ1bmN0aW9uIHNpZ25vdXRQb3B1cENhbGxiYWNrKGUsdCl7dm9pZCAwPT09dCYmXCJib29sZWFuXCI9PXR5cGVvZiBlJiYodD1lLGU9bnVsbCk7cmV0dXJuIHRoaXMuX3BvcHVwTmF2aWdhdG9yLmNhbGxiYWNrKGUsdCxcIj9cIikudGhlbihmdW5jdGlvbigpe24uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWdub3V0UG9wdXBDYWxsYmFjazogc3VjY2Vzc2Z1bFwiKX0pfSxVc2VyTWFuYWdlci5wcm90b3R5cGUuX3NpZ25vdXQ9ZnVuY3Rpb24gX3NpZ25vdXQoZSx0KXt2YXIgcj10aGlzLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiB0aGlzLl9zaWdub3V0U3RhcnQoZSx0LGkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIuX3NpZ25vdXRFbmQoZS51cmwpfSl9LFVzZXJNYW5hZ2VyLnByb3RvdHlwZS5fc2lnbm91dFN0YXJ0PWZ1bmN0aW9uIF9zaWdub3V0U3RhcnQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD10aGlzLHI9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiByLnByZXBhcmUoaSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbm91dFN0YXJ0OiBnb3QgbmF2aWdhdG9yIHdpbmRvdyBoYW5kbGVcIiksdC5fbG9hZFVzZXIoKS50aGVuKGZ1bmN0aW9uKG8pe3JldHVybiBuLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWdub3V0U3RhcnQ6IGxvYWRlZCBjdXJyZW50IHVzZXIgZnJvbSBzdG9yYWdlXCIpLCh0Ll9zZXR0aW5ncy5yZXZva2VBY2Nlc3NUb2tlbk9uU2lnbm91dD90Ll9yZXZva2VJbnRlcm5hbChvKTpQcm9taXNlLnJlc29sdmUoKSkudGhlbihmdW5jdGlvbigpe3ZhciBzPWUuaWRfdG9rZW5faGludHx8byYmby5pZF90b2tlbjtyZXR1cm4gcyYmKG4uTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25vdXRTdGFydDogU2V0dGluZyBpZF90b2tlbiBpbnRvIHNpZ25vdXQgcmVxdWVzdFwiKSxlLmlkX3Rva2VuX2hpbnQ9cyksdC5yZW1vdmVVc2VyKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWdub3V0U3RhcnQ6IHVzZXIgcmVtb3ZlZCwgY3JlYXRpbmcgc2lnbm91dCByZXF1ZXN0XCIpLHQuY3JlYXRlU2lnbm91dFJlcXVlc3QoZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbm91dFN0YXJ0OiBnb3Qgc2lnbm91dCByZXF1ZXN0XCIpLGkudXJsPWUudXJsLGUuc3RhdGUmJihpLmlkPWUuc3RhdGUuaWQpLHIubmF2aWdhdGUoaSl9KX0pfSl9KS5jYXRjaChmdW5jdGlvbihlKXt0aHJvdyByLmNsb3NlJiYobi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbm91dFN0YXJ0OiBFcnJvciBhZnRlciBwcmVwYXJpbmcgbmF2aWdhdG9yLCBjbG9zaW5nIG5hdmlnYXRvciB3aW5kb3dcIiksci5jbG9zZSgpKSxlfSl9KX0sVXNlck1hbmFnZXIucHJvdG90eXBlLl9zaWdub3V0RW5kPWZ1bmN0aW9uIF9zaWdub3V0RW5kKGUpe3JldHVybiB0aGlzLnByb2Nlc3NTaWdub3V0UmVzcG9uc2UoZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbm91dEVuZDogZ290IHNpZ25vdXQgcmVzcG9uc2VcIiksZX0pfSxVc2VyTWFuYWdlci5wcm90b3R5cGUucmV2b2tlQWNjZXNzVG9rZW49ZnVuY3Rpb24gcmV2b2tlQWNjZXNzVG9rZW4oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9sb2FkVXNlcigpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuX3Jldm9rZUludGVybmFsKHQsITApLnRoZW4oZnVuY3Rpb24ocil7aWYocilyZXR1cm4gbi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5yZXZva2VBY2Nlc3NUb2tlbjogcmVtb3ZpbmcgdG9rZW4gcHJvcGVydGllcyBmcm9tIHVzZXIgYW5kIHJlLXN0b3JpbmdcIiksdC5hY2Nlc3NfdG9rZW49bnVsbCx0LmV4cGlyZXNfYXQ9bnVsbCx0LnRva2VuX3R5cGU9bnVsbCxlLnN0b3JlVXNlcih0KS50aGVuKGZ1bmN0aW9uKCl7bi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5yZXZva2VBY2Nlc3NUb2tlbjogdXNlciBzdG9yZWRcIiksZS5fZXZlbnRzLmxvYWQodCl9KX0pfSkudGhlbihmdW5jdGlvbigpe24uTG9nLmluZm8oXCJVc2VyTWFuYWdlci5yZXZva2VBY2Nlc3NUb2tlbjogYWNjZXNzIHRva2VuIHJldm9rZWQgc3VjY2Vzc2Z1bGx5XCIpfSl9LFVzZXJNYW5hZ2VyLnByb3RvdHlwZS5fcmV2b2tlSW50ZXJuYWw9ZnVuY3Rpb24gX3Jldm9rZUludGVybmFsKGUsdCl7dmFyIHI9ZSYmZS5hY2Nlc3NfdG9rZW47cmV0dXJuIXJ8fHIuaW5kZXhPZihcIi5cIik+PTA/KG4uTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIucmV2b2tlQWNjZXNzVG9rZW46IG5vIG5lZWQgdG8gcmV2b2tlIGR1ZSB0byBubyB1c2VyLCB0b2tlbiwgb3IgSldUIGZvcm1hdFwiKSxQcm9taXNlLnJlc29sdmUoITEpKTp0aGlzLl90b2tlblJldm9jYXRpb25DbGllbnQucmV2b2tlKHIsdCkudGhlbihmdW5jdGlvbigpe3JldHVybiEwfSl9LFVzZXJNYW5hZ2VyLnByb3RvdHlwZS5zdGFydFNpbGVudFJlbmV3PWZ1bmN0aW9uIHN0YXJ0U2lsZW50UmVuZXcoKXt0aGlzLl9zaWxlbnRSZW5ld1NlcnZpY2Uuc3RhcnQoKX0sVXNlck1hbmFnZXIucHJvdG90eXBlLnN0b3BTaWxlbnRSZW5ldz1mdW5jdGlvbiBzdG9wU2lsZW50UmVuZXcoKXt0aGlzLl9zaWxlbnRSZW5ld1NlcnZpY2Uuc3RvcCgpfSxVc2VyTWFuYWdlci5wcm90b3R5cGUuX2xvYWRVc2VyPWZ1bmN0aW9uIF9sb2FkVXNlcigpe3JldHVybiB0aGlzLl91c2VyU3RvcmUuZ2V0KHRoaXMuX3VzZXJTdG9yZUtleSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZT8obi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fbG9hZFVzZXI6IHVzZXIgc3RvcmFnZVN0cmluZyBsb2FkZWRcIiksYS5Vc2VyLmZyb21TdG9yYWdlU3RyaW5nKGUpKToobi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fbG9hZFVzZXI6IG5vIHVzZXIgc3RvcmFnZVN0cmluZ1wiKSxudWxsKX0pfSxVc2VyTWFuYWdlci5wcm90b3R5cGUuc3RvcmVVc2VyPWZ1bmN0aW9uIHN0b3JlVXNlcihlKXtpZihlKXtuLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnN0b3JlVXNlcjogc3RvcmluZyB1c2VyXCIpO3ZhciB0PWUudG9TdG9yYWdlU3RyaW5nKCk7cmV0dXJuIHRoaXMuX3VzZXJTdG9yZS5zZXQodGhpcy5fdXNlclN0b3JlS2V5LHQpfXJldHVybiBuLkxvZy5kZWJ1ZyhcInN0b3JlVXNlci5zdG9yZVVzZXI6IHJlbW92aW5nIHVzZXJcIiksdGhpcy5fdXNlclN0b3JlLnJlbW92ZSh0aGlzLl91c2VyU3RvcmVLZXkpfSxpKFVzZXJNYW5hZ2VyLFt7a2V5OlwiX3JlZGlyZWN0TmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNldHRpbmdzLnJlZGlyZWN0TmF2aWdhdG9yfX0se2tleTpcIl9wb3B1cE5hdmlnYXRvclwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5wb3B1cE5hdmlnYXRvcn19LHtrZXk6XCJfaWZyYW1lTmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNldHRpbmdzLmlmcmFtZU5hdmlnYXRvcn19LHtrZXk6XCJfdXNlclN0b3JlXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNldHRpbmdzLnVzZXJTdG9yZX19LHtrZXk6XCJldmVudHNcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2V2ZW50c319LHtrZXk6XCJfdXNlclN0b3JlS2V5XCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVyblwidXNlcjpcIit0aGlzLnNldHRpbmdzLmF1dGhvcml0eStcIjpcIit0aGlzLnNldHRpbmdzLmNsaWVudF9pZH19XSksVXNlck1hbmFnZXJ9KG8uT2lkY0NsaWVudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkluTWVtb3J5V2ViU3RvcmFnZT12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKSxuPXIoMCk7dC5Jbk1lbW9yeVdlYlN0b3JhZ2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbk1lbW9yeVdlYlN0b3JhZ2UoKXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxJbk1lbW9yeVdlYlN0b3JhZ2UpLHRoaXMuX2RhdGE9e319cmV0dXJuIEluTWVtb3J5V2ViU3RvcmFnZS5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbiBnZXRJdGVtKGUpe3JldHVybiBuLkxvZy5kZWJ1ZyhcIkluTWVtb3J5V2ViU3RvcmFnZS5nZXRJdGVtXCIsZSksdGhpcy5fZGF0YVtlXX0sSW5NZW1vcnlXZWJTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uIHNldEl0ZW0oZSx0KXtuLkxvZy5kZWJ1ZyhcIkluTWVtb3J5V2ViU3RvcmFnZS5zZXRJdGVtXCIsZSksdGhpcy5fZGF0YVtlXT10fSxJbk1lbW9yeVdlYlN0b3JhZ2UucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24gcmVtb3ZlSXRlbShlKXtuLkxvZy5kZWJ1ZyhcIkluTWVtb3J5V2ViU3RvcmFnZS5yZW1vdmVJdGVtXCIsZSksZGVsZXRlIHRoaXMuX2RhdGFbZV19LEluTWVtb3J5V2ViU3RvcmFnZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uIGtleShlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fZGF0YSlbZV19LGkoSW5NZW1vcnlXZWJTdG9yYWdlLFt7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl9kYXRhKS5sZW5ndGh9fV0pLEluTWVtb3J5V2ViU3RvcmFnZX0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2lnbm91dFJlc3BvbnNlPXZvaWQgMDt2YXIgaT1yKDIpO3QuU2lnbm91dFJlc3BvbnNlPWZ1bmN0aW9uIFNpZ25vdXRSZXNwb25zZShlKXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxTaWdub3V0UmVzcG9uc2UpO3ZhciB0PWkuVXJsVXRpbGl0eS5wYXJzZVVybEZyYWdtZW50KGUsXCI/XCIpO3RoaXMuZXJyb3I9dC5lcnJvcix0aGlzLmVycm9yX2Rlc2NyaXB0aW9uPXQuZXJyb3JfZGVzY3JpcHRpb24sdGhpcy5lcnJvcl91cmk9dC5lcnJvcl91cmksdGhpcy5zdGF0ZT10LnN0YXRlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2lnbm91dFJlcXVlc3Q9dm9pZCAwO3ZhciBpPXIoMCksbj1yKDIpLG89cig0KTt0LlNpZ25vdXRSZXF1ZXN0PWZ1bmN0aW9uIFNpZ25vdXRSZXF1ZXN0KGUpe3ZhciB0PWUudXJsLHI9ZS5pZF90b2tlbl9oaW50LHM9ZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmksYT1lLmRhdGE7aWYoZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxTaWdub3V0UmVxdWVzdCksIXQpdGhyb3cgaS5Mb2cuZXJyb3IoXCJTaWdub3V0UmVxdWVzdC5jdG9yOiBObyB1cmwgcGFzc2VkXCIpLG5ldyBFcnJvcihcInVybFwiKTtyJiYodD1uLlVybFV0aWxpdHkuYWRkUXVlcnlQYXJhbSh0LFwiaWRfdG9rZW5faGludFwiLHIpKSxzJiYodD1uLlVybFV0aWxpdHkuYWRkUXVlcnlQYXJhbSh0LFwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCIscyksYSYmKHRoaXMuc3RhdGU9bmV3IG8uU3RhdGUoe2RhdGE6YX0pLHQ9bi5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0odCxcInN0YXRlXCIsdGhpcy5zdGF0ZS5pZCkpKSx0aGlzLnVybD10fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2lnbmluUmVzcG9uc2U9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCksbj1yKDIpO3QuU2lnbmluUmVzcG9uc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTaWduaW5SZXNwb25zZShlKXshZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxTaWduaW5SZXNwb25zZSk7dmFyIHQ9bi5VcmxVdGlsaXR5LnBhcnNlVXJsRnJhZ21lbnQoZSxcIiNcIik7dGhpcy5lcnJvcj10LmVycm9yLHRoaXMuZXJyb3JfZGVzY3JpcHRpb249dC5lcnJvcl9kZXNjcmlwdGlvbix0aGlzLmVycm9yX3VyaT10LmVycm9yX3VyaSx0aGlzLnN0YXRlPXQuc3RhdGUsdGhpcy5pZF90b2tlbj10LmlkX3Rva2VuLHRoaXMuc2Vzc2lvbl9zdGF0ZT10LnNlc3Npb25fc3RhdGUsdGhpcy5hY2Nlc3NfdG9rZW49dC5hY2Nlc3NfdG9rZW4sdGhpcy50b2tlbl90eXBlPXQudG9rZW5fdHlwZSx0aGlzLnNjb3BlPXQuc2NvcGUsdGhpcy5wcm9maWxlPXZvaWQgMDt2YXIgcj1wYXJzZUludCh0LmV4cGlyZXNfaW4pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiByJiZyPjApe3ZhciBpPXBhcnNlSW50KERhdGUubm93KCkvMWUzKTt0aGlzLmV4cGlyZXNfYXQ9aStyfX1yZXR1cm4gaShTaWduaW5SZXNwb25zZSxbe2tleTpcImV4cGlyZXNfaW5cIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7aWYodGhpcy5leHBpcmVzX2F0KXt2YXIgZT1wYXJzZUludChEYXRlLm5vdygpLzFlMyk7cmV0dXJuIHRoaXMuZXhwaXJlc19hdC1lfX19LHtrZXk6XCJleHBpcmVkXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3ZhciBlPXRoaXMuZXhwaXJlc19pbjtpZih2b2lkIDAhPT1lKXJldHVybiBlPD0wfX0se2tleTpcInNjb3Blc1wiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4odGhpcy5zY29wZXx8XCJcIikuc3BsaXQoXCIgXCIpfX0se2tleTpcImlzT3BlbklkQ29ubmVjdFwiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5zY29wZXMuaW5kZXhPZihcIm9wZW5pZFwiKT49MHx8ISF0aGlzLmlkX3Rva2VufX1dKSxTaWduaW5SZXNwb25zZX0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2lnbmluUmVxdWVzdD12b2lkIDA7dmFyIGk9cigwKSxuPXIoMiksbz1yKDE1KTt0LlNpZ25pblJlcXVlc3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTaWduaW5SZXF1ZXN0KGUpe3ZhciB0PWUudXJsLHI9ZS5jbGllbnRfaWQscz1lLnJlZGlyZWN0X3VyaSxhPWUucmVzcG9uc2VfdHlwZSx1PWUuc2NvcGUsYz1lLmF1dGhvcml0eSxoPWUuZGF0YSxsPWUucHJvbXB0LGY9ZS5kaXNwbGF5LGc9ZS5tYXhfYWdlLHA9ZS51aV9sb2NhbGVzLGQ9ZS5pZF90b2tlbl9oaW50LHY9ZS5sb2dpbl9oaW50LHk9ZS5hY3JfdmFsdWVzLG09ZS5yZXNvdXJjZSxTPWUucmVxdWVzdCxiPWUucmVxdWVzdF91cmksRj1lLmV4dHJhUXVlcnlQYXJhbXM7aWYoZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxTaWduaW5SZXF1ZXN0KSwhdCl0aHJvdyBpLkxvZy5lcnJvcihcIlNpZ25pblJlcXVlc3QuY3RvcjogTm8gdXJsIHBhc3NlZFwiKSxuZXcgRXJyb3IoXCJ1cmxcIik7aWYoIXIpdGhyb3cgaS5Mb2cuZXJyb3IoXCJTaWduaW5SZXF1ZXN0LmN0b3I6IE5vIGNsaWVudF9pZCBwYXNzZWRcIiksbmV3IEVycm9yKFwiY2xpZW50X2lkXCIpO2lmKCFzKXRocm93IGkuTG9nLmVycm9yKFwiU2lnbmluUmVxdWVzdC5jdG9yOiBObyByZWRpcmVjdF91cmkgcGFzc2VkXCIpLG5ldyBFcnJvcihcInJlZGlyZWN0X3VyaVwiKTtpZighYSl0aHJvdyBpLkxvZy5lcnJvcihcIlNpZ25pblJlcXVlc3QuY3RvcjogTm8gcmVzcG9uc2VfdHlwZSBwYXNzZWRcIiksbmV3IEVycm9yKFwicmVzcG9uc2VfdHlwZVwiKTtpZighdSl0aHJvdyBpLkxvZy5lcnJvcihcIlNpZ25pblJlcXVlc3QuY3RvcjogTm8gc2NvcGUgcGFzc2VkXCIpLG5ldyBFcnJvcihcInNjb3BlXCIpO2lmKCFjKXRocm93IGkuTG9nLmVycm9yKFwiU2lnbmluUmVxdWVzdC5jdG9yOiBObyBhdXRob3JpdHkgcGFzc2VkXCIpLG5ldyBFcnJvcihcImF1dGhvcml0eVwiKTt2YXIgXz1TaWduaW5SZXF1ZXN0LmlzT2lkYyhhKTt0aGlzLnN0YXRlPW5ldyBvLlNpZ25pblN0YXRlKHtub25jZTpfLGRhdGE6aCxjbGllbnRfaWQ6cixhdXRob3JpdHk6Y30pLHQ9bi5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0odCxcImNsaWVudF9pZFwiLHIpLHQ9bi5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0odCxcInJlZGlyZWN0X3VyaVwiLHMpLHQ9bi5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0odCxcInJlc3BvbnNlX3R5cGVcIixhKSx0PW4uVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHQsXCJzY29wZVwiLHUpLHQ9bi5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0odCxcInN0YXRlXCIsdGhpcy5zdGF0ZS5pZCksXyYmKHQ9bi5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0odCxcIm5vbmNlXCIsdGhpcy5zdGF0ZS5ub25jZSkpO3ZhciB3PXtwcm9tcHQ6bCxkaXNwbGF5OmYsbWF4X2FnZTpnLHVpX2xvY2FsZXM6cCxpZF90b2tlbl9oaW50OmQsbG9naW5faGludDp2LGFjcl92YWx1ZXM6eSxyZXNvdXJjZTptLHJlcXVlc3Q6UyxyZXF1ZXN0X3VyaTpifTtmb3IodmFyIEUgaW4gdyl3W0VdJiYodD1uLlVybFV0aWxpdHkuYWRkUXVlcnlQYXJhbSh0LEUsd1tFXSkpO2Zvcih2YXIgeCBpbiBGKXQ9bi5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0odCx4LEZbeF0pO3RoaXMudXJsPXR9cmV0dXJuIFNpZ25pblJlcXVlc3QuaXNPaWRjPWZ1bmN0aW9uIGlzT2lkYyhlKXtyZXR1cm4hIWUuc3BsaXQoL1xccysvZykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiaWRfdG9rZW5cIj09PWV9KVswXX0sU2lnbmluUmVxdWVzdC5pc09BdXRoPWZ1bmN0aW9uIGlzT0F1dGgoZSl7cmV0dXJuISFlLnNwbGl0KC9cXHMrL2cpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInRva2VuXCI9PT1lfSlbMF19LFNpZ25pblJlcXVlc3R9KCl9LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30udG9TdHJpbmc7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09ci5jYWxsKGUpfX0sZnVuY3Rpb24oZSx0KXt0LnJlYWQ9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbyxzLGE9OCpuLWktMSx1PSgxPDxhKS0xLGM9dT4+MSxoPS03LGw9cj9uLTE6MCxmPXI/LTE6MSxnPWVbdCtsXTtmb3IobCs9ZixvPWcmKDE8PC1oKS0xLGc+Pj0taCxoKz1hO2g+MDtvPTI1NipvK2VbdCtsXSxsKz1mLGgtPTgpO2ZvcihzPW8mKDE8PC1oKS0xLG8+Pj0taCxoKz1pO2g+MDtzPTI1NipzK2VbdCtsXSxsKz1mLGgtPTgpO2lmKDA9PT1vKW89MS1jO2Vsc2V7aWYobz09PXUpcmV0dXJuIHM/TmFOOjEvMCooZz8tMToxKTtzKz1NYXRoLnBvdygyLGkpLG8tPWN9cmV0dXJuKGc/LTE6MSkqcypNYXRoLnBvdygyLG8taSl9LHQud3JpdGU9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZhciBzLGEsdSxjPTgqby1uLTEsaD0oMTw8YyktMSxsPWg+PjEsZj0yMz09PW4/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGc9aT8wOm8tMSxwPWk/MTotMSxkPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8oYT1pc05hTih0KT8xOjAscz1oKToocz1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0Kih1PU1hdGgucG93KDIsLXMpKTwxJiYocy0tLHUqPTIpLCh0Kz1zK2w+PTE/Zi91OmYqTWF0aC5wb3coMiwxLWwpKSp1Pj0yJiYocysrLHUvPTIpLHMrbD49aD8oYT0wLHM9aCk6cytsPj0xPyhhPSh0KnUtMSkqTWF0aC5wb3coMixuKSxzKz1sKTooYT10Kk1hdGgucG93KDIsbC0xKSpNYXRoLnBvdygyLG4pLHM9MCkpO24+PTg7ZVtyK2ddPTI1NSZhLGcrPXAsYS89MjU2LG4tPTgpO2ZvcihzPXM8PG58YSxjKz1uO2M+MDtlW3IrZ109MjU1JnMsZys9cCxzLz0yNTYsYy09OCk7ZVtyK2ctcF18PTEyOCpkfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuYnl0ZUxlbmd0aD1mdW5jdGlvbiBieXRlTGVuZ3RoKGUpe3ZhciB0PWdldExlbnMoZSkscj10WzBdLGk9dFsxXTtyZXR1cm4gMyoocitpKS80LWl9LHQudG9CeXRlQXJyYXk9ZnVuY3Rpb24gdG9CeXRlQXJyYXkoZSl7Zm9yKHZhciB0LHI9Z2V0TGVucyhlKSxpPXJbMF0scz1yWzFdLGE9bmV3IG8oZnVuY3Rpb24gX2J5dGVMZW5ndGgoZSx0LHIpe3JldHVybiAzKih0K3IpLzQtcn0oMCxpLHMpKSx1PTAsYz1zPjA/aS00OmksaD0wO2g8YztoKz00KXQ9bltlLmNoYXJDb2RlQXQoaCldPDwxOHxuW2UuY2hhckNvZGVBdChoKzEpXTw8MTJ8bltlLmNoYXJDb2RlQXQoaCsyKV08PDZ8bltlLmNoYXJDb2RlQXQoaCszKV0sYVt1KytdPXQ+PjE2JjI1NSxhW3UrK109dD4+OCYyNTUsYVt1KytdPTI1NSZ0OzI9PT1zJiYodD1uW2UuY2hhckNvZGVBdChoKV08PDJ8bltlLmNoYXJDb2RlQXQoaCsxKV0+PjQsYVt1KytdPTI1NSZ0KTsxPT09cyYmKHQ9bltlLmNoYXJDb2RlQXQoaCldPDwxMHxuW2UuY2hhckNvZGVBdChoKzEpXTw8NHxuW2UuY2hhckNvZGVBdChoKzIpXT4+MixhW3UrK109dD4+OCYyNTUsYVt1KytdPTI1NSZ0KTtyZXR1cm4gYX0sdC5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uIGZyb21CeXRlQXJyYXkoZSl7Zm9yKHZhciB0LHI9ZS5sZW5ndGgsbj1yJTMsbz1bXSxzPTAsYT1yLW47czxhO3MrPTE2MzgzKW8ucHVzaChlbmNvZGVDaHVuayhlLHMscysxNjM4Mz5hP2E6cysxNjM4MykpOzE9PT1uPyh0PWVbci0xXSxvLnB1c2goaVt0Pj4yXStpW3Q8PDQmNjNdK1wiPT1cIikpOjI9PT1uJiYodD0oZVtyLTJdPDw4KStlW3ItMV0sby5wdXNoKGlbdD4+MTBdK2lbdD4+NCY2M10raVt0PDwyJjYzXStcIj1cIikpO3JldHVybiBvLmpvaW4oXCJcIil9O2Zvcih2YXIgaT1bXSxuPVtdLG89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxzPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGE9MCx1PXMubGVuZ3RoO2E8dTsrK2EpaVthXT1zW2FdLG5bcy5jaGFyQ29kZUF0KGEpXT1hO2Z1bmN0aW9uIGdldExlbnMoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodCU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgcj1lLmluZGV4T2YoXCI9XCIpO3JldHVybi0xPT09ciYmKHI9dCksW3Iscj09PXQ/MDo0LXIlNF19ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0KGUpe3JldHVybiBpW2U+PjE4JjYzXStpW2U+PjEyJjYzXStpW2U+PjYmNjNdK2lbNjMmZV19ZnVuY3Rpb24gZW5jb2RlQ2h1bmsoZSx0LHIpe2Zvcih2YXIgaSxuPVtdLG89dDtvPHI7bys9MylpPShlW29dPDwxNiYxNjcxMTY4MCkrKGVbbysxXTw8OCY2NTI4MCkrKDI1NSZlW28rMl0pLG4ucHVzaCh0cmlwbGV0VG9CYXNlNjQoaSkpO3JldHVybiBuLmpvaW4oXCJcIil9bltcIi1cIi5jaGFyQ29kZUF0KDApXT02MixuW1wiX1wiLmNoYXJDb2RlQXQoMCldPTYzfSxmdW5jdGlvbihlLHQpe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgwLGV2YWwpKFwidGhpc1wiKX1jYXRjaChlKXtcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYocj13aW5kb3cpfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xudmFyIGk9cigzOCksbj1yKDM3KSxvPXIoMzYpO2Z1bmN0aW9uIGtNYXhMZW5ndGgoKXtyZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihlLHQpe2lmKGtNYXhMZW5ndGgoKTx0KXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGhcIik7cmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPW5ldyBVaW50OEFycmF5KHQpKS5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZToobnVsbD09PWUmJihlPW5ldyBCdWZmZXIodCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gQnVmZmVyKGUsdCxyKXtpZighKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUfHx0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSlyZXR1cm4gbmV3IEJ1ZmZlcihlLHQscik7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIklmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nXCIpO3JldHVybiBhbGxvY1Vuc2FmZSh0aGlzLGUpfXJldHVybiBmcm9tKHRoaXMsZSx0LHIpfWZ1bmN0aW9uIGZyb20oZSx0LHIsaSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyKGUsdCxyLGkpe2lmKHQuYnl0ZUxlbmd0aCxyPDB8fHQuYnl0ZUxlbmd0aDxyKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kc1wiKTtpZih0LmJ5dGVMZW5ndGg8cisoaXx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzXCIpO3Q9dm9pZCAwPT09ciYmdm9pZCAwPT09aT9uZXcgVWludDhBcnJheSh0KTp2b2lkIDA9PT1pP25ldyBVaW50OEFycmF5KHQscik6bmV3IFVpbnQ4QXJyYXkodCxyLGkpO0J1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPXQpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlOmU9ZnJvbUFycmF5TGlrZShlLHQpO3JldHVybiBlfShlLHQscixpKTpcInN0cmluZ1wiPT10eXBlb2YgdD9mdW5jdGlvbiBmcm9tU3RyaW5nKGUsdCxyKXtcInN0cmluZ1wiPT10eXBlb2YgciYmXCJcIiE9PXJ8fChyPVwidXRmOFwiKTtpZighQnVmZmVyLmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgaT0wfGJ5dGVMZW5ndGgodCxyKSxuPShlPWNyZWF0ZUJ1ZmZlcihlLGkpKS53cml0ZSh0LHIpO24hPT1pJiYoZT1lLnNsaWNlKDAsbikpO3JldHVybiBlfShlLHQscik6ZnVuY3Rpb24gZnJvbU9iamVjdChlLHQpe2lmKEJ1ZmZlci5pc0J1ZmZlcih0KSl7dmFyIHI9MHxjaGVja2VkKHQubGVuZ3RoKTtyZXR1cm4gMD09PShlPWNyZWF0ZUJ1ZmZlcihlLHIpKS5sZW5ndGg/ZToodC5jb3B5KGUsMCwwLHIpLGUpfWlmKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8XCJsZW5ndGhcImluIHQpcmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHQubGVuZ3RofHxmdW5jdGlvbiBpc25hbihlKXtyZXR1cm4gZSE9ZX0odC5sZW5ndGgpP2NyZWF0ZUJ1ZmZlcihlLDApOmZyb21BcnJheUxpa2UoZSx0KTtpZihcIkJ1ZmZlclwiPT09dC50eXBlJiZvKHQuZGF0YSkpcmV0dXJuIGZyb21BcnJheUxpa2UoZSx0LmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuXCIpfShlLHQpfWZ1bmN0aW9uIGFzc2VydFNpemUoZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKX1mdW5jdGlvbiBhbGxvY1Vuc2FmZShlLHQpe2lmKGFzc2VydFNpemUodCksZT1jcmVhdGVCdWZmZXIoZSx0PDA/MDowfGNoZWNrZWQodCkpLCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IodmFyIHI9MDtyPHQ7KytyKWVbcl09MDtyZXR1cm4gZX1mdW5jdGlvbiBmcm9tQXJyYXlMaWtlKGUsdCl7dmFyIHI9dC5sZW5ndGg8MD8wOjB8Y2hlY2tlZCh0Lmxlbmd0aCk7ZT1jcmVhdGVCdWZmZXIoZSxyKTtmb3IodmFyIGk9MDtpPHI7aSs9MSllW2ldPTI1NSZ0W2ldO3JldHVybiBlfWZ1bmN0aW9uIGNoZWNrZWQoZSl7aWYoZT49a01heExlbmd0aCgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2tNYXhMZW5ndGgoKS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8ZX1mdW5jdGlvbiBieXRlTGVuZ3RoKGUsdCl7aWYoQnVmZmVyLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldyhlKXx8ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm4gZS5ieXRlTGVuZ3RoO1wic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1cIlwiK2UpO3ZhciByPWUubGVuZ3RoO2lmKDA9PT1yKXJldHVybiAwO2Zvcih2YXIgaT0hMTs7KXN3aXRjaCh0KXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiByO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2Ugdm9pZCAwOnJldHVybiB1dGY4VG9CeXRlcyhlKS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqcjtjYXNlXCJoZXhcIjpyZXR1cm4gcj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFRvQnl0ZXMoZSkubGVuZ3RoO2RlZmF1bHQ6aWYoaSlyZXR1cm4gdXRmOFRvQnl0ZXMoZSkubGVuZ3RoO3Q9KFwiXCIrdCkudG9Mb3dlckNhc2UoKSxpPSEwfX1mdW5jdGlvbiBzd2FwKGUsdCxyKXt2YXIgaT1lW3RdO2VbdF09ZVtyXSxlW3JdPWl9ZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YoZSx0LHIsaSxuKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHI/KGk9cixyPTApOnI+MjE0NzQ4MzY0Nz9yPTIxNDc0ODM2NDc6cjwtMjE0NzQ4MzY0OCYmKHI9LTIxNDc0ODM2NDgpLHI9K3IsaXNOYU4ocikmJihyPW4/MDplLmxlbmd0aC0xKSxyPDAmJihyPWUubGVuZ3RoK3IpLHI+PWUubGVuZ3RoKXtpZihuKXJldHVybi0xO3I9ZS5sZW5ndGgtMX1lbHNlIGlmKHI8MCl7aWYoIW4pcmV0dXJuLTE7cj0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1CdWZmZXIuZnJvbSh0LGkpKSxCdWZmZXIuaXNCdWZmZXIodCkpcmV0dXJuIDA9PT10Lmxlbmd0aD8tMTphcnJheUluZGV4T2YoZSx0LHIsaSxuKTtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdCY9MjU1LEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP24/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxyKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxyKTphcnJheUluZGV4T2YoZSxbdF0scixpLG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gYXJyYXlJbmRleE9mKGUsdCxyLGksbil7dmFyIG8scz0xLGE9ZS5sZW5ndGgsdT10Lmxlbmd0aDtpZih2b2lkIDAhPT1pJiYoXCJ1Y3MyXCI9PT0oaT1TdHJpbmcoaSkudG9Mb3dlckNhc2UoKSl8fFwidWNzLTJcIj09PWl8fFwidXRmMTZsZVwiPT09aXx8XCJ1dGYtMTZsZVwiPT09aSkpe2lmKGUubGVuZ3RoPDJ8fHQubGVuZ3RoPDIpcmV0dXJuLTE7cz0yLGEvPTIsdS89MixyLz0yfWZ1bmN0aW9uIHJlYWQoZSx0KXtyZXR1cm4gMT09PXM/ZVt0XTplLnJlYWRVSW50MTZCRSh0KnMpfWlmKG4pe3ZhciBjPS0xO2ZvcihvPXI7bzxhO28rKylpZihyZWFkKGUsbyk9PT1yZWFkKHQsLTE9PT1jPzA6by1jKSl7aWYoLTE9PT1jJiYoYz1vKSxvLWMrMT09PXUpcmV0dXJuIGMqc31lbHNlLTEhPT1jJiYoby09by1jKSxjPS0xfWVsc2UgZm9yKHIrdT5hJiYocj1hLXUpLG89cjtvPj0wO28tLSl7Zm9yKHZhciBoPSEwLGw9MDtsPHU7bCsrKWlmKHJlYWQoZSxvK2wpIT09cmVhZCh0LGwpKXtoPSExO2JyZWFrfWlmKGgpcmV0dXJuIG99cmV0dXJuLTF9ZnVuY3Rpb24gaGV4V3JpdGUoZSx0LHIsaSl7cj1OdW1iZXIocil8fDA7dmFyIG49ZS5sZW5ndGgtcjtpPyhpPU51bWJlcihpKSk+biYmKGk9bik6aT1uO3ZhciBvPXQubGVuZ3RoO2lmKG8lMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nXCIpO2k+by8yJiYoaT1vLzIpO2Zvcih2YXIgcz0wO3M8aTsrK3Mpe3ZhciBhPXBhcnNlSW50KHQuc3Vic3RyKDIqcywyKSwxNik7aWYoaXNOYU4oYSkpcmV0dXJuIHM7ZVtyK3NdPWF9cmV0dXJuIHN9ZnVuY3Rpb24gdXRmOFdyaXRlKGUsdCxyLGkpe3JldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHQsZS5sZW5ndGgtciksZSxyLGkpfWZ1bmN0aW9uIGFzY2lpV3JpdGUoZSx0LHIsaSl7cmV0dXJuIGJsaXRCdWZmZXIoZnVuY3Rpb24gYXNjaWlUb0J5dGVzKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQocikpO3JldHVybiB0fSh0KSxlLHIsaSl9ZnVuY3Rpb24gbGF0aW4xV3JpdGUoZSx0LHIsaSl7cmV0dXJuIGFzY2lpV3JpdGUoZSx0LHIsaSl9ZnVuY3Rpb24gYmFzZTY0V3JpdGUoZSx0LHIsaSl7cmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyh0KSxlLHIsaSl9ZnVuY3Rpb24gdWNzMldyaXRlKGUsdCxyLGkpe3JldHVybiBibGl0QnVmZmVyKGZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzKGUsdCl7Zm9yKHZhciByLGksbixvPVtdLHM9MDtzPGUubGVuZ3RoJiYhKCh0LT0yKTwwKTsrK3Mpcj1lLmNoYXJDb2RlQXQocyksaT1yPj44LG49ciUyNTYsby5wdXNoKG4pLG8ucHVzaChpKTtyZXR1cm4gb30odCxlLmxlbmd0aC1yKSxlLHIsaSl9ZnVuY3Rpb24gYmFzZTY0U2xpY2UoZSx0LHIpe3JldHVybiAwPT09dCYmcj09PWUubGVuZ3RoP2kuZnJvbUJ5dGVBcnJheShlKTppLmZyb21CeXRlQXJyYXkoZS5zbGljZSh0LHIpKX1mdW5jdGlvbiB1dGY4U2xpY2UoZSx0LHIpe3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBpPVtdLG49dDtuPHI7KXt2YXIgbyxhLHUsYyxoPWVbbl0sbD1udWxsLGY9aD4yMzk/NDpoPjIyMz8zOmg+MTkxPzI6MTtpZihuK2Y8PXIpc3dpdGNoKGYpe2Nhc2UgMTpoPDEyOCYmKGw9aCk7YnJlYWs7Y2FzZSAyOjEyOD09KDE5MiYobz1lW24rMV0pKSYmKGM9KDMxJmgpPDw2fDYzJm8pPjEyNyYmKGw9Yyk7YnJlYWs7Y2FzZSAzOm89ZVtuKzFdLGE9ZVtuKzJdLDEyOD09KDE5MiZvKSYmMTI4PT0oMTkyJmEpJiYoYz0oMTUmaCk8PDEyfCg2MyZvKTw8Nnw2MyZhKT4yMDQ3JiYoYzw1NTI5Nnx8Yz41NzM0MykmJihsPWMpO2JyZWFrO2Nhc2UgNDpvPWVbbisxXSxhPWVbbisyXSx1PWVbbiszXSwxMjg9PSgxOTImbykmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJnUpJiYoYz0oMTUmaCk8PDE4fCg2MyZvKTw8MTJ8KDYzJmEpPDw2fDYzJnUpPjY1NTM1JiZjPDExMTQxMTImJihsPWMpfW51bGw9PT1sPyhsPTY1NTMzLGY9MSk6bD42NTUzNSYmKGwtPTY1NTM2LGkucHVzaChsPj4+MTAmMTAyM3w1NTI5NiksbD01NjMyMHwxMDIzJmwpLGkucHVzaChsKSxuKz1mfXJldHVybiBmdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9cylyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSk7dmFyIHI9XCJcIixpPTA7Zm9yKDtpPHQ7KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUuc2xpY2UoaSxpKz1zKSk7cmV0dXJuIHJ9KGkpfXQuQnVmZmVyPUJ1ZmZlcix0LlNsb3dCdWZmZXI9ZnVuY3Rpb24gU2xvd0J1ZmZlcihlKXsrZSE9ZSYmKGU9MCk7cmV0dXJuIEJ1ZmZlci5hbGxvYygrZSl9LHQuSU5TUEVDVF9NQVhfQllURVM9NTAsQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwIT09ZS5UWVBFRF9BUlJBWV9TVVBQT1JUP2UuVFlQRURfQVJSQVlfU1VQUE9SVDpmdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCgpe3RyeXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gZS5fX3Byb3RvX189e19fcHJvdG9fXzpVaW50OEFycmF5LnByb3RvdHlwZSxmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fSw0Mj09PWUuZm9vKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc3ViYXJyYXkmJjA9PT1lLnN1YmFycmF5KDEsMSkuYnl0ZUxlbmd0aH1jYXRjaChlKXtyZXR1cm4hMX19KCksdC5rTWF4TGVuZ3RoPWtNYXhMZW5ndGgoKSxCdWZmZXIucG9vbFNpemU9ODE5MixCdWZmZXIuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19fPUJ1ZmZlci5wcm90b3R5cGUsZX0sQnVmZmVyLmZyb209ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmcm9tKG51bGwsZSx0LHIpfSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCYmKEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fPVVpbnQ4QXJyYXkucHJvdG90eXBlLEJ1ZmZlci5fX3Byb3RvX189VWludDhBcnJheSxcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuc3BlY2llcyYmQnVmZmVyW1N5bWJvbC5zcGVjaWVzXT09PUJ1ZmZlciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlcixTeW1ib2wuc3BlY2llcyx7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITB9KSksQnVmZmVyLmFsbG9jPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24gYWxsb2MoZSx0LHIsaSl7cmV0dXJuIGFzc2VydFNpemUodCksdDw9MD9jcmVhdGVCdWZmZXIoZSx0KTp2b2lkIDAhPT1yP1wic3RyaW5nXCI9PXR5cGVvZiBpP2NyZWF0ZUJ1ZmZlcihlLHQpLmZpbGwocixpKTpjcmVhdGVCdWZmZXIoZSx0KS5maWxsKHIpOmNyZWF0ZUJ1ZmZlcihlLHQpfShudWxsLGUsdCxyKX0sQnVmZmVyLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe3JldHVybiBhbGxvY1Vuc2FmZShudWxsLGUpfSxCdWZmZXIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe3JldHVybiBhbGxvY1Vuc2FmZShudWxsLGUpfSxCdWZmZXIuaXNCdWZmZXI9ZnVuY3Rpb24gaXNCdWZmZXIoZSl7cmV0dXJuIShudWxsPT1lfHwhZS5faXNCdWZmZXIpfSxCdWZmZXIuY29tcGFyZT1mdW5jdGlvbiBjb21wYXJlKGUsdCl7aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKXx8IUJ1ZmZlci5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIG11c3QgYmUgQnVmZmVyc1wiKTtpZihlPT09dClyZXR1cm4gMDtmb3IodmFyIHI9ZS5sZW5ndGgsaT10Lmxlbmd0aCxuPTAsbz1NYXRoLm1pbihyLGkpO248bzsrK24paWYoZVtuXSE9PXRbbl0pe3I9ZVtuXSxpPXRbbl07YnJlYWt9cmV0dXJuIHI8aT8tMTppPHI/MTowfSxCdWZmZXIuaXNFbmNvZGluZz1mdW5jdGlvbiBpc0VuY29kaW5nKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sQnVmZmVyLmNvbmNhdD1mdW5jdGlvbiBjb25jYXQoZSx0KXtpZighbyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIEJ1ZmZlci5hbGxvYygwKTt2YXIgcjtpZih2b2lkIDA9PT10KWZvcih0PTAscj0wO3I8ZS5sZW5ndGg7KytyKXQrPWVbcl0ubGVuZ3RoO3ZhciBpPUJ1ZmZlci5hbGxvY1Vuc2FmZSh0KSxuPTA7Zm9yKHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIHM9ZVtyXTtpZighQnVmZmVyLmlzQnVmZmVyKHMpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO3MuY29weShpLG4pLG4rPXMubGVuZ3RofXJldHVybiBpfSxCdWZmZXIuYnl0ZUxlbmd0aD1ieXRlTGVuZ3RoLEJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLEJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uIHN3YXAxNigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz0yKXN3YXAodGhpcyx0LHQrMSk7cmV0dXJuIHRoaXN9LEJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uIHN3YXAzMigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz00KXN3YXAodGhpcyx0LHQrMyksc3dhcCh0aGlzLHQrMSx0KzIpO3JldHVybiB0aGlzfSxCdWZmZXIucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbiBzd2FwNjQoKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIHQ9MDt0PGU7dCs9OClzd2FwKHRoaXMsdCx0KzcpLHN3YXAodGhpcyx0KzEsdCs2KSxzd2FwKHRoaXMsdCsyLHQrNSksc3dhcCh0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSxCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uIHRvU3RyaW5nKCl7dmFyIGU9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PWU/XCJcIjowPT09YXJndW1lbnRzLmxlbmd0aD91dGY4U2xpY2UodGhpcywwLGUpOmZ1bmN0aW9uIHNsb3dUb1N0cmluZyhlLHQscil7dmFyIGk9ITE7aWYoKHZvaWQgMD09PXR8fHQ8MCkmJih0PTApLHQ+dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtpZigodm9pZCAwPT09cnx8cj50aGlzLmxlbmd0aCkmJihyPXRoaXMubGVuZ3RoKSxyPD0wKXJldHVyblwiXCI7aWYoKHI+Pj49MCk8PSh0Pj4+PTApKXJldHVyblwiXCI7Zm9yKGV8fChlPVwidXRmOFwiKTs7KXN3aXRjaChlKXtjYXNlXCJoZXhcIjpyZXR1cm4gaGV4U2xpY2UodGhpcyx0LHIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4U2xpY2UodGhpcyx0LHIpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpU2xpY2UodGhpcyx0LHIpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBsYXRpbjFTbGljZSh0aGlzLHQscik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsdCxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsdCxyKTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2UpO2U9KGUrXCJcIikudG9Mb3dlckNhc2UoKSxpPSEwfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxCdWZmZXIucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbiBlcXVhbHMoZSl7aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PWV8fDA9PT1CdWZmZXIuY29tcGFyZSh0aGlzLGUpfSxCdWZmZXIucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24gaW5zcGVjdCgpe3ZhciBlPVwiXCIscj10LklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoZT10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxyKS5tYXRjaCgvLnsyfS9nKS5qb2luKFwiIFwiKSx0aGlzLmxlbmd0aD5yJiYoZSs9XCIgLi4uIFwiKSksXCI8QnVmZmVyIFwiK2UrXCI+XCJ9LEJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbiBjb21wYXJlKGUsdCxyLGksbil7aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1yJiYocj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PW4mJihuPXRoaXMubGVuZ3RoKSx0PDB8fHI+ZS5sZW5ndGh8fGk8MHx8bj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihpPj1uJiZ0Pj1yKXJldHVybiAwO2lmKGk+PW4pcmV0dXJuLTE7aWYodD49cilyZXR1cm4gMTtpZih0Pj4+PTAscj4+Pj0wLGk+Pj49MCxuPj4+PTAsdGhpcz09PWUpcmV0dXJuIDA7Zm9yKHZhciBvPW4taSxzPXItdCxhPU1hdGgubWluKG8scyksdT10aGlzLnNsaWNlKGksbiksYz1lLnNsaWNlKHQsciksaD0wO2g8YTsrK2gpaWYodVtoXSE9PWNbaF0pe289dVtoXSxzPWNbaF07YnJlYWt9cmV0dXJuIG88cz8tMTpzPG8/MTowfSxCdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uIGluY2x1ZGVzKGUsdCxyKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQscil9LEJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbiBpbmRleE9mKGUsdCxyKXtyZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcyxlLHQsciwhMCl9LEJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24gbGFzdEluZGV4T2YoZSx0LHIpe3JldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLGUsdCxyLCExKX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbiB3cml0ZShlLHQscixpKXtpZih2b2lkIDA9PT10KWk9XCJ1dGY4XCIscj10aGlzLmxlbmd0aCx0PTA7ZWxzZSBpZih2b2lkIDA9PT1yJiZcInN0cmluZ1wiPT10eXBlb2YgdClpPXQscj10aGlzLmxlbmd0aCx0PTA7ZWxzZXtpZighaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7dHw9MCxpc0Zpbml0ZShyKT8ocnw9MCx2b2lkIDA9PT1pJiYoaT1cInV0ZjhcIikpOihpPXIscj12b2lkIDApfXZhciBuPXRoaXMubGVuZ3RoLXQ7aWYoKHZvaWQgMD09PXJ8fHI+bikmJihyPW4pLGUubGVuZ3RoPjAmJihyPDB8fHQ8MCl8fHQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtpfHwoaT1cInV0ZjhcIik7Zm9yKHZhciBvPSExOzspc3dpdGNoKGkpe2Nhc2VcImhleFwiOnJldHVybiBoZXhXcml0ZSh0aGlzLGUsdCxyKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gdXRmOFdyaXRlKHRoaXMsZSx0LHIpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpV3JpdGUodGhpcyxlLHQscik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsZSx0LHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRXcml0ZSh0aGlzLGUsdCxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdWNzMldyaXRlKHRoaXMsZSx0LHIpO2RlZmF1bHQ6aWYobyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIraSk7aT0oXCJcIitpKS50b0xvd2VyQ2FzZSgpLG89ITB9fSxCdWZmZXIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbiB0b0pTT04oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIHM9NDA5NjtmdW5jdGlvbiBhc2NpaVNsaWNlKGUsdCxyKXt2YXIgaT1cIlwiO3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBuPXQ7bjxyOysrbilpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZlW25dKTtyZXR1cm4gaX1mdW5jdGlvbiBsYXRpbjFTbGljZShlLHQscil7dmFyIGk9XCJcIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgbj10O248cjsrK24paSs9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gaX1mdW5jdGlvbiBoZXhTbGljZShlLHQscil7dmFyIGk9ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKSwoIXJ8fHI8MHx8cj5pKSYmKHI9aSk7Zm9yKHZhciBuPVwiXCIsbz10O288cjsrK28pbis9dG9IZXgoZVtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gdXRmMTZsZVNsaWNlKGUsdCxyKXtmb3IodmFyIGk9ZS5zbGljZSh0LHIpLG49XCJcIixvPTA7bzxpLmxlbmd0aDtvKz0yKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoaVtvXSsyNTYqaVtvKzFdKTtyZXR1cm4gbn1mdW5jdGlvbiBjaGVja09mZnNldChlLHQscil7aWYoZSUxIT0wfHxlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYoZSt0PnIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWZ1bmN0aW9uIGNoZWNrSW50KGUsdCxyLGksbixvKXtpZighQnVmZmVyLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHQ+bnx8dDxvKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKHIraT5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNihlLHQscixpKXt0PDAmJih0PTY1NTM1K3QrMSk7Zm9yKHZhciBuPTAsbz1NYXRoLm1pbihlLmxlbmd0aC1yLDIpO248bzsrK24pZVtyK25dPSh0JjI1NTw8OCooaT9uOjEtbikpPj4+OCooaT9uOjEtbil9ZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIoZSx0LHIsaSl7dDwwJiYodD00Mjk0OTY3Mjk1K3QrMSk7Zm9yKHZhciBuPTAsbz1NYXRoLm1pbihlLmxlbmd0aC1yLDQpO248bzsrK24pZVtyK25dPXQ+Pj44KihpP246My1uKSYyNTV9ZnVuY3Rpb24gY2hlY2tJRUVFNzU0KGUsdCxyLGksbixvKXtpZihyK2k+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIHdyaXRlRmxvYXQoZSx0LHIsaSxvKXtyZXR1cm4gb3x8Y2hlY2tJRUVFNzU0KGUsMCxyLDQpLG4ud3JpdGUoZSx0LHIsaSwyMyw0KSxyKzR9ZnVuY3Rpb24gd3JpdGVEb3VibGUoZSx0LHIsaSxvKXtyZXR1cm4gb3x8Y2hlY2tJRUVFNzU0KGUsMCxyLDgpLG4ud3JpdGUoZSx0LHIsaSw1Miw4KSxyKzh9QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbiBzbGljZShlLHQpe3ZhciByLGk9dGhpcy5sZW5ndGg7aWYoZT1+fmUsdD12b2lkIDA9PT10P2k6fn50LGU8MD8oZSs9aSk8MCYmKGU9MCk6ZT5pJiYoZT1pKSx0PDA/KHQrPWkpPDAmJih0PTApOnQ+aSYmKHQ9aSksdDxlJiYodD1lKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkocj10aGlzLnN1YmFycmF5KGUsdCkpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlO2Vsc2V7dmFyIG49dC1lO3I9bmV3IEJ1ZmZlcihuLHZvaWQgMCk7Zm9yKHZhciBvPTA7bzxuOysrbylyW29dPXRoaXNbbytlXX1yZXR1cm4gcn0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uIHJlYWRVSW50TEUoZSx0LHIpe2V8PTAsdHw9MCxyfHxjaGVja09mZnNldChlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10aGlzW2VdLG49MSxvPTA7KytvPHQmJihuKj0yNTYpOylpKz10aGlzW2Urb10qbjtyZXR1cm4gaX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uIHJlYWRVSW50QkUoZSx0LHIpe2V8PTAsdHw9MCxyfHxjaGVja09mZnNldChlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10aGlzW2UrLS10XSxuPTE7dD4wJiYobio9MjU2KTspaSs9dGhpc1tlKy0tdF0qbjtyZXR1cm4gaX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24gcmVhZFVJbnQ4KGUsdCl7cmV0dXJuIHR8fGNoZWNrT2Zmc2V0KGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24gcmVhZFVJbnQxNkxFKGUsdCl7cmV0dXJuIHR8fGNoZWNrT2Zmc2V0KGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uIHJlYWRVSW50MTZCRShlLHQpe3JldHVybiB0fHxjaGVja09mZnNldChlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDh8dGhpc1tlKzFdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbiByZWFkVUludDMyTEUoZSx0KXtyZXR1cm4gdHx8Y2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbiByZWFkVUludDMyQkUoZSx0KXtyZXR1cm4gdHx8Y2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbiByZWFkSW50TEUoZSx0LHIpe2V8PTAsdHw9MCxyfHxjaGVja09mZnNldChlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10aGlzW2VdLG49MSxvPTA7KytvPHQmJihuKj0yNTYpOylpKz10aGlzW2Urb10qbjtyZXR1cm4gaT49KG4qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqdCkpLGl9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uIHJlYWRJbnRCRShlLHQscil7ZXw9MCx0fD0wLHJ8fGNoZWNrT2Zmc2V0KGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPXQsbj0xLG89dGhpc1tlKy0taV07aT4wJiYobio9MjU2KTspbys9dGhpc1tlKy0taV0qbjtyZXR1cm4gbz49KG4qPTEyOCkmJihvLT1NYXRoLnBvdygyLDgqdCkpLG99LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24gcmVhZEludDgoZSx0KXtyZXR1cm4gdHx8Y2hlY2tPZmZzZXQoZSwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1tlXT8tMSooMjU1LXRoaXNbZV0rMSk6dGhpc1tlXX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbiByZWFkSW50MTZMRShlLHQpe3R8fGNoZWNrT2Zmc2V0KGUsMix0aGlzLmxlbmd0aCk7dmFyIHI9dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4JnI/NDI5NDkwMTc2MHxyOnJ9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24gcmVhZEludDE2QkUoZSx0KXt0fHxjaGVja09mZnNldChlLDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uIHJlYWRJbnQzMkxFKGUsdCl7cmV0dXJuIHR8fGNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uIHJlYWRJbnQzMkJFKGUsdCl7cmV0dXJuIHR8fGNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uIHJlYWRGbG9hdExFKGUsdCl7cmV0dXJuIHR8fGNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbiByZWFkRmxvYXRCRShlLHQpe3JldHVybiB0fHxjaGVja09mZnNldChlLDQsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLGUsITEsMjMsNCl9LEJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uIHJlYWREb3VibGVMRShlLHQpe3JldHVybiB0fHxjaGVja09mZnNldChlLDgsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLGUsITAsNTIsOCl9LEJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uIHJlYWREb3VibGVCRShlLHQpe3JldHVybiB0fHxjaGVja09mZnNldChlLDgsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLGUsITEsNTIsOCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24gd3JpdGVVSW50TEUoZSx0LHIsaSl7KGU9K2UsdHw9MCxyfD0wLGkpfHxjaGVja0ludCh0aGlzLGUsdCxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBuPTEsbz0wO2Zvcih0aGlzW3RdPTI1NSZlOysrbzxyJiYobio9MjU2KTspdGhpc1t0K29dPWUvbiYyNTU7cmV0dXJuIHQrcn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbiB3cml0ZVVJbnRCRShlLHQscixpKXsoZT0rZSx0fD0wLHJ8PTAsaSl8fGNoZWNrSW50KHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIG49ci0xLG89MTtmb3IodGhpc1t0K25dPTI1NSZlOy0tbj49MCYmKG8qPTI1Nik7KXRoaXNbdCtuXT1lL28mMjU1O3JldHVybiB0K3J9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbiB3cml0ZVVJbnQ4KGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fGNoZWNrSW50KHRoaXMsZSx0LDEsMjU1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSx0aGlzW3RdPTI1NSZlLHQrMX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uIHdyaXRlVUludDE2TEUoZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Y2hlY2tJbnQodGhpcyxlLHQsMiw2NTUzNSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOm9iamVjdFdyaXRlVUludDE2KHRoaXMsZSx0LCEwKSx0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbiB3cml0ZVVJbnQxNkJFKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fGNoZWNrSW50KHRoaXMsZSx0LDIsNjU1MzUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLGUsdCwhMSksdCsyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24gd3JpdGVVSW50MzJMRShlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxjaGVja0ludCh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdCszXT1lPj4+MjQsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrMV09ZT4+PjgsdGhpc1t0XT0yNTUmZSk6b2JqZWN0V3JpdGVVSW50MzIodGhpcyxlLHQsITApLHQrNH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uIHdyaXRlVUludDMyQkUoZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Y2hlY2tJbnQodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsZSx0LCExKSx0KzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbiB3cml0ZUludExFKGUsdCxyLGkpe2lmKGU9K2UsdHw9MCwhaSl7dmFyIG49TWF0aC5wb3coMiw4KnItMSk7Y2hlY2tJbnQodGhpcyxlLHQscixuLTEsLW4pfXZhciBvPTAscz0xLGE9MDtmb3IodGhpc1t0XT0yNTUmZTsrK288ciYmKHMqPTI1Nik7KWU8MCYmMD09PWEmJjAhPT10aGlzW3Qrby0xXSYmKGE9MSksdGhpc1t0K29dPShlL3M+PjApLWEmMjU1O3JldHVybiB0K3J9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbiB3cml0ZUludEJFKGUsdCxyLGkpe2lmKGU9K2UsdHw9MCwhaSl7dmFyIG49TWF0aC5wb3coMiw4KnItMSk7Y2hlY2tJbnQodGhpcyxlLHQscixuLTEsLW4pfXZhciBvPXItMSxzPTEsYT0wO2Zvcih0aGlzW3Qrb109MjU1JmU7LS1vPj0wJiYocyo9MjU2KTspZTwwJiYwPT09YSYmMCE9PXRoaXNbdCtvKzFdJiYoYT0xKSx0aGlzW3Qrb109KGUvcz4+MCktYSYyNTU7cmV0dXJuIHQrcn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24gd3JpdGVJbnQ4KGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fGNoZWNrSW50KHRoaXMsZSx0LDEsMTI3LC0xMjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09MjU1JmUsdCsxfSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbiB3cml0ZUludDE2TEUoZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Y2hlY2tJbnQodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyxlLHQsITApLHQrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24gd3JpdGVJbnQxNkJFKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fGNoZWNrSW50KHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOm9iamVjdFdyaXRlVUludDE2KHRoaXMsZSx0LCExKSx0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uIHdyaXRlSW50MzJMRShlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxjaGVja0ludCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCszXT1lPj4+MjQpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsZSx0LCEwKSx0KzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uIHdyaXRlSW50MzJCRShlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxjaGVja0ludCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsZSx0LCExKSx0KzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uIHdyaXRlRmxvYXRMRShlLHQscil7cmV0dXJuIHdyaXRlRmxvYXQodGhpcyxlLHQsITAscil9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uIHdyaXRlRmxvYXRCRShlLHQscil7cmV0dXJuIHdyaXRlRmxvYXQodGhpcyxlLHQsITEscil9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbiB3cml0ZURvdWJsZUxFKGUsdCxyKXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyxlLHQsITAscil9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbiB3cml0ZURvdWJsZUJFKGUsdCxyKXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyxlLHQsITEscil9LEJ1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbiBjb3B5KGUsdCxyLGkpe2lmKHJ8fChyPTApLGl8fDA9PT1pfHwoaT10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxpPjAmJmk8ciYmKGk9ciksaT09PXIpcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihyPDB8fHI+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihpPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtpPnRoaXMubGVuZ3RoJiYoaT10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxpLXImJihpPWUubGVuZ3RoLXQrcik7dmFyIG4sbz1pLXI7aWYodGhpcz09PWUmJnI8dCYmdDxpKWZvcihuPW8tMTtuPj0wOy0tbillW24rdF09dGhpc1tuK3JdO2Vsc2UgaWYobzwxZTN8fCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVClmb3Iobj0wO248bzsrK24pZVtuK3RdPXRoaXNbbityXTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKGUsdGhpcy5zdWJhcnJheShyLHIrbyksdCk7cmV0dXJuIG99LEJ1ZmZlci5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbiBmaWxsKGUsdCxyLGkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdD8oaT10LHQ9MCxyPXRoaXMubGVuZ3RoKTpcInN0cmluZ1wiPT10eXBlb2YgciYmKGk9cixyPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBuPWUuY2hhckNvZGVBdCgwKTtuPDI1NiYmKGU9bil9aWYodm9pZCAwIT09aSYmXCJzdHJpbmdcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJiFCdWZmZXIuaXNFbmNvZGluZyhpKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIraSl9ZWxzZVwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZSY9MjU1KTtpZih0PDB8fHRoaXMubGVuZ3RoPHR8fHRoaXMubGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYocjw9dClyZXR1cm4gdGhpczt2YXIgbztpZih0Pj4+PTAscj12b2lkIDA9PT1yP3RoaXMubGVuZ3RoOnI+Pj4wLGV8fChlPTApLFwibnVtYmVyXCI9PXR5cGVvZiBlKWZvcihvPXQ7bzxyOysrbyl0aGlzW29dPWU7ZWxzZXt2YXIgcz1CdWZmZXIuaXNCdWZmZXIoZSk/ZTp1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKGUsaSkudG9TdHJpbmcoKSksYT1zLmxlbmd0aDtmb3Iobz0wO288ci10Oysrbyl0aGlzW28rdF09c1tvJWFdfXJldHVybiB0aGlzfTt2YXIgYT0vW14rXFwvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gdG9IZXgoZSl7cmV0dXJuIGU8MTY/XCIwXCIrZS50b1N0cmluZygxNik6ZS50b1N0cmluZygxNil9ZnVuY3Rpb24gdXRmOFRvQnl0ZXMoZSx0KXt2YXIgcjt0PXR8fDEvMDtmb3IodmFyIGk9ZS5sZW5ndGgsbj1udWxsLG89W10scz0wO3M8aTsrK3Mpe2lmKChyPWUuY2hhckNvZGVBdChzKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFuKXtpZihyPjU2MzE5KXsodC09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYocysxPT09aSl7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW49cjtjb250aW51ZX1pZihyPDU2MzIwKXsodC09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSksbj1yO2NvbnRpbnVlfXI9NjU1MzYrKG4tNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgbiYmKHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2lmKG49bnVsbCxyPDEyOCl7aWYoKHQtPTEpPDApYnJlYWs7by5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigodC09Mik8MClicmVhaztvLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKHQtPTMpPDApYnJlYWs7by5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKCh0LT00KTwwKWJyZWFrO28ucHVzaChyPj4xOHwyNDAscj4+MTImNjN8MTI4LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX19cmV0dXJuIG99ZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyhlKXtyZXR1cm4gaS50b0J5dGVBcnJheShmdW5jdGlvbiBiYXNlNjRjbGVhbihlKXtpZigoZT1mdW5jdGlvbiBzdHJpbmd0cmltKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfShlKS5yZXBsYWNlKGEsXCJcIikpLmxlbmd0aDwyKXJldHVyblwiXCI7Zm9yKDtlLmxlbmd0aCU0IT0wOyllKz1cIj1cIjtyZXR1cm4gZX0oZSkpfWZ1bmN0aW9uIGJsaXRCdWZmZXIoZSx0LHIsaSl7Zm9yKHZhciBuPTA7bjxpJiYhKG4rcj49dC5sZW5ndGh8fG4+PWUubGVuZ3RoKTsrK24pdFtuK3JdPWVbbl07cmV0dXJuIG59fSkuY2FsbCh0aGlzLHIoMzkpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihpKXt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSx1PXt1c2VyQWdlbnQ6ITF9LHA9e307XG4vKiFcbkNvcHlyaWdodCAoYykgMjAxMSwgWWFob28hIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbkNvZGUgbGljZW5zZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlOlxuaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbFxudmVyc2lvbjogMi45LjBcbiovXG5pZih2b2lkIDA9PT12KXZhciB2PXt9O3YubGFuZz17ZXh0ZW5kOmZ1bmN0aW9uIGV4dGVuZCh0LHIsaSl7aWYoIXJ8fCF0KXRocm93IG5ldyBFcnJvcihcIllBSE9PLmxhbmcuZXh0ZW5kIGZhaWxlZCwgcGxlYXNlIGNoZWNrIHRoYXQgYWxsIGRlcGVuZGVuY2llcyBhcmUgaW5jbHVkZWQuXCIpO3ZhciBuPWZ1bmN0aW9uIGQoKXt9O2lmKG4ucHJvdG90eXBlPXIucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5zdXBlcmNsYXNzPXIucHJvdG90eXBlLHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPT1PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yJiYoci5wcm90b3R5cGUuY29uc3RydWN0b3I9ciksaSl7dmFyIG87Zm9yKG8gaW4gaSl0LnByb3RvdHlwZVtvXT1pW29dO3ZhciBzPWZ1bmN0aW9uIGUoKXt9LGE9W1widG9TdHJpbmdcIixcInZhbHVlT2ZcIl07dHJ5ey9NU0lFLy50ZXN0KHUudXNlckFnZW50KSYmKHM9ZnVuY3Rpb24gZSh0LHIpe2ZvcihvPTA7bzxhLmxlbmd0aDtvKz0xKXt2YXIgaT1hW29dLG49cltpXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIT1PYmplY3QucHJvdG90eXBlW2ldJiYodFtpXT1uKX19KX1jYXRjaChlKXt9cyh0LnByb3RvdHlwZSxpKX19fTtcbi8qISBDcnlwdG9KUyB2My4xLjIgY29yZS1maXguanNcbiAqIGNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qc1xuICogKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlXG4gKiBUSElTIElTIEZJWCBvZiAnY29yZS5qcycgdG8gZml4IEhtYWMgaXNzdWUuXG4gKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy9pc3N1ZXMvZGV0YWlsP2lkPTg0XG4gKiBodHRwczovL2NyeXB0by1qcy5nb29nbGVjb2RlLmNvbS9zdm4taGlzdG9yeS9yNjY3L2JyYW5jaGVzLzMueC9zcmMvY29yZS5qc1xuICovXG52YXIgeT15fHxmdW5jdGlvbihlLHQpe3ZhciByPXt9LGk9ci5saWI9e30sbj1pLkJhc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7fXJldHVybntleHRlbmQ6ZnVuY3Rpb24gZXh0ZW5kKGUpe24ucHJvdG90eXBlPXRoaXM7dmFyIHQ9bmV3IG47cmV0dXJuIGUmJnQubWl4SW4oZSksdC5oYXNPd25Qcm9wZXJ0eShcImluaXRcIil8fCh0LmluaXQ9ZnVuY3Rpb24oKXt0LiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHQuaW5pdC5wcm90b3R5cGU9dCx0LiRzdXBlcj10aGlzLHR9LGNyZWF0ZTpmdW5jdGlvbiBjcmVhdGUoKXt2YXIgZT10aGlzLmV4dGVuZCgpO3JldHVybiBlLmluaXQuYXBwbHkoZSxhcmd1bWVudHMpLGV9LGluaXQ6ZnVuY3Rpb24gaW5pdCgpe30sbWl4SW46ZnVuY3Rpb24gbWl4SW4oZSl7Zm9yKHZhciB0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKHRoaXNbdF09ZVt0XSk7ZS5oYXNPd25Qcm9wZXJ0eShcInRvU3RyaW5nXCIpJiYodGhpcy50b1N0cmluZz1lLnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fX0oKSxvPWkuV29yZEFycmF5PW4uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uIGluaXQoZSx0KXtlPXRoaXMud29yZHM9ZXx8W10sdGhpcy5zaWdCeXRlcz12b2lkIDAhPXQ/dDo0KmUubGVuZ3RofSx0b1N0cmluZzpmdW5jdGlvbiB0b1N0cmluZyhlKXtyZXR1cm4oZXx8YSkuc3RyaW5naWZ5KHRoaXMpfSxjb25jYXQ6ZnVuY3Rpb24gY29uY2F0KGUpe3ZhciB0PXRoaXMud29yZHMscj1lLndvcmRzLGk9dGhpcy5zaWdCeXRlcyxuPWUuc2lnQnl0ZXM7aWYodGhpcy5jbGFtcCgpLGklNClmb3IodmFyIG89MDtvPG47bysrKXt2YXIgcz1yW28+Pj4yXT4+PjI0LW8lNCo4JjI1NTt0W2krbz4+PjJdfD1zPDwyNC0oaStvKSU0Kjh9ZWxzZSBmb3Iobz0wO288bjtvKz00KXRbaStvPj4+Ml09cltvPj4+Ml07cmV0dXJuIHRoaXMuc2lnQnl0ZXMrPW4sdGhpc30sY2xhbXA6ZnVuY3Rpb24gY2xhbXAoKXt2YXIgdD10aGlzLndvcmRzLHI9dGhpcy5zaWdCeXRlczt0W3I+Pj4yXSY9NDI5NDk2NzI5NTw8MzItciU0KjgsdC5sZW5ndGg9ZS5jZWlsKHIvNCl9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7dmFyIGU9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCksZX0scmFuZG9tOmZ1bmN0aW9uIHJhbmRvbSh0KXtmb3IodmFyIHI9W10saT0wO2k8dDtpKz00KXIucHVzaCg0Mjk0OTY3Mjk2KmUucmFuZG9tKCl8MCk7cmV0dXJuIG5ldyBvLmluaXQocix0KX19KSxzPXIuZW5jPXt9LGE9cy5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbiBzdHJpbmdpZnkoZSl7Zm9yKHZhciB0PWUud29yZHMscj1lLnNpZ0J5dGVzLGk9W10sbj0wO248cjtuKyspe3ZhciBvPXRbbj4+PjJdPj4+MjQtbiU0KjgmMjU1O2kucHVzaCgobz4+PjQpLnRvU3RyaW5nKDE2KSksaS5wdXNoKCgxNSZvKS50b1N0cmluZygxNikpfXJldHVybiBpLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uIHBhcnNlKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxyPVtdLGk9MDtpPHQ7aSs9MilyW2k+Pj4zXXw9cGFyc2VJbnQoZS5zdWJzdHIoaSwyKSwxNik8PDI0LWklOCo0O3JldHVybiBuZXcgby5pbml0KHIsdC8yKX19LHU9cy5MYXRpbjE9e3N0cmluZ2lmeTpmdW5jdGlvbiBzdHJpbmdpZnkoZSl7Zm9yKHZhciB0PWUud29yZHMscj1lLnNpZ0J5dGVzLGk9W10sbj0wO248cjtuKyspe3ZhciBvPXRbbj4+PjJdPj4+MjQtbiU0KjgmMjU1O2kucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG8pKX1yZXR1cm4gaS5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbiBwYXJzZShlKXtmb3IodmFyIHQ9ZS5sZW5ndGgscj1bXSxpPTA7aTx0O2krKylyW2k+Pj4yXXw9KDI1NSZlLmNoYXJDb2RlQXQoaSkpPDwyNC1pJTQqODtyZXR1cm4gbmV3IG8uaW5pdChyLHQpfX0sYz1zLlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbiBzdHJpbmdpZnkoZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHUuc3RyaW5naWZ5KGUpKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFVURi04IGRhdGFcIil9fSxwYXJzZTpmdW5jdGlvbiBwYXJzZShlKXtyZXR1cm4gdS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpKX19LGg9aS5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtPW4uZXh0ZW5kKHtyZXNldDpmdW5jdGlvbiByZXNldCgpe3RoaXMuX2RhdGE9bmV3IG8uaW5pdCx0aGlzLl9uRGF0YUJ5dGVzPTB9LF9hcHBlbmQ6ZnVuY3Rpb24gX2FwcGVuZChlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9Yy5wYXJzZShlKSksdGhpcy5fZGF0YS5jb25jYXQoZSksdGhpcy5fbkRhdGFCeXRlcys9ZS5zaWdCeXRlc30sX3Byb2Nlc3M6ZnVuY3Rpb24gX3Byb2Nlc3ModCl7dmFyIHI9dGhpcy5fZGF0YSxpPXIud29yZHMsbj1yLnNpZ0J5dGVzLHM9dGhpcy5ibG9ja1NpemUsYT1uLyg0KnMpLHU9KGE9dD9lLmNlaWwoYSk6ZS5tYXgoKDB8YSktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKSkqcyxjPWUubWluKDQqdSxuKTtpZih1KXtmb3IodmFyIGg9MDtoPHU7aCs9cyl0aGlzLl9kb1Byb2Nlc3NCbG9jayhpLGgpO3ZhciBsPWkuc3BsaWNlKDAsdSk7ci5zaWdCeXRlcy09Y31yZXR1cm4gbmV3IG8uaW5pdChsLGMpfSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3ZhciBlPW4uY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksZX0sX21pbkJ1ZmZlclNpemU6MH0pLGw9KGkuSGFzaGVyPWguZXh0ZW5kKHtjZmc6bi5leHRlbmQoKSxpbml0OmZ1bmN0aW9uIGluaXQoZSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGUpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXtoLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSx1cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKGUpe3JldHVybiB0aGlzLl9hcHBlbmQoZSksdGhpcy5fcHJvY2VzcygpLHRoaXN9LGZpbmFsaXplOmZ1bmN0aW9uIGZpbmFsaXplKGUpe3JldHVybiBlJiZ0aGlzLl9hcHBlbmQoZSksdGhpcy5fZG9GaW5hbGl6ZSgpfSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbiBfY3JlYXRlSGVscGVyKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZS5pbml0KHIpLmZpbmFsaXplKHQpfX0sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24gX2NyZWF0ZUhtYWNIZWxwZXIoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBsLkhNQUMuaW5pdChlLHIpLmZpbmFsaXplKHQpfX19KSxyLmFsZ289e30pO3JldHVybiByfShNYXRoKTshZnVuY3Rpb24oZSl7dmFyIHQscj0odD15KS5saWIsaT1yLkJhc2Usbj1yLldvcmRBcnJheTsodD10Lng2ND17fSkuV29yZD1pLmV4dGVuZCh7aW5pdDpmdW5jdGlvbiBpbml0KGUsdCl7dGhpcy5oaWdoPWUsdGhpcy5sb3c9dH19KSx0LldvcmRBcnJheT1pLmV4dGVuZCh7aW5pdDpmdW5jdGlvbiBpbml0KGUsdCl7ZT10aGlzLndvcmRzPWV8fFtdLHRoaXMuc2lnQnl0ZXM9dm9pZCAwIT10P3Q6OCplLmxlbmd0aH0sdG9YMzI6ZnVuY3Rpb24gdG9YMzIoKXtmb3IodmFyIGU9dGhpcy53b3Jkcyx0PWUubGVuZ3RoLHI9W10saT0wO2k8dDtpKyspe3ZhciBvPWVbaV07ci5wdXNoKG8uaGlnaCksci5wdXNoKG8ubG93KX1yZXR1cm4gbi5jcmVhdGUocix0aGlzLnNpZ0J5dGVzKX0sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtmb3IodmFyIGU9aS5jbG9uZS5jYWxsKHRoaXMpLHQ9ZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLHI9dC5sZW5ndGgsbj0wO248cjtuKyspdFtuXT10W25dLmNsb25lKCk7cmV0dXJuIGV9fSl9KCksZnVuY3Rpb24oKXt2YXIgZT15LHQ9ZS5saWIuV29yZEFycmF5O2UuZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uIHN0cmluZ2lmeShlKXt2YXIgdD1lLndvcmRzLHI9ZS5zaWdCeXRlcyxpPXRoaXMuX21hcDtlLmNsYW1wKCksZT1bXTtmb3IodmFyIG49MDtuPHI7bis9Mylmb3IodmFyIG89KHRbbj4+PjJdPj4+MjQtbiU0KjgmMjU1KTw8MTZ8KHRbbisxPj4+Ml0+Pj4yNC0obisxKSU0KjgmMjU1KTw8OHx0W24rMj4+PjJdPj4+MjQtKG4rMiklNCo4JjI1NSxzPTA7ND5zJiZuKy43NSpzPHI7cysrKWUucHVzaChpLmNoYXJBdChvPj4+NiooMy1zKSY2MykpO2lmKHQ9aS5jaGFyQXQoNjQpKWZvcig7ZS5sZW5ndGglNDspZS5wdXNoKHQpO3JldHVybiBlLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uIHBhcnNlKGUpe3ZhciByPWUubGVuZ3RoLGk9dGhpcy5fbWFwOyhuPWkuY2hhckF0KDY0KSkmJigtMSE9KG49ZS5pbmRleE9mKG4pKSYmKHI9bikpO2Zvcih2YXIgbj1bXSxvPTAscz0wO3M8cjtzKyspaWYocyU0KXt2YXIgYT1pLmluZGV4T2YoZS5jaGFyQXQocy0xKSk8PHMlNCoyLHU9aS5pbmRleE9mKGUuY2hhckF0KHMpKT4+PjYtcyU0KjI7bltvPj4+Ml18PShhfHUpPDwyNC1vJTQqOCxvKyt9cmV0dXJuIHQuY3JlYXRlKG4sbyl9LF9tYXA6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwifX0oKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9eSxyPShuPXQubGliKS5Xb3JkQXJyYXksaT1uLkhhc2hlcixuPXQuYWxnbyxvPVtdLHM9W10sYT1mdW5jdGlvbiB1KGUpe3JldHVybiA0Mjk0OTY3Mjk2KihlLSgwfGUpKXwwfSx1PTIsYz0wOzY0PmM7KXt2YXIgaDtlOntoPXU7Zm9yKHZhciBsPWUuc3FydChoKSxmPTI7Zjw9bDtmKyspaWYoIShoJWYpKXtoPSExO2JyZWFrIGV9aD0hMH1oJiYoOD5jJiYob1tjXT1hKGUucG93KHUsLjUpKSksc1tjXT1hKGUucG93KHUsMS8zKSksYysrKSx1Kyt9dmFyIGc9W107bj1uLlNIQTI1Nj1pLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24gX2RvUmVzZXQoKXt0aGlzLl9oYXNoPW5ldyByLmluaXQoby5zbGljZSgwKSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbiBfZG9Qcm9jZXNzQmxvY2soZSx0KXtmb3IodmFyIHI9dGhpcy5faGFzaC53b3JkcyxpPXJbMF0sbj1yWzFdLG89clsyXSxhPXJbM10sdT1yWzRdLGM9cls1XSxoPXJbNl0sbD1yWzddLGY9MDs2ND5mO2YrKyl7aWYoMTY+ZilnW2ZdPTB8ZVt0K2ZdO2Vsc2V7dmFyIHA9Z1tmLTE1XSxkPWdbZi0yXTtnW2ZdPSgocDw8MjV8cD4+PjcpXihwPDwxNHxwPj4+MTgpXnA+Pj4zKStnW2YtN10rKChkPDwxNXxkPj4+MTcpXihkPDwxM3xkPj4+MTkpXmQ+Pj4xMCkrZ1tmLTE2XX1wPWwrKCh1PDwyNnx1Pj4+NileKHU8PDIxfHU+Pj4xMSleKHU8PDd8dT4+PjI1KSkrKHUmY15+dSZoKStzW2ZdK2dbZl0sZD0oKGk8PDMwfGk+Pj4yKV4oaTw8MTl8aT4+PjEzKV4oaTw8MTB8aT4+PjIyKSkrKGkmbl5pJm9ebiZvKSxsPWgsaD1jLGM9dSx1PWErcHwwLGE9byxvPW4sbj1pLGk9cCtkfDB9clswXT1yWzBdK2l8MCxyWzFdPXJbMV0rbnwwLHJbMl09clsyXStvfDAsclszXT1yWzNdK2F8MCxyWzRdPXJbNF0rdXwwLHJbNV09cls1XStjfDAscls2XT1yWzZdK2h8MCxyWzddPXJbN10rbHwwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbiBfZG9GaW5hbGl6ZSgpe3ZhciB0PXRoaXMuX2RhdGEscj10LndvcmRzLGk9OCp0aGlzLl9uRGF0YUJ5dGVzLG49OCp0LnNpZ0J5dGVzO3JldHVybiByW24+Pj41XXw9MTI4PDwyNC1uJTMyLHJbMTQrKG4rNjQ+Pj45PDw0KV09ZS5mbG9vcihpLzQyOTQ5NjcyOTYpLHJbMTUrKG4rNjQ+Pj45PDw0KV09aSx0LnNpZ0J5dGVzPTQqci5sZW5ndGgsdGhpcy5fcHJvY2VzcygpLHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7dmFyIGU9aS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSxlfX0pO3QuU0hBMjU2PWkuX2NyZWF0ZUhlbHBlcihuKSx0LkhtYWNTSEEyNTY9aS5fY3JlYXRlSG1hY0hlbHBlcihuKX0oTWF0aCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7cmV0dXJuIHIuY3JlYXRlLmFwcGx5KHIsYXJndW1lbnRzKX1mb3IodmFyIGU9eSx0PWUubGliLkhhc2hlcixyPShuPWUueDY0KS5Xb3JkLGk9bi5Xb3JkQXJyYXksbj1lLmFsZ28sbz1bYSgxMTE2MzUyNDA4LDM2MDk3Njc0NTgpLGEoMTg5OTQ0NzQ0MSw2MDI4OTE3MjUpLGEoMzA0OTMyMzQ3MSwzOTY0NDg0Mzk5KSxhKDM5MjEwMDk1NzMsMjE3MzI5NTU0OCksYSg5NjE5ODcxNjMsNDA4MTYyODQ3MiksYSgxNTA4OTcwOTkzLDMwNTM4MzQyNjUpLGEoMjQ1MzYzNTc0OCwyOTM3NjcxNTc5KSxhKDI4NzA3NjMyMjEsMzY2NDYwOTU2MCksYSgzNjI0MzgxMDgwLDI3MzQ4ODMzOTQpLGEoMzEwNTk4NDAxLDExNjQ5OTY1NDIpLGEoNjA3MjI1Mjc4LDEzMjM2MTA3NjQpLGEoMTQyNjg4MTk4NywzNTkwMzA0OTk0KSxhKDE5MjUwNzgzODgsNDA2ODE4MjM4MyksYSgyMTYyMDc4MjA2LDk5MTMzNjExMyksYSgyNjE0ODg4MTAzLDYzMzgwMzMxNyksYSgzMjQ4MjIyNTgwLDM0Nzk3NzQ4NjgpLGEoMzgzNTM5MDQwMSwyNjY2NjEzNDU4KSxhKDQwMjIyMjQ3NzQsOTQ0NzExMTM5KSxhKDI2NDM0NzA3OCwyMzQxMjYyNzczKSxhKDYwNDgwNzYyOCwyMDA3ODAwOTMzKSxhKDc3MDI1NTk4MywxNDk1OTkwOTAxKSxhKDEyNDkxNTAxMjIsMTg1NjQzMTIzNSksYSgxNTU1MDgxNjkyLDMxNzUyMTgxMzIpLGEoMTk5NjA2NDk4NiwyMTk4OTUwODM3KSxhKDI1NTQyMjA4ODIsMzk5OTcxOTMzOSksYSgyODIxODM0MzQ5LDc2Njc4NDAxNiksYSgyOTUyOTk2ODA4LDI1NjY1OTQ4NzkpLGEoMzIxMDMxMzY3MSwzMjAzMzM3OTU2KSxhKDMzMzY1NzE4OTEsMTAzNDQ1NzAyNiksYSgzNTg0NTI4NzExLDI0NjY5NDg5MDEpLGEoMTEzOTI2OTkzLDM3NTgzMjYzODMpLGEoMzM4MjQxODk1LDE2ODcxNzkzNiksYSg2NjYzMDcyMDUsMTE4ODE3OTk2NCksYSg3NzM1Mjk5MTIsMTU0NjA0NTczNCksYSgxMjk0NzU3MzcyLDE1MjI4MDU0ODUpLGEoMTM5NjE4MjI5MSwyNjQzODMzODIzKSxhKDE2OTUxODM3MDAsMjM0MzUyNzM5MCksYSgxOTg2NjYxMDUxLDEwMTQ0Nzc0ODApLGEoMjE3NzAyNjM1MCwxMjA2NzU5MTQyKSxhKDI0NTY5NTYwMzcsMzQ0MDc3NjI3KSxhKDI3MzA0ODU5MjEsMTI5MDg2MzQ2MCksYSgyODIwMzAyNDExLDMxNTg0NTQyNzMpLGEoMzI1OTczMDgwMCwzNTA1OTUyNjU3KSxhKDMzNDU3NjQ3NzEsMTA2MjE3MDA4KSxhKDM1MTYwNjU4MTcsMzYwNjAwODM0NCksYSgzNjAwMzUyODA0LDE0MzI3MjU3NzYpLGEoNDA5NDU3MTkwOSwxNDY3MDMxNTk0KSxhKDI3NTQyMzM0NCw4NTExNjk3MjApLGEoNDMwMjI3NzM0LDMxMDA4MjM3NTIpLGEoNTA2OTQ4NjE2LDEzNjMyNTgxOTUpLGEoNjU5MDYwNTU2LDM3NTA2ODU1OTMpLGEoODgzOTk3ODc3LDM3ODUwNTAyODApLGEoOTU4MTM5NTcxLDMzMTgzMDc0MjcpLGEoMTMyMjgyMjIxOCwzODEyNzIzNDAzKSxhKDE1MzcwMDIwNjMsMjAwMzAzNDk5NSksYSgxNzQ3ODczNzc5LDM2MDIwMzY4OTkpLGEoMTk1NTU2MjIyMiwxNTc1OTkwMDEyKSxhKDIwMjQxMDQ4MTUsMTEyNTU5MjkyOCksYSgyMjI3NzMwNDUyLDI3MTY5MDQzMDYpLGEoMjM2MTg1MjQyNCw0NDI3NzYwNDQpLGEoMjQyODQzNjQ3NCw1OTM2OTgzNDQpLGEoMjc1NjczNDE4NywzNzMzMTEwMjQ5KSxhKDMyMDQwMzE0NzksMjk5OTM1MTU3MyksYSgzMzI5MzI1Mjk4LDM4MTU5MjA0MjcpLGEoMzM5MTU2OTYxNCwzOTI4MzgzOTAwKSxhKDM1MTUyNjcyNzEsNTY2MjgwNzExKSxhKDM5NDAxODc2MDYsMzQ1NDA2OTUzNCksYSg0MTE4NjMwMjcxLDQwMDAyMzk5OTIpLGEoMTE2NDE4NDc0LDE5MTQxMzg1NTQpLGEoMTc0MjkyNDIxLDI3MzEwNTUyNzApLGEoMjg5MzgwMzU2LDMyMDM5OTMwMDYpLGEoNDYwMzkzMjY5LDMyMDYyMDMxNSksYSg2ODU0NzE3MzMsNTg3NDk2ODM2KSxhKDg1MjE0Mjk3MSwxMDg2NzkyODUxKSxhKDEwMTcwMzYyOTgsMzY1NTQzMTAwKSxhKDExMjYwMDA1ODAsMjYxODI5NzY3NiksYSgxMjg4MDMzNDcwLDM0MDk4NTUxNTgpLGEoMTUwMTUwNTk0OCw0MjM0NTA5ODY2KSxhKDE2MDcxNjc5MTUsOTg3MTY3NDY4KSxhKDE4MTY0MDIzMTYsMTI0NjE4OTU5MSldLHM9W10sdT0wOzgwPnU7dSsrKXNbdV09YSgpO249bi5TSEE1MTI9dC5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uIF9kb1Jlc2V0KCl7dGhpcy5faGFzaD1uZXcgaS5pbml0KFtuZXcgci5pbml0KDE3NzkwMzM3MDMsNDA4OTIzNTcyMCksbmV3IHIuaW5pdCgzMTQ0MTM0Mjc3LDIyMjc4NzM1OTUpLG5ldyByLmluaXQoMTAxMzkwNDI0Miw0MjcxMTc1NzIzKSxuZXcgci5pbml0KDI3NzM0ODA3NjIsMTU5NTc1MDEyOSksbmV3IHIuaW5pdCgxMzU5ODkzMTE5LDI5MTc1NjUxMzcpLG5ldyByLmluaXQoMjYwMDgyMjkyNCw3MjU1MTExOTkpLG5ldyByLmluaXQoNTI4NzM0NjM1LDQyMTUzODk1NDcpLG5ldyByLmluaXQoMTU0MTQ1OTIyNSwzMjcwMzMyMDkpXSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbiBfZG9Qcm9jZXNzQmxvY2soZSx0KXtmb3IodmFyIHI9KGw9dGhpcy5faGFzaC53b3JkcylbMF0saT1sWzFdLG49bFsyXSxhPWxbM10sdT1sWzRdLGM9bFs1XSxoPWxbNl0sbD1sWzddLGY9ci5oaWdoLGc9ci5sb3cscD1pLmhpZ2gsZD1pLmxvdyx2PW4uaGlnaCx5PW4ubG93LG09YS5oaWdoLFM9YS5sb3csYj11LmhpZ2gsRj11LmxvdyxfPWMuaGlnaCx3PWMubG93LEU9aC5oaWdoLHg9aC5sb3csQT1sLmhpZ2gsQz1sLmxvdyxQPWYsST1nLEI9cCxrPWQsUj12LFQ9eSxVPW0sRD1TLE09YixMPUYsTj1fLE89dyxIPUUsaj14LEs9QSxWPUMscT0wOzgwPnE7cSsrKXt2YXIgVz1zW3FdO2lmKDE2PnEpdmFyIEo9Vy5oaWdoPTB8ZVt0KzIqcV0sej1XLmxvdz0wfGVbdCsyKnErMV07ZWxzZXtKPSgoej0oSj1zW3EtMTVdKS5oaWdoKT4+PjF8KFk9Si5sb3cpPDwzMSleKHo+Pj44fFk8PDI0KV56Pj4+Nzt2YXIgWT0oWT4+PjF8ejw8MzEpXihZPj4+OHx6PDwyNCleKFk+Pj43fHo8PDI1KSxHPSgoej0oRz1zW3EtMl0pLmhpZ2gpPj4+MTl8KFg9Ry5sb3cpPDwxMyleKHo8PDN8WD4+PjI5KV56Pj4+NixYPShYPj4+MTl8ejw8MTMpXihYPDwzfHo+Pj4yOSleKFg+Pj42fHo8PDI2KSwkPSh6PXNbcS03XSkuaGlnaCxRPShaPXNbcS0xNl0pLmhpZ2gsWj1aLmxvdztKPShKPShKPUorJCsoKHo9WSt6Lmxvdyk+Pj4wPFk+Pj4wPzE6MCkpK0crKCh6PXorWCk+Pj4wPFg+Pj4wPzE6MCkpK1ErKCh6PXorWik+Pj4wPFo+Pj4wPzE6MCk7Vy5oaWdoPUosVy5sb3c9en0kPU0mTl5+TSZILFo9TCZPXn5MJmosVz1QJkJeUCZSXkImUjt2YXIgZWU9SSZrXkkmVF5rJlQsdGU9KFk9KFA+Pj4yOHxJPDw0KV4oUDw8MzB8ST4+PjIpXihQPDwyNXxJPj4+NyksRz0oST4+PjI4fFA8PDQpXihJPDwzMHxQPj4+MileKEk8PDI1fFA+Pj43KSwoWD1vW3FdKS5oaWdoKSxyZT1YLmxvdztRPShRPShRPShRPUsrKChNPj4+MTR8TDw8MTgpXihNPj4+MTh8TDw8MTQpXihNPDwyM3xMPj4+OSkpKygoWD1WKygoTD4+PjE0fE08PDE4KV4oTD4+PjE4fE08PDE0KV4oTDw8MjN8TT4+PjkpKSk+Pj4wPFY+Pj4wPzE6MCkpKyQrKChYPVgrWik+Pj4wPFo+Pj4wPzE6MCkpK3RlKygoWD1YK3JlKT4+PjA8cmU+Pj4wPzE6MCkpK0orKChYPVgreik+Pj4wPHo+Pj4wPzE6MCksVz1ZK1crKCh6PUcrZWUpPj4+MDxHPj4+MD8xOjApLEs9SCxWPWosSD1OLGo9TyxOPU0sTz1MLE09VStRKygoTD1EK1h8MCk+Pj4wPEQ+Pj4wPzE6MCl8MCxVPVIsRD1ULFI9QixUPWssQj1QLGs9SSxQPVErVysoKEk9WCt6fDApPj4+MDxYPj4+MD8xOjApfDB9Zz1yLmxvdz1nK0ksci5oaWdoPWYrUCsoZz4+PjA8ST4+PjA/MTowKSxkPWkubG93PWQrayxpLmhpZ2g9cCtCKyhkPj4+MDxrPj4+MD8xOjApLHk9bi5sb3c9eStULG4uaGlnaD12K1IrKHk+Pj4wPFQ+Pj4wPzE6MCksUz1hLmxvdz1TK0QsYS5oaWdoPW0rVSsoUz4+PjA8RD4+PjA/MTowKSxGPXUubG93PUYrTCx1LmhpZ2g9YitNKyhGPj4+MDxMPj4+MD8xOjApLHc9Yy5sb3c9dytPLGMuaGlnaD1fK04rKHc+Pj4wPE8+Pj4wPzE6MCkseD1oLmxvdz14K2osaC5oaWdoPUUrSCsoeD4+PjA8aj4+PjA/MTowKSxDPWwubG93PUMrVixsLmhpZ2g9QStLKyhDPj4+MDxWPj4+MD8xOjApfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbiBfZG9GaW5hbGl6ZSgpe3ZhciBlPXRoaXMuX2RhdGEsdD1lLndvcmRzLHI9OCp0aGlzLl9uRGF0YUJ5dGVzLGk9OCplLnNpZ0J5dGVzO3JldHVybiB0W2k+Pj41XXw9MTI4PDwyNC1pJTMyLHRbMzArKGkrMTI4Pj4+MTA8PDUpXT1NYXRoLmZsb29yKHIvNDI5NDk2NzI5NiksdFszMSsoaSsxMjg+Pj4xMDw8NSldPXIsZS5zaWdCeXRlcz00KnQubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNoLnRvWDMyKCl9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7dmFyIGU9dC5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSxlfSxibG9ja1NpemU6MzJ9KSxlLlNIQTUxMj10Ll9jcmVhdGVIZWxwZXIobiksZS5IbWFjU0hBNTEyPXQuX2NyZWF0ZUhtYWNIZWxwZXIobil9KCksZnVuY3Rpb24oKXt2YXIgZT15LHQ9KG49ZS54NjQpLldvcmQscj1uLldvcmRBcnJheSxpPShuPWUuYWxnbykuU0hBNTEyLG49bi5TSEEzODQ9aS5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uIF9kb1Jlc2V0KCl7dGhpcy5faGFzaD1uZXcgci5pbml0KFtuZXcgdC5pbml0KDM0MTgwNzAzNjUsMzIzODM3MTAzMiksbmV3IHQuaW5pdCgxNjU0MjcwMjUwLDkxNDE1MDY2MyksbmV3IHQuaW5pdCgyNDM4NTI5MzcwLDgxMjcwMjk5OSksbmV3IHQuaW5pdCgzNTU0NjIzNjAsNDE0NDkxMjY5NyksbmV3IHQuaW5pdCgxNzMxNDA1NDE1LDQyOTA3NzU4NTcpLG5ldyB0LmluaXQoMjM5NDE4MDIzMSwxNzUwNjAzMDI1KSxuZXcgdC5pbml0KDM2NzUwMDg1MjUsMTY5NDA3NjgzOSksbmV3IHQuaW5pdCgxMjAzMDYyODEzLDMyMDQwNzU0MjgpXSl9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uIF9kb0ZpbmFsaXplKCl7dmFyIGU9aS5fZG9GaW5hbGl6ZS5jYWxsKHRoaXMpO3JldHVybiBlLnNpZ0J5dGVzLT0xNixlfX0pO2UuU0hBMzg0PWkuX2NyZWF0ZUhlbHBlcihuKSxlLkhtYWNTSEEzODQ9aS5fY3JlYXRlSG1hY0hlbHBlcihuKX0oKTtcbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG52YXIgUyxGPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLF89XCI9XCI7ZnVuY3Rpb24gaGV4MmI2NChlKXt2YXIgdCxyLGk9XCJcIjtmb3IodD0wO3QrMzw9ZS5sZW5ndGg7dCs9MylyPXBhcnNlSW50KGUuc3Vic3RyaW5nKHQsdCszKSwxNiksaSs9Ri5jaGFyQXQocj4+NikrRi5jaGFyQXQoNjMmcik7aWYodCsxPT1lLmxlbmd0aD8ocj1wYXJzZUludChlLnN1YnN0cmluZyh0LHQrMSksMTYpLGkrPUYuY2hhckF0KHI8PDIpKTp0KzI9PWUubGVuZ3RoJiYocj1wYXJzZUludChlLnN1YnN0cmluZyh0LHQrMiksMTYpLGkrPUYuY2hhckF0KHI+PjIpK0YuY2hhckF0KCgzJnIpPDw0KSksXylmb3IoOygzJmkubGVuZ3RoKT4wOylpKz1fO3JldHVybiBpfWZ1bmN0aW9uIGI2NHRvaGV4KGUpe3ZhciB0LHIsaSxuPVwiXCIsbz0wO2Zvcih0PTA7dDxlLmxlbmd0aCYmZS5jaGFyQXQodCkhPV87Kyt0KShpPUYuaW5kZXhPZihlLmNoYXJBdCh0KSkpPDB8fCgwPT1vPyhuKz1pbnQyY2hhcihpPj4yKSxyPTMmaSxvPTEpOjE9PW8/KG4rPWludDJjaGFyKHI8PDJ8aT4+NCkscj0xNSZpLG89Mik6Mj09bz8obis9aW50MmNoYXIociksbis9aW50MmNoYXIoaT4+Mikscj0zJmksbz0zKToobis9aW50MmNoYXIocjw8MnxpPj40KSxuKz1pbnQyY2hhcigxNSZpKSxvPTApKTtyZXR1cm4gMT09byYmKG4rPWludDJjaGFyKHI8PDIpKSxufWZ1bmN0aW9uIGI2NHRvQkEoZSl7dmFyIHQscj1iNjR0b2hleChlKSxpPW5ldyBBcnJheTtmb3IodD0wOzIqdDxyLmxlbmd0aDsrK3QpaVt0XT1wYXJzZUludChyLnN1YnN0cmluZygyKnQsMip0KzIpLDE2KTtyZXR1cm4gaX1mdW5jdGlvbiBCaWdJbnRlZ2VyKGUsdCxyKXtudWxsIT1lJiYoXCJudW1iZXJcIj09dHlwZW9mIGU/dGhpcy5mcm9tTnVtYmVyKGUsdCxyKTpudWxsPT10JiZcInN0cmluZ1wiIT10eXBlb2YgZT90aGlzLmZyb21TdHJpbmcoZSwyNTYpOnRoaXMuZnJvbVN0cmluZyhlLHQpKX1mdW5jdGlvbiBuYmkoKXtyZXR1cm4gbmV3IEJpZ0ludGVnZXIobnVsbCl9XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09dS5hcHBOYW1lPyhCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbT1mdW5jdGlvbiBhbTIoZSx0LHIsaSxuLG8pe2Zvcih2YXIgcz0zMjc2NyZ0LGE9dD4+MTU7LS1vPj0wOyl7dmFyIHU9MzI3NjcmdGhpc1tlXSxjPXRoaXNbZSsrXT4+MTUsaD1hKnUrYypzO249KCh1PXMqdSsoKDMyNzY3JmgpPDwxNSkrcltpXSsoMTA3Mzc0MTgyMyZuKSk+Pj4zMCkrKGg+Pj4xNSkrYSpjKyhuPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJnV9cmV0dXJuIG59LFM9MzApOlwiTmV0c2NhcGVcIiE9dS5hcHBOYW1lPyhCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbT1mdW5jdGlvbiBhbTEoZSx0LHIsaSxuLG8pe2Zvcig7LS1vPj0wOyl7dmFyIHM9dCp0aGlzW2UrK10rcltpXStuO249TWF0aC5mbG9vcihzLzY3MTA4ODY0KSxyW2krK109NjcxMDg4NjMmc31yZXR1cm4gbn0sUz0yNik6KEJpZ0ludGVnZXIucHJvdG90eXBlLmFtPWZ1bmN0aW9uIGFtMyhlLHQscixpLG4sbyl7Zm9yKHZhciBzPTE2MzgzJnQsYT10Pj4xNDstLW8+PTA7KXt2YXIgdT0xNjM4MyZ0aGlzW2VdLGM9dGhpc1tlKytdPj4xNCxoPWEqdStjKnM7bj0oKHU9cyp1KygoMTYzODMmaCk8PDE0KStyW2ldK24pPj4yOCkrKGg+PjE0KSthKmMscltpKytdPTI2ODQzNTQ1NSZ1fXJldHVybiBufSxTPTI4KSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5EQj1TLEJpZ0ludGVnZXIucHJvdG90eXBlLkRNPSgxPDxTKS0xLEJpZ0ludGVnZXIucHJvdG90eXBlLkRWPTE8PFM7QmlnSW50ZWdlci5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1MiksQmlnSW50ZWdlci5wcm90b3R5cGUuRjE9NTItUyxCaWdJbnRlZ2VyLnByb3RvdHlwZS5GMj0yKlMtNTI7dmFyIHcsRSxDPVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsUD1uZXcgQXJyYXk7Zm9yKHc9XCIwXCIuY2hhckNvZGVBdCgwKSxFPTA7RTw9OTsrK0UpUFt3KytdPUU7Zm9yKHc9XCJhXCIuY2hhckNvZGVBdCgwKSxFPTEwO0U8MzY7KytFKVBbdysrXT1FO2Zvcih3PVwiQVwiLmNoYXJDb2RlQXQoMCksRT0xMDtFPDM2OysrRSlQW3crK109RTtmdW5jdGlvbiBpbnQyY2hhcihlKXtyZXR1cm4gQy5jaGFyQXQoZSl9ZnVuY3Rpb24gaW50QXQoZSx0KXt2YXIgcj1QW2UuY2hhckNvZGVBdCh0KV07cmV0dXJuIG51bGw9PXI/LTE6cn1mdW5jdGlvbiBuYnYoZSl7dmFyIHQ9bmJpKCk7cmV0dXJuIHQuZnJvbUludChlKSx0fWZ1bmN0aW9uIG5iaXRzKGUpe3ZhciB0LHI9MTtyZXR1cm4gMCE9KHQ9ZT4+PjE2KSYmKGU9dCxyKz0xNiksMCE9KHQ9ZT4+OCkmJihlPXQscis9OCksMCE9KHQ9ZT4+NCkmJihlPXQscis9NCksMCE9KHQ9ZT4+MikmJihlPXQscis9MiksMCE9KHQ9ZT4+MSkmJihlPXQscis9MSkscn1mdW5jdGlvbiBDbGFzc2ljKGUpe3RoaXMubT1lfWZ1bmN0aW9uIE1vbnRnb21lcnkoZSl7dGhpcy5tPWUsdGhpcy5tcD1lLmludkRpZ2l0KCksdGhpcy5tcGw9MzI3NjcmdGhpcy5tcCx0aGlzLm1waD10aGlzLm1wPj4xNSx0aGlzLnVtPSgxPDxlLkRCLTE1KS0xLHRoaXMubXQyPTIqZS50fWZ1bmN0aW9uIG9wX2FuZChlLHQpe3JldHVybiBlJnR9ZnVuY3Rpb24gb3Bfb3IoZSx0KXtyZXR1cm4gZXx0fWZ1bmN0aW9uIG9wX3hvcihlLHQpe3JldHVybiBlXnR9ZnVuY3Rpb24gb3BfYW5kbm90KGUsdCl7cmV0dXJuIGUmfnR9ZnVuY3Rpb24gbGJpdChlKXtpZigwPT1lKXJldHVybi0xO3ZhciB0PTA7cmV0dXJuIDA9PSg2NTUzNSZlKSYmKGU+Pj0xNix0Kz0xNiksMD09KDI1NSZlKSYmKGU+Pj04LHQrPTgpLDA9PSgxNSZlKSYmKGU+Pj00LHQrPTQpLDA9PSgzJmUpJiYoZT4+PTIsdCs9MiksMD09KDEmZSkmJisrdCx0fWZ1bmN0aW9uIGNiaXQoZSl7Zm9yKHZhciB0PTA7MCE9ZTspZSY9ZS0xLCsrdDtyZXR1cm4gdH1mdW5jdGlvbiBOdWxsRXhwKCl7fWZ1bmN0aW9uIG5Ob3AoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gQmFycmV0dChlKXt0aGlzLnIyPW5iaSgpLHRoaXMucTM9bmJpKCksQmlnSW50ZWdlci5PTkUuZGxTaGlmdFRvKDIqZS50LHRoaXMucjIpLHRoaXMubXU9dGhpcy5yMi5kaXZpZGUoZSksdGhpcy5tPWV9Q2xhc3NpYy5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbiBjQ29udmVydChlKXtyZXR1cm4gZS5zPDB8fGUuY29tcGFyZVRvKHRoaXMubSk+PTA/ZS5tb2QodGhpcy5tKTplfSxDbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24gY1JldmVydChlKXtyZXR1cm4gZX0sQ2xhc3NpYy5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uIGNSZWR1Y2UoZSl7ZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKX0sQ2xhc3NpYy5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24gY011bFRvKGUsdCxyKXtlLm11bHRpcGx5VG8odCxyKSx0aGlzLnJlZHVjZShyKX0sQ2xhc3NpYy5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24gY1NxclRvKGUsdCl7ZS5zcXVhcmVUbyh0KSx0aGlzLnJlZHVjZSh0KX0sTW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbiBtb250Q29udmVydChlKXt2YXIgdD1uYmkoKTtyZXR1cm4gZS5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsdCksdC5kaXZSZW1Ubyh0aGlzLm0sbnVsbCx0KSxlLnM8MCYmdC5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8odCx0KSx0fSxNb250Z29tZXJ5LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24gbW9udFJldmVydChlKXt2YXIgdD1uYmkoKTtyZXR1cm4gZS5jb3B5VG8odCksdGhpcy5yZWR1Y2UodCksdH0sTW9udGdvbWVyeS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uIG1vbnRSZWR1Y2UoZSl7Zm9yKDtlLnQ8PXRoaXMubXQyOyllW2UudCsrXT0wO2Zvcih2YXIgdD0wO3Q8dGhpcy5tLnQ7Kyt0KXt2YXIgcj0zMjc2NyZlW3RdLGk9cip0aGlzLm1wbCsoKHIqdGhpcy5tcGgrKGVbdF0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJmUuRE07Zm9yKGVbcj10K3RoaXMubS50XSs9dGhpcy5tLmFtKDAsaSxlLHQsMCx0aGlzLm0udCk7ZVtyXT49ZS5EVjspZVtyXS09ZS5EVixlWysrcl0rK31lLmNsYW1wKCksZS5kclNoaWZ0VG8odGhpcy5tLnQsZSksZS5jb21wYXJlVG8odGhpcy5tKT49MCYmZS5zdWJUbyh0aGlzLm0sZSl9LE1vbnRnb21lcnkucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uIG1vbnRNdWxUbyhlLHQscil7ZS5tdWx0aXBseVRvKHQsciksdGhpcy5yZWR1Y2Uocil9LE1vbnRnb21lcnkucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uIG1vbnRTcXJUbyhlLHQpe2Uuc3F1YXJlVG8odCksdGhpcy5yZWR1Y2UodCl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbiBibnBDb3B5VG8oZSl7Zm9yKHZhciB0PXRoaXMudC0xO3Q+PTA7LS10KWVbdF09dGhpc1t0XTtlLnQ9dGhpcy50LGUucz10aGlzLnN9LEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21JbnQ9ZnVuY3Rpb24gYm5wRnJvbUludChlKXt0aGlzLnQ9MSx0aGlzLnM9ZTwwPy0xOjAsZT4wP3RoaXNbMF09ZTplPC0xP3RoaXNbMF09ZSt0aGlzLkRWOnRoaXMudD0wfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tU3RyaW5nPWZ1bmN0aW9uIGJucEZyb21TdHJpbmcoZSx0KXt2YXIgcjtpZigxNj09dClyPTQ7ZWxzZSBpZig4PT10KXI9MztlbHNlIGlmKDI1Nj09dClyPTg7ZWxzZSBpZigyPT10KXI9MTtlbHNlIGlmKDMyPT10KXI9NTtlbHNle2lmKDQhPXQpcmV0dXJuIHZvaWQgdGhpcy5mcm9tUmFkaXgoZSx0KTtyPTJ9dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciBpPWUubGVuZ3RoLG49ITEsbz0wOy0taT49MDspe3ZhciBzPTg9PXI/MjU1JmVbaV06aW50QXQoZSxpKTtzPDA/XCItXCI9PWUuY2hhckF0KGkpJiYobj0hMCk6KG49ITEsMD09bz90aGlzW3RoaXMudCsrXT1zOm8rcj50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KHMmKDE8PHRoaXMuREItbyktMSk8PG8sdGhpc1t0aGlzLnQrK109cz4+dGhpcy5EQi1vKTp0aGlzW3RoaXMudC0xXXw9czw8bywobys9cik+PXRoaXMuREImJihvLT10aGlzLkRCKSl9OD09ciYmMCE9KDEyOCZlWzBdKSYmKHRoaXMucz0tMSxvPjAmJih0aGlzW3RoaXMudC0xXXw9KDE8PHRoaXMuREItbyktMTw8bykpLHRoaXMuY2xhbXAoKSxuJiZCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcyx0aGlzKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuY2xhbXA9ZnVuY3Rpb24gYm5wQ2xhbXAoKXtmb3IodmFyIGU9dGhpcy5zJnRoaXMuRE07dGhpcy50PjAmJnRoaXNbdGhpcy50LTFdPT1lOyktLXRoaXMudH0sQmlnSW50ZWdlci5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uIGJucERMU2hpZnRUbyhlLHQpe3ZhciByO2ZvcihyPXRoaXMudC0xO3I+PTA7LS1yKXRbcitlXT10aGlzW3JdO2ZvcihyPWUtMTtyPj0wOy0tcil0W3JdPTA7dC50PXRoaXMudCtlLHQucz10aGlzLnN9LEJpZ0ludGVnZXIucHJvdG90eXBlLmRyU2hpZnRUbz1mdW5jdGlvbiBibnBEUlNoaWZ0VG8oZSx0KXtmb3IodmFyIHI9ZTtyPHRoaXMudDsrK3IpdFtyLWVdPXRoaXNbcl07dC50PU1hdGgubWF4KHRoaXMudC1lLDApLHQucz10aGlzLnN9LEJpZ0ludGVnZXIucHJvdG90eXBlLmxTaGlmdFRvPWZ1bmN0aW9uIGJucExTaGlmdFRvKGUsdCl7dmFyIHIsaT1lJXRoaXMuREIsbj10aGlzLkRCLWksbz0oMTw8biktMSxzPU1hdGguZmxvb3IoZS90aGlzLkRCKSxhPXRoaXMuczw8aSZ0aGlzLkRNO2ZvcihyPXRoaXMudC0xO3I+PTA7LS1yKXRbcitzKzFdPXRoaXNbcl0+Pm58YSxhPSh0aGlzW3JdJm8pPDxpO2ZvcihyPXMtMTtyPj0wOy0tcil0W3JdPTA7dFtzXT1hLHQudD10aGlzLnQrcysxLHQucz10aGlzLnMsdC5jbGFtcCgpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbz1mdW5jdGlvbiBibnBSU2hpZnRUbyhlLHQpe3Qucz10aGlzLnM7dmFyIHI9TWF0aC5mbG9vcihlL3RoaXMuREIpO2lmKHI+PXRoaXMudCl0LnQ9MDtlbHNle3ZhciBpPWUldGhpcy5EQixuPXRoaXMuREItaSxvPSgxPDxpKS0xO3RbMF09dGhpc1tyXT4+aTtmb3IodmFyIHM9cisxO3M8dGhpcy50Oysrcyl0W3Mtci0xXXw9KHRoaXNbc10mbyk8PG4sdFtzLXJdPXRoaXNbc10+Pmk7aT4wJiYodFt0aGlzLnQtci0xXXw9KHRoaXMucyZvKTw8biksdC50PXRoaXMudC1yLHQuY2xhbXAoKX19LEJpZ0ludGVnZXIucHJvdG90eXBlLnN1YlRvPWZ1bmN0aW9uIGJucFN1YlRvKGUsdCl7Zm9yKHZhciByPTAsaT0wLG49TWF0aC5taW4oZS50LHRoaXMudCk7cjxuOylpKz10aGlzW3JdLWVbcl0sdFtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpZihlLnQ8dGhpcy50KXtmb3IoaS09ZS5zO3I8dGhpcy50OylpKz10aGlzW3JdLHRbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aSs9dGhpcy5zfWVsc2V7Zm9yKGkrPXRoaXMucztyPGUudDspaS09ZVtyXSx0W3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2ktPWUuc310LnM9aTwwPy0xOjAsaTwtMT90W3IrK109dGhpcy5EVitpOmk+MCYmKHRbcisrXT1pKSx0LnQ9cix0LmNsYW1wKCl9LEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5VG89ZnVuY3Rpb24gYm5wTXVsdGlwbHlUbyhlLHQpe3ZhciByPXRoaXMuYWJzKCksaT1lLmFicygpLG49ci50O2Zvcih0LnQ9bitpLnQ7LS1uPj0wOyl0W25dPTA7Zm9yKG49MDtuPGkudDsrK24pdFtuK3IudF09ci5hbSgwLGlbbl0sdCxuLDAsci50KTt0LnM9MCx0LmNsYW1wKCksdGhpcy5zIT1lLnMmJkJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0LHQpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmVUbz1mdW5jdGlvbiBibnBTcXVhcmVUbyhlKXtmb3IodmFyIHQ9dGhpcy5hYnMoKSxyPWUudD0yKnQudDstLXI+PTA7KWVbcl09MDtmb3Iocj0wO3I8dC50LTE7KytyKXt2YXIgaT10LmFtKHIsdFtyXSxlLDIqciwwLDEpOyhlW3IrdC50XSs9dC5hbShyKzEsMip0W3JdLGUsMipyKzEsaSx0LnQtci0xKSk+PXQuRFYmJihlW3IrdC50XS09dC5EVixlW3IrdC50KzFdPTEpfWUudD4wJiYoZVtlLnQtMV0rPXQuYW0ocix0W3JdLGUsMipyLDAsMSkpLGUucz0wLGUuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24gYm5wRGl2UmVtVG8oZSx0LHIpe3ZhciBpPWUuYWJzKCk7aWYoIShpLnQ8PTApKXt2YXIgbj10aGlzLmFicygpO2lmKG4udDxpLnQpcmV0dXJuIG51bGwhPXQmJnQuZnJvbUludCgwKSx2b2lkKG51bGwhPXImJnRoaXMuY29weVRvKHIpKTtudWxsPT1yJiYocj1uYmkoKSk7dmFyIG89bmJpKCkscz10aGlzLnMsYT1lLnMsdT10aGlzLkRCLW5iaXRzKGlbaS50LTFdKTt1PjA/KGkubFNoaWZ0VG8odSxvKSxuLmxTaGlmdFRvKHUscikpOihpLmNvcHlUbyhvKSxuLmNvcHlUbyhyKSk7dmFyIGM9by50LGg9b1tjLTFdO2lmKDAhPWgpe3ZhciBsPWgqKDE8PHRoaXMuRjEpKyhjPjE/b1tjLTJdPj50aGlzLkYyOjApLGY9dGhpcy5GVi9sLGc9KDE8PHRoaXMuRjEpL2wscD0xPDx0aGlzLkYyLGQ9ci50LHY9ZC1jLHk9bnVsbD09dD9uYmkoKTp0O2ZvcihvLmRsU2hpZnRUbyh2LHkpLHIuY29tcGFyZVRvKHkpPj0wJiYocltyLnQrK109MSxyLnN1YlRvKHkscikpLEJpZ0ludGVnZXIuT05FLmRsU2hpZnRUbyhjLHkpLHkuc3ViVG8obyxvKTtvLnQ8Yzspb1tvLnQrK109MDtmb3IoOy0tdj49MDspe3ZhciBtPXJbLS1kXT09aD90aGlzLkRNOk1hdGguZmxvb3IocltkXSpmKyhyW2QtMV0rcCkqZyk7aWYoKHJbZF0rPW8uYW0oMCxtLHIsdiwwLGMpKTxtKWZvcihvLmRsU2hpZnRUbyh2LHkpLHIuc3ViVG8oeSxyKTtyW2RdPC0tbTspci5zdWJUbyh5LHIpfW51bGwhPXQmJihyLmRyU2hpZnRUbyhjLHQpLHMhPWEmJkJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0LHQpKSxyLnQ9YyxyLmNsYW1wKCksdT4wJiZyLnJTaGlmdFRvKHUsciksczwwJiZCaWdJbnRlZ2VyLlpFUk8uc3ViVG8ocixyKX19fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnZEaWdpdD1mdW5jdGlvbiBibnBJbnZEaWdpdCgpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciBlPXRoaXNbMF07aWYoMD09KDEmZSkpcmV0dXJuIDA7dmFyIHQ9MyZlO3JldHVybih0PSh0PSh0PSh0PXQqKDItKDE1JmUpKnQpJjE1KSooMi0oMjU1JmUpKnQpJjI1NSkqKDItKCg2NTUzNSZlKSp0JjY1NTM1KSkmNjU1MzUpKigyLWUqdCV0aGlzLkRWKSV0aGlzLkRWKT4wP3RoaXMuRFYtdDotdH0sQmlnSW50ZWdlci5wcm90b3R5cGUuaXNFdmVuPWZ1bmN0aW9uIGJucElzRXZlbigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMucyl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmV4cD1mdW5jdGlvbiBibnBFeHAoZSx0KXtpZihlPjQyOTQ5NjcyOTV8fGU8MSlyZXR1cm4gQmlnSW50ZWdlci5PTkU7dmFyIHI9bmJpKCksaT1uYmkoKSxuPXQuY29udmVydCh0aGlzKSxvPW5iaXRzKGUpLTE7Zm9yKG4uY29weVRvKHIpOy0tbz49MDspaWYodC5zcXJUbyhyLGkpLChlJjE8PG8pPjApdC5tdWxUbyhpLG4scik7ZWxzZXt2YXIgcz1yO3I9aSxpPXN9cmV0dXJuIHQucmV2ZXJ0KHIpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbiBiblRvU3RyaW5nKGUpe2lmKHRoaXMuczwwKXJldHVyblwiLVwiK3RoaXMubmVnYXRlKCkudG9TdHJpbmcoZSk7dmFyIHQ7aWYoMTY9PWUpdD00O2Vsc2UgaWYoOD09ZSl0PTM7ZWxzZSBpZigyPT1lKXQ9MTtlbHNlIGlmKDMyPT1lKXQ9NTtlbHNle2lmKDQhPWUpcmV0dXJuIHRoaXMudG9SYWRpeChlKTt0PTJ9dmFyIHIsaT0oMTw8dCktMSxuPSExLG89XCJcIixzPXRoaXMudCxhPXRoaXMuREItcyp0aGlzLkRCJXQ7aWYocy0tID4wKWZvcihhPHRoaXMuREImJihyPXRoaXNbc10+PmEpPjAmJihuPSEwLG89aW50MmNoYXIocikpO3M+PTA7KWE8dD8ocj0odGhpc1tzXSYoMTw8YSktMSk8PHQtYSxyfD10aGlzWy0tc10+PihhKz10aGlzLkRCLXQpKToocj10aGlzW3NdPj4oYS09dCkmaSxhPD0wJiYoYSs9dGhpcy5EQiwtLXMpKSxyPjAmJihuPSEwKSxuJiYobys9aW50MmNoYXIocikpO3JldHVybiBuP286XCIwXCJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbiBibk5lZ2F0ZSgpe3ZhciBlPW5iaSgpO3JldHVybiBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcyxlKSxlfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24gYm5BYnMoKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24gYm5Db21wYXJlVG8oZSl7dmFyIHQ9dGhpcy5zLWUucztpZigwIT10KXJldHVybiB0O3ZhciByPXRoaXMudDtpZigwIT0odD1yLWUudCkpcmV0dXJuIHRoaXMuczwwPy10OnQ7Zm9yKDstLXI+PTA7KWlmKDAhPSh0PXRoaXNbcl0tZVtyXSkpcmV0dXJuIHQ7cmV0dXJuIDB9LEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aD1mdW5jdGlvbiBibkJpdExlbmd0aCgpe3JldHVybiB0aGlzLnQ8PTA/MDp0aGlzLkRCKih0aGlzLnQtMSkrbmJpdHModGhpc1t0aGlzLnQtMV1edGhpcy5zJnRoaXMuRE0pfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24gYm5Nb2QoZSl7dmFyIHQ9bmJpKCk7cmV0dXJuIHRoaXMuYWJzKCkuZGl2UmVtVG8oZSxudWxsLHQpLHRoaXMuczwwJiZ0LmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pPjAmJmUuc3ViVG8odCx0KSx0fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24gYm5Nb2RQb3dJbnQoZSx0KXt2YXIgcjtyZXR1cm4gcj1lPDI1Nnx8dC5pc0V2ZW4oKT9uZXcgQ2xhc3NpYyh0KTpuZXcgTW9udGdvbWVyeSh0KSx0aGlzLmV4cChlLHIpfSxCaWdJbnRlZ2VyLlpFUk89bmJ2KDApLEJpZ0ludGVnZXIuT05FPW5idigxKSxOdWxsRXhwLnByb3RvdHlwZS5jb252ZXJ0PW5Ob3AsTnVsbEV4cC5wcm90b3R5cGUucmV2ZXJ0PW5Ob3AsTnVsbEV4cC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24gbk11bFRvKGUsdCxyKXtlLm11bHRpcGx5VG8odCxyKX0sTnVsbEV4cC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24gblNxclRvKGUsdCl7ZS5zcXVhcmVUbyh0KX0sQmFycmV0dC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbiBiYXJyZXR0Q29udmVydChlKXtpZihlLnM8MHx8ZS50PjIqdGhpcy5tLnQpcmV0dXJuIGUubW9kKHRoaXMubSk7aWYoZS5jb21wYXJlVG8odGhpcy5tKTwwKXJldHVybiBlO3ZhciB0PW5iaSgpO3JldHVybiBlLmNvcHlUbyh0KSx0aGlzLnJlZHVjZSh0KSx0fSxCYXJyZXR0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24gYmFycmV0dFJldmVydChlKXtyZXR1cm4gZX0sQmFycmV0dC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uIGJhcnJldHRSZWR1Y2UoZSl7Zm9yKGUuZHJTaGlmdFRvKHRoaXMubS50LTEsdGhpcy5yMiksZS50PnRoaXMubS50KzEmJihlLnQ9dGhpcy5tLnQrMSxlLmNsYW1wKCkpLHRoaXMubXUubXVsdGlwbHlVcHBlclRvKHRoaXMucjIsdGhpcy5tLnQrMSx0aGlzLnEzKSx0aGlzLm0ubXVsdGlwbHlMb3dlclRvKHRoaXMucTMsdGhpcy5tLnQrMSx0aGlzLnIyKTtlLmNvbXBhcmVUbyh0aGlzLnIyKTwwOyllLmRBZGRPZmZzZXQoMSx0aGlzLm0udCsxKTtmb3IoZS5zdWJUbyh0aGlzLnIyLGUpO2UuY29tcGFyZVRvKHRoaXMubSk+PTA7KWUuc3ViVG8odGhpcy5tLGUpfSxCYXJyZXR0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbiBiYXJyZXR0TXVsVG8oZSx0LHIpe2UubXVsdGlwbHlUbyh0LHIpLHRoaXMucmVkdWNlKHIpfSxCYXJyZXR0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbiBiYXJyZXR0U3FyVG8oZSx0KXtlLnNxdWFyZVRvKHQpLHRoaXMucmVkdWNlKHQpfTt2YXIgST1bMiwzLDUsNywxMSwxMywxNywxOSwyMywyOSwzMSwzNyw0MSw0Myw0Nyw1Myw1OSw2MSw2Nyw3MSw3Myw3OSw4Myw4OSw5NywxMDEsMTAzLDEwNywxMDksMTEzLDEyNywxMzEsMTM3LDEzOSwxNDksMTUxLDE1NywxNjMsMTY3LDE3MywxNzksMTgxLDE5MSwxOTMsMTk3LDE5OSwyMTEsMjIzLDIyNywyMjksMjMzLDIzOSwyNDEsMjUxLDI1NywyNjMsMjY5LDI3MSwyNzcsMjgxLDI4MywyOTMsMzA3LDMxMSwzMTMsMzE3LDMzMSwzMzcsMzQ3LDM0OSwzNTMsMzU5LDM2NywzNzMsMzc5LDM4MywzODksMzk3LDQwMSw0MDksNDE5LDQyMSw0MzEsNDMzLDQzOSw0NDMsNDQ5LDQ1Nyw0NjEsNDYzLDQ2Nyw0NzksNDg3LDQ5MSw0OTksNTAzLDUwOSw1MjEsNTIzLDU0MSw1NDcsNTU3LDU2Myw1NjksNTcxLDU3Nyw1ODcsNTkzLDU5OSw2MDEsNjA3LDYxMyw2MTcsNjE5LDYzMSw2NDEsNjQzLDY0Nyw2NTMsNjU5LDY2MSw2NzMsNjc3LDY4Myw2OTEsNzAxLDcwOSw3MTksNzI3LDczMyw3MzksNzQzLDc1MSw3NTcsNzYxLDc2OSw3NzMsNzg3LDc5Nyw4MDksODExLDgyMSw4MjMsODI3LDgyOSw4MzksODUzLDg1Nyw4NTksODYzLDg3Nyw4ODEsODgzLDg4Nyw5MDcsOTExLDkxOSw5MjksOTM3LDk0MSw5NDcsOTUzLDk2Nyw5NzEsOTc3LDk4Myw5OTEsOTk3XSxSPSgxPDwyNikvSVtJLmxlbmd0aC0xXTtcbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG5mdW5jdGlvbiBBcmNmb3VyKCl7dGhpcy5pPTAsdGhpcy5qPTAsdGhpcy5TPW5ldyBBcnJheX1CaWdJbnRlZ2VyLnByb3RvdHlwZS5jaHVua1NpemU9ZnVuY3Rpb24gYm5wQ2h1bmtTaXplKGUpe3JldHVybiBNYXRoLmZsb29yKE1hdGguTE4yKnRoaXMuREIvTWF0aC5sb2coZSkpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1JhZGl4PWZ1bmN0aW9uIGJucFRvUmFkaXgoZSl7aWYobnVsbD09ZSYmKGU9MTApLDA9PXRoaXMuc2lnbnVtKCl8fGU8Mnx8ZT4zNilyZXR1cm5cIjBcIjt2YXIgdD10aGlzLmNodW5rU2l6ZShlKSxyPU1hdGgucG93KGUsdCksaT1uYnYociksbj1uYmkoKSxvPW5iaSgpLHM9XCJcIjtmb3IodGhpcy5kaXZSZW1UbyhpLG4sbyk7bi5zaWdudW0oKT4wOylzPShyK28uaW50VmFsdWUoKSkudG9TdHJpbmcoZSkuc3Vic3RyKDEpK3Msbi5kaXZSZW1UbyhpLG4sbyk7cmV0dXJuIG8uaW50VmFsdWUoKS50b1N0cmluZyhlKStzfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tUmFkaXg9ZnVuY3Rpb24gYm5wRnJvbVJhZGl4KGUsdCl7dGhpcy5mcm9tSW50KDApLG51bGw9PXQmJih0PTEwKTtmb3IodmFyIHI9dGhpcy5jaHVua1NpemUodCksaT1NYXRoLnBvdyh0LHIpLG49ITEsbz0wLHM9MCxhPTA7YTxlLmxlbmd0aDsrK2Epe3ZhciB1PWludEF0KGUsYSk7dTwwP1wiLVwiPT1lLmNoYXJBdChhKSYmMD09dGhpcy5zaWdudW0oKSYmKG49ITApOihzPXQqcyt1LCsrbz49ciYmKHRoaXMuZE11bHRpcGx5KGkpLHRoaXMuZEFkZE9mZnNldChzLDApLG89MCxzPTApKX1vPjAmJih0aGlzLmRNdWx0aXBseShNYXRoLnBvdyh0LG8pKSx0aGlzLmRBZGRPZmZzZXQocywwKSksbiYmQmlnSW50ZWdlci5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21OdW1iZXI9ZnVuY3Rpb24gYm5wRnJvbU51bWJlcihlLHQscil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpaWYoZTwyKXRoaXMuZnJvbUludCgxKTtlbHNlIGZvcih0aGlzLmZyb21OdW1iZXIoZSxyKSx0aGlzLnRlc3RCaXQoZS0xKXx8dGhpcy5iaXR3aXNlVG8oQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGUtMSksb3Bfb3IsdGhpcyksdGhpcy5pc0V2ZW4oKSYmdGhpcy5kQWRkT2Zmc2V0KDEsMCk7IXRoaXMuaXNQcm9iYWJsZVByaW1lKHQpOyl0aGlzLmRBZGRPZmZzZXQoMiwwKSx0aGlzLmJpdExlbmd0aCgpPmUmJnRoaXMuc3ViVG8oQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGUtMSksdGhpcyk7ZWxzZXt2YXIgaT1uZXcgQXJyYXksbj03JmU7aS5sZW5ndGg9MSsoZT4+MyksdC5uZXh0Qnl0ZXMoaSksbj4wP2lbMF0mPSgxPDxuKS0xOmlbMF09MCx0aGlzLmZyb21TdHJpbmcoaSwyNTYpfX0sQmlnSW50ZWdlci5wcm90b3R5cGUuYml0d2lzZVRvPWZ1bmN0aW9uIGJucEJpdHdpc2VUbyhlLHQscil7dmFyIGksbixvPU1hdGgubWluKGUudCx0aGlzLnQpO2ZvcihpPTA7aTxvOysraSlyW2ldPXQodGhpc1tpXSxlW2ldKTtpZihlLnQ8dGhpcy50KXtmb3Iobj1lLnMmdGhpcy5ETSxpPW87aTx0aGlzLnQ7KytpKXJbaV09dCh0aGlzW2ldLG4pO3IudD10aGlzLnR9ZWxzZXtmb3Iobj10aGlzLnMmdGhpcy5ETSxpPW87aTxlLnQ7KytpKXJbaV09dChuLGVbaV0pO3IudD1lLnR9ci5zPXQodGhpcy5zLGUucyksci5jbGFtcCgpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaGFuZ2VCaXQ9ZnVuY3Rpb24gYm5wQ2hhbmdlQml0KGUsdCl7dmFyIHI9QmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGUpO3JldHVybiB0aGlzLmJpdHdpc2VUbyhyLHQscikscn0sQmlnSW50ZWdlci5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24gYm5wQWRkVG8oZSx0KXtmb3IodmFyIHI9MCxpPTAsbj1NYXRoLm1pbihlLnQsdGhpcy50KTtyPG47KWkrPXRoaXNbcl0rZVtyXSx0W3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2lmKGUudDx0aGlzLnQpe2ZvcihpKz1lLnM7cjx0aGlzLnQ7KWkrPXRoaXNbcl0sdFtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpKz10aGlzLnN9ZWxzZXtmb3IoaSs9dGhpcy5zO3I8ZS50OylpKz1lW3JdLHRbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aSs9ZS5zfXQucz1pPDA/LTE6MCxpPjA/dFtyKytdPWk6aTwtMSYmKHRbcisrXT10aGlzLkRWK2kpLHQudD1yLHQuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuZE11bHRpcGx5PWZ1bmN0aW9uIGJucERNdWx0aXBseShlKXt0aGlzW3RoaXMudF09dGhpcy5hbSgwLGUtMSx0aGlzLDAsMCx0aGlzLnQpLCsrdGhpcy50LHRoaXMuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuZEFkZE9mZnNldD1mdW5jdGlvbiBibnBEQWRkT2Zmc2V0KGUsdCl7aWYoMCE9ZSl7Zm9yKDt0aGlzLnQ8PXQ7KXRoaXNbdGhpcy50KytdPTA7Zm9yKHRoaXNbdF0rPWU7dGhpc1t0XT49dGhpcy5EVjspdGhpc1t0XS09dGhpcy5EViwrK3Q+PXRoaXMudCYmKHRoaXNbdGhpcy50KytdPTApLCsrdGhpc1t0XX19LEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbz1mdW5jdGlvbiBibnBNdWx0aXBseUxvd2VyVG8oZSx0LHIpe3ZhciBpLG49TWF0aC5taW4odGhpcy50K2UudCx0KTtmb3Ioci5zPTAsci50PW47bj4wOylyWy0tbl09MDtmb3IoaT1yLnQtdGhpcy50O248aTsrK24pcltuK3RoaXMudF09dGhpcy5hbSgwLGVbbl0scixuLDAsdGhpcy50KTtmb3IoaT1NYXRoLm1pbihlLnQsdCk7bjxpOysrbil0aGlzLmFtKDAsZVtuXSxyLG4sMCx0LW4pO3IuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlVcHBlclRvPWZ1bmN0aW9uIGJucE11bHRpcGx5VXBwZXJUbyhlLHQscil7LS10O3ZhciBpPXIudD10aGlzLnQrZS50LXQ7Zm9yKHIucz0wOy0taT49MDspcltpXT0wO2ZvcihpPU1hdGgubWF4KHQtdGhpcy50LDApO2k8ZS50OysraSlyW3RoaXMudCtpLXRdPXRoaXMuYW0odC1pLGVbaV0sciwwLDAsdGhpcy50K2ktdCk7ci5jbGFtcCgpLHIuZHJTaGlmdFRvKDEscil9LEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZEludD1mdW5jdGlvbiBibnBNb2RJbnQoZSl7aWYoZTw9MClyZXR1cm4gMDt2YXIgdD10aGlzLkRWJWUscj10aGlzLnM8MD9lLTE6MDtpZih0aGlzLnQ+MClpZigwPT10KXI9dGhpc1swXSVlO2Vsc2UgZm9yKHZhciBpPXRoaXMudC0xO2k+PTA7LS1pKXI9KHQqcit0aGlzW2ldKSVlO3JldHVybiByfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5taWxsZXJSYWJpbj1mdW5jdGlvbiBibnBNaWxsZXJSYWJpbihlKXt2YXIgdD10aGlzLnN1YnRyYWN0KEJpZ0ludGVnZXIuT05FKSxyPXQuZ2V0TG93ZXN0U2V0Qml0KCk7aWYocjw9MClyZXR1cm4hMTt2YXIgaT10LnNoaWZ0UmlnaHQocik7KGU9ZSsxPj4xKT5JLmxlbmd0aCYmKGU9SS5sZW5ndGgpO2Zvcih2YXIgbj1uYmkoKSxvPTA7bzxlOysrbyl7bi5mcm9tSW50KElbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkkubGVuZ3RoKV0pO3ZhciBzPW4ubW9kUG93KGksdGhpcyk7aWYoMCE9cy5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpJiYwIT1zLmNvbXBhcmVUbyh0KSl7Zm9yKHZhciBhPTE7YSsrPHImJjAhPXMuY29tcGFyZVRvKHQpOylpZigwPT0ocz1zLm1vZFBvd0ludCgyLHRoaXMpKS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpKXJldHVybiExO2lmKDAhPXMuY29tcGFyZVRvKHQpKXJldHVybiExfX1yZXR1cm4hMH0sQmlnSW50ZWdlci5wcm90b3R5cGUuY2xvbmU9XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xuZnVuY3Rpb24gYm5DbG9uZSgpe3ZhciBlPW5iaSgpO3JldHVybiB0aGlzLmNvcHlUbyhlKSxlfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnRWYWx1ZT1mdW5jdGlvbiBibkludFZhbHVlKCl7aWYodGhpcy5zPDApe2lmKDE9PXRoaXMudClyZXR1cm4gdGhpc1swXS10aGlzLkRWO2lmKDA9PXRoaXMudClyZXR1cm4tMX1lbHNle2lmKDE9PXRoaXMudClyZXR1cm4gdGhpc1swXTtpZigwPT10aGlzLnQpcmV0dXJuIDB9cmV0dXJuKHRoaXNbMV0mKDE8PDMyLXRoaXMuREIpLTEpPDx0aGlzLkRCfHRoaXNbMF19LEJpZ0ludGVnZXIucHJvdG90eXBlLmJ5dGVWYWx1ZT1mdW5jdGlvbiBibkJ5dGVWYWx1ZSgpe3JldHVybiAwPT10aGlzLnQ/dGhpcy5zOnRoaXNbMF08PDI0Pj4yNH0sQmlnSW50ZWdlci5wcm90b3R5cGUuc2hvcnRWYWx1ZT1mdW5jdGlvbiBiblNob3J0VmFsdWUoKXtyZXR1cm4gMD09dGhpcy50P3RoaXMuczp0aGlzWzBdPDwxNj4+MTZ9LEJpZ0ludGVnZXIucHJvdG90eXBlLnNpZ251bT1mdW5jdGlvbiBiblNpZ051bSgpe3JldHVybiB0aGlzLnM8MD8tMTp0aGlzLnQ8PTB8fDE9PXRoaXMudCYmdGhpc1swXTw9MD8wOjF9LEJpZ0ludGVnZXIucHJvdG90eXBlLnRvQnl0ZUFycmF5PWZ1bmN0aW9uIGJuVG9CeXRlQXJyYXkoKXt2YXIgZT10aGlzLnQsdD1uZXcgQXJyYXk7dFswXT10aGlzLnM7dmFyIHIsaT10aGlzLkRCLWUqdGhpcy5EQiU4LG49MDtpZihlLS0gPjApZm9yKGk8dGhpcy5EQiYmKHI9dGhpc1tlXT4+aSkhPSh0aGlzLnMmdGhpcy5ETSk+PmkmJih0W24rK109cnx0aGlzLnM8PHRoaXMuREItaSk7ZT49MDspaTw4PyhyPSh0aGlzW2VdJigxPDxpKS0xKTw8OC1pLHJ8PXRoaXNbLS1lXT4+KGkrPXRoaXMuREItOCkpOihyPXRoaXNbZV0+PihpLT04KSYyNTUsaTw9MCYmKGkrPXRoaXMuREIsLS1lKSksMCE9KDEyOCZyKSYmKHJ8PS0yNTYpLDA9PW4mJigxMjgmdGhpcy5zKSE9KDEyOCZyKSYmKytuLChuPjB8fHIhPXRoaXMucykmJih0W24rK109cik7cmV0dXJuIHR9LEJpZ0ludGVnZXIucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbiBibkVxdWFscyhlKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlVG8oZSl9LEJpZ0ludGVnZXIucHJvdG90eXBlLm1pbj1mdW5jdGlvbiBibk1pbihlKXtyZXR1cm4gdGhpcy5jb21wYXJlVG8oZSk8MD90aGlzOmV9LEJpZ0ludGVnZXIucHJvdG90eXBlLm1heD1mdW5jdGlvbiBibk1heChlKXtyZXR1cm4gdGhpcy5jb21wYXJlVG8oZSk+MD90aGlzOmV9LEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZD1mdW5jdGlvbiBibkFuZChlKXt2YXIgdD1uYmkoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oZSxvcF9hbmQsdCksdH0sQmlnSW50ZWdlci5wcm90b3R5cGUub3I9ZnVuY3Rpb24gYm5PcihlKXt2YXIgdD1uYmkoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oZSxvcF9vcix0KSx0fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS54b3I9ZnVuY3Rpb24gYm5Yb3IoZSl7dmFyIHQ9bmJpKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKGUsb3BfeG9yLHQpLHR9LEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZE5vdD1mdW5jdGlvbiBibkFuZE5vdChlKXt2YXIgdD1uYmkoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oZSxvcF9hbmRub3QsdCksdH0sQmlnSW50ZWdlci5wcm90b3R5cGUubm90PWZ1bmN0aW9uIGJuTm90KCl7Zm9yKHZhciBlPW5iaSgpLHQ9MDt0PHRoaXMudDsrK3QpZVt0XT10aGlzLkRNJn50aGlzW3RdO3JldHVybiBlLnQ9dGhpcy50LGUucz1+dGhpcy5zLGV9LEJpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0TGVmdD1mdW5jdGlvbiBiblNoaWZ0TGVmdChlKXt2YXIgdD1uYmkoKTtyZXR1cm4gZTwwP3RoaXMuclNoaWZ0VG8oLWUsdCk6dGhpcy5sU2hpZnRUbyhlLHQpLHR9LEJpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0UmlnaHQ9ZnVuY3Rpb24gYm5TaGlmdFJpZ2h0KGUpe3ZhciB0PW5iaSgpO3JldHVybiBlPDA/dGhpcy5sU2hpZnRUbygtZSx0KTp0aGlzLnJTaGlmdFRvKGUsdCksdH0sQmlnSW50ZWdlci5wcm90b3R5cGUuZ2V0TG93ZXN0U2V0Qml0PWZ1bmN0aW9uIGJuR2V0TG93ZXN0U2V0Qml0KCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnQ7KytlKWlmKDAhPXRoaXNbZV0pcmV0dXJuIGUqdGhpcy5EQitsYml0KHRoaXNbZV0pO3JldHVybiB0aGlzLnM8MD90aGlzLnQqdGhpcy5EQjotMX0sQmlnSW50ZWdlci5wcm90b3R5cGUuYml0Q291bnQ9ZnVuY3Rpb24gYm5CaXRDb3VudCgpe2Zvcih2YXIgZT0wLHQ9dGhpcy5zJnRoaXMuRE0scj0wO3I8dGhpcy50OysrcillKz1jYml0KHRoaXNbcl1edCk7cmV0dXJuIGV9LEJpZ0ludGVnZXIucHJvdG90eXBlLnRlc3RCaXQ9ZnVuY3Rpb24gYm5UZXN0Qml0KGUpe3ZhciB0PU1hdGguZmxvb3IoZS90aGlzLkRCKTtyZXR1cm4gdD49dGhpcy50PzAhPXRoaXMuczowIT0odGhpc1t0XSYxPDxlJXRoaXMuREIpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5zZXRCaXQ9ZnVuY3Rpb24gYm5TZXRCaXQoZSl7cmV0dXJuIHRoaXMuY2hhbmdlQml0KGUsb3Bfb3IpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5jbGVhckJpdD1mdW5jdGlvbiBibkNsZWFyQml0KGUpe3JldHVybiB0aGlzLmNoYW5nZUJpdChlLG9wX2FuZG5vdCl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmZsaXBCaXQ9ZnVuY3Rpb24gYm5GbGlwQml0KGUpe3JldHVybiB0aGlzLmNoYW5nZUJpdChlLG9wX3hvcil9LEJpZ0ludGVnZXIucHJvdG90eXBlLmFkZD1mdW5jdGlvbiBibkFkZChlKXt2YXIgdD1uYmkoKTtyZXR1cm4gdGhpcy5hZGRUbyhlLHQpLHR9LEJpZ0ludGVnZXIucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uIGJuU3VidHJhY3QoZSl7dmFyIHQ9bmJpKCk7cmV0dXJuIHRoaXMuc3ViVG8oZSx0KSx0fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbiBibk11bHRpcGx5KGUpe3ZhciB0PW5iaSgpO3JldHVybiB0aGlzLm11bHRpcGx5VG8oZSx0KSx0fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24gYm5EaXZpZGUoZSl7dmFyIHQ9bmJpKCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8oZSx0LG51bGwpLHR9LEJpZ0ludGVnZXIucHJvdG90eXBlLnJlbWFpbmRlcj1mdW5jdGlvbiBiblJlbWFpbmRlcihlKXt2YXIgdD1uYmkoKTtyZXR1cm4gdGhpcy5kaXZSZW1UbyhlLG51bGwsdCksdH0sQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2aWRlQW5kUmVtYWluZGVyPWZ1bmN0aW9uIGJuRGl2aWRlQW5kUmVtYWluZGVyKGUpe3ZhciB0PW5iaSgpLHI9bmJpKCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8oZSx0LHIpLG5ldyBBcnJheSh0LHIpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3c9ZnVuY3Rpb24gYm5Nb2RQb3coZSx0KXt2YXIgcixpLG49ZS5iaXRMZW5ndGgoKSxvPW5idigxKTtpZihuPD0wKXJldHVybiBvO3I9bjwxOD8xOm48NDg/MzpuPDE0ND80Om48NzY4PzU6NixpPW48OD9uZXcgQ2xhc3NpYyh0KTp0LmlzRXZlbigpP25ldyBCYXJyZXR0KHQpOm5ldyBNb250Z29tZXJ5KHQpO3ZhciBzPW5ldyBBcnJheSxhPTMsdT1yLTEsYz0oMTw8ciktMTtpZihzWzFdPWkuY29udmVydCh0aGlzKSxyPjEpe3ZhciBoPW5iaSgpO2ZvcihpLnNxclRvKHNbMV0saCk7YTw9Yzspc1thXT1uYmkoKSxpLm11bFRvKGgsc1thLTJdLHNbYV0pLGErPTJ9dmFyIGwsZixnPWUudC0xLHA9ITAsZD1uYmkoKTtmb3Iobj1uYml0cyhlW2ddKS0xO2c+PTA7KXtmb3Iobj49dT9sPWVbZ10+Pm4tdSZjOihsPShlW2ddJigxPDxuKzEpLTEpPDx1LW4sZz4wJiYobHw9ZVtnLTFdPj50aGlzLkRCK24tdSkpLGE9cjswPT0oMSZsKTspbD4+PTEsLS1hO2lmKChuLT1hKTwwJiYobis9dGhpcy5EQiwtLWcpLHApc1tsXS5jb3B5VG8obykscD0hMTtlbHNle2Zvcig7YT4xOylpLnNxclRvKG8sZCksaS5zcXJUbyhkLG8pLGEtPTI7YT4wP2kuc3FyVG8obyxkKTooZj1vLG89ZCxkPWYpLGkubXVsVG8oZCxzW2xdLG8pfWZvcig7Zz49MCYmMD09KGVbZ10mMTw8bik7KWkuc3FyVG8obyxkKSxmPW8sbz1kLGQ9ZiwtLW48MCYmKG49dGhpcy5EQi0xLC0tZyl9cmV0dXJuIGkucmV2ZXJ0KG8pfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnZlcnNlPWZ1bmN0aW9uIGJuTW9kSW52ZXJzZShlKXt2YXIgdD1lLmlzRXZlbigpO2lmKHRoaXMuaXNFdmVuKCkmJnR8fDA9PWUuc2lnbnVtKCkpcmV0dXJuIEJpZ0ludGVnZXIuWkVSTztmb3IodmFyIHI9ZS5jbG9uZSgpLGk9dGhpcy5jbG9uZSgpLG49bmJ2KDEpLG89bmJ2KDApLHM9bmJ2KDApLGE9bmJ2KDEpOzAhPXIuc2lnbnVtKCk7KXtmb3IoO3IuaXNFdmVuKCk7KXIuclNoaWZ0VG8oMSxyKSx0PyhuLmlzRXZlbigpJiZvLmlzRXZlbigpfHwobi5hZGRUbyh0aGlzLG4pLG8uc3ViVG8oZSxvKSksbi5yU2hpZnRUbygxLG4pKTpvLmlzRXZlbigpfHxvLnN1YlRvKGUsbyksby5yU2hpZnRUbygxLG8pO2Zvcig7aS5pc0V2ZW4oKTspaS5yU2hpZnRUbygxLGkpLHQ/KHMuaXNFdmVuKCkmJmEuaXNFdmVuKCl8fChzLmFkZFRvKHRoaXMscyksYS5zdWJUbyhlLGEpKSxzLnJTaGlmdFRvKDEscykpOmEuaXNFdmVuKCl8fGEuc3ViVG8oZSxhKSxhLnJTaGlmdFRvKDEsYSk7ci5jb21wYXJlVG8oaSk+PTA/KHIuc3ViVG8oaSxyKSx0JiZuLnN1YlRvKHMsbiksby5zdWJUbyhhLG8pKTooaS5zdWJUbyhyLGkpLHQmJnMuc3ViVG8obixzKSxhLnN1YlRvKG8sYSkpfXJldHVybiAwIT1pLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSk/QmlnSW50ZWdlci5aRVJPOmEuY29tcGFyZVRvKGUpPj0wP2Euc3VidHJhY3QoZSk6YS5zaWdudW0oKTwwPyhhLmFkZFRvKGUsYSksYS5zaWdudW0oKTwwP2EuYWRkKGUpOmEpOmF9LEJpZ0ludGVnZXIucHJvdG90eXBlLnBvdz1mdW5jdGlvbiBiblBvdyhlKXtyZXR1cm4gdGhpcy5leHAoZSxuZXcgTnVsbEV4cCl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmdjZD1mdW5jdGlvbiBibkdDRChlKXt2YXIgdD10aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXMuY2xvbmUoKSxyPWUuczwwP2UubmVnYXRlKCk6ZS5jbG9uZSgpO2lmKHQuY29tcGFyZVRvKHIpPDApe3ZhciBpPXQ7dD1yLHI9aX12YXIgbj10LmdldExvd2VzdFNldEJpdCgpLG89ci5nZXRMb3dlc3RTZXRCaXQoKTtpZihvPDApcmV0dXJuIHQ7Zm9yKG48byYmKG89biksbz4wJiYodC5yU2hpZnRUbyhvLHQpLHIuclNoaWZ0VG8obyxyKSk7dC5zaWdudW0oKT4wOykobj10LmdldExvd2VzdFNldEJpdCgpKT4wJiZ0LnJTaGlmdFRvKG4sdCksKG49ci5nZXRMb3dlc3RTZXRCaXQoKSk+MCYmci5yU2hpZnRUbyhuLHIpLHQuY29tcGFyZVRvKHIpPj0wPyh0LnN1YlRvKHIsdCksdC5yU2hpZnRUbygxLHQpKTooci5zdWJUbyh0LHIpLHIuclNoaWZ0VG8oMSxyKSk7cmV0dXJuIG8+MCYmci5sU2hpZnRUbyhvLHIpLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLmlzUHJvYmFibGVQcmltZT1mdW5jdGlvbiBibklzUHJvYmFibGVQcmltZShlKXt2YXIgdCxyPXRoaXMuYWJzKCk7aWYoMT09ci50JiZyWzBdPD1JW0kubGVuZ3RoLTFdKXtmb3IodD0wO3Q8SS5sZW5ndGg7Kyt0KWlmKHJbMF09PUlbdF0pcmV0dXJuITA7cmV0dXJuITF9aWYoci5pc0V2ZW4oKSlyZXR1cm4hMTtmb3IodD0xO3Q8SS5sZW5ndGg7KXtmb3IodmFyIGk9SVt0XSxuPXQrMTtuPEkubGVuZ3RoJiZpPFI7KWkqPUlbbisrXTtmb3IoaT1yLm1vZEludChpKTt0PG47KWlmKGklSVt0KytdPT0wKXJldHVybiExfXJldHVybiByLm1pbGxlclJhYmluKGUpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmU9ZnVuY3Rpb24gYm5TcXVhcmUoKXt2YXIgZT1uYmkoKTtyZXR1cm4gdGhpcy5zcXVhcmVUbyhlKSxlfSxBcmNmb3VyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uIEFSQzRpbml0KGUpe3ZhciB0LHIsaTtmb3IodD0wO3Q8MjU2OysrdCl0aGlzLlNbdF09dDtmb3Iocj0wLHQ9MDt0PDI1NjsrK3Qpcj1yK3RoaXMuU1t0XStlW3QlZS5sZW5ndGhdJjI1NSxpPXRoaXMuU1t0XSx0aGlzLlNbdF09dGhpcy5TW3JdLHRoaXMuU1tyXT1pO3RoaXMuaT0wLHRoaXMuaj0wfSxBcmNmb3VyLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uIEFSQzRuZXh0KCl7dmFyIGU7cmV0dXJuIHRoaXMuaT10aGlzLmkrMSYyNTUsdGhpcy5qPXRoaXMuait0aGlzLlNbdGhpcy5pXSYyNTUsZT10aGlzLlNbdGhpcy5pXSx0aGlzLlNbdGhpcy5pXT10aGlzLlNbdGhpcy5qXSx0aGlzLlNbdGhpcy5qXT1lLHRoaXMuU1tlK3RoaXMuU1t0aGlzLmldJjI1NV19O3ZhciBULFUsRCxNPTI1Njtcbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovZnVuY3Rpb24gcm5nX3NlZWRfdGltZSgpeyFmdW5jdGlvbiBybmdfc2VlZF9pbnQoZSl7VVtEKytdXj0yNTUmZSxVW0QrK11ePWU+PjgmMjU1LFVbRCsrXV49ZT4+MTYmMjU1LFVbRCsrXV49ZT4+MjQmMjU1LEQ+PU0mJihELT1NKX0oKG5ldyBEYXRlKS5nZXRUaW1lKCkpfWlmKG51bGw9PVUpe3ZhciBMO2lmKFU9bmV3IEFycmF5LEQ9MCx2b2lkIDAhPT1wJiYodm9pZCAwIT09cC5jcnlwdG98fHZvaWQgMCE9PXAubXNDcnlwdG8pKXt2YXIgTj1wLmNyeXB0b3x8cC5tc0NyeXB0bztpZihOLmdldFJhbmRvbVZhbHVlcyl7dmFyIE89bmV3IFVpbnQ4QXJyYXkoMzIpO2ZvcihOLmdldFJhbmRvbVZhbHVlcyhPKSxMPTA7TDwzMjsrK0wpVVtEKytdPU9bTF19ZWxzZSBpZihcIk5ldHNjYXBlXCI9PXUuYXBwTmFtZSYmdS5hcHBWZXJzaW9uPFwiNVwiKXt2YXIgSD1wLmNyeXB0by5yYW5kb20oMzIpO2ZvcihMPTA7TDxILmxlbmd0aDsrK0wpVVtEKytdPTI1NSZILmNoYXJDb2RlQXQoTCl9fWZvcig7RDxNOylMPU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSksVVtEKytdPUw+Pj44LFVbRCsrXT0yNTUmTDtEPTAscm5nX3NlZWRfdGltZSgpfWZ1bmN0aW9uIHJuZ19nZXRfYnl0ZSgpe2lmKG51bGw9PVQpe2Zvcihybmdfc2VlZF90aW1lKCksKFQ9ZnVuY3Rpb24gcHJuZ19uZXdzdGF0ZSgpe3JldHVybiBuZXcgQXJjZm91cn0oKSkuaW5pdChVKSxEPTA7RDxVLmxlbmd0aDsrK0QpVVtEXT0wO0Q9MH1yZXR1cm4gVC5uZXh0KCl9ZnVuY3Rpb24gU2VjdXJlUmFuZG9tKCl7fVxuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQmlnSW50KGUsdCl7cmV0dXJuIG5ldyBCaWdJbnRlZ2VyKGUsdCl9ZnVuY3Rpb24gb2FlcF9tZ2YxX2FycihlLHQscil7Zm9yKHZhciBpPVwiXCIsbj0wO2kubGVuZ3RoPHQ7KWkrPXIoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5jb25jYXQoWyg0Mjc4MTkwMDgwJm4pPj4yNCwoMTY3MTE2ODAmbik+PjE2LCg2NTI4MCZuKT4+OCwyNTUmbl0pKSksbis9MTtyZXR1cm4gaX1mdW5jdGlvbiBSU0FLZXkoKXt0aGlzLm49bnVsbCx0aGlzLmU9MCx0aGlzLmQ9bnVsbCx0aGlzLnA9bnVsbCx0aGlzLnE9bnVsbCx0aGlzLmRtcDE9bnVsbCx0aGlzLmRtcTE9bnVsbCx0aGlzLmNvZWZmPW51bGx9XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xuZnVuY3Rpb24gRUNGaWVsZEVsZW1lbnRGcChlLHQpe3RoaXMueD10LHRoaXMucT1lfWZ1bmN0aW9uIEVDUG9pbnRGcChlLHQscixpKXt0aGlzLmN1cnZlPWUsdGhpcy54PXQsdGhpcy55PXIsdGhpcy56PW51bGw9PWk/QmlnSW50ZWdlci5PTkU6aSx0aGlzLnppbnY9bnVsbH1mdW5jdGlvbiBFQ0N1cnZlRnAoZSx0LHIpe3RoaXMucT1lLHRoaXMuYT10aGlzLmZyb21CaWdJbnRlZ2VyKHQpLHRoaXMuYj10aGlzLmZyb21CaWdJbnRlZ2VyKHIpLHRoaXMuaW5maW5pdHk9bmV3IEVDUG9pbnRGcCh0aGlzLG51bGwsbnVsbCl9U2VjdXJlUmFuZG9tLnByb3RvdHlwZS5uZXh0Qnl0ZXM9ZnVuY3Rpb24gcm5nX2dldF9ieXRlcyhlKXt2YXIgdDtmb3IodD0wO3Q8ZS5sZW5ndGg7Kyt0KWVbdF09cm5nX2dldF9ieXRlKCl9LFJTQUtleS5wcm90b3R5cGUuZG9QdWJsaWM9ZnVuY3Rpb24gUlNBRG9QdWJsaWMoZSl7cmV0dXJuIGUubW9kUG93SW50KHRoaXMuZSx0aGlzLm4pfSxSU0FLZXkucHJvdG90eXBlLnNldFB1YmxpYz1mdW5jdGlvbiBSU0FTZXRQdWJsaWMoZSx0KXtpZih0aGlzLmlzUHVibGljPSEwLHRoaXMuaXNQcml2YXRlPSExLFwic3RyaW5nXCIhPXR5cGVvZiBlKXRoaXMubj1lLHRoaXMuZT10O2Vsc2V7aWYoIShudWxsIT1lJiZudWxsIT10JiZlLmxlbmd0aD4wJiZ0Lmxlbmd0aD4wKSl0aHJvd1wiSW52YWxpZCBSU0EgcHVibGljIGtleVwiO3RoaXMubj1wYXJzZUJpZ0ludChlLDE2KSx0aGlzLmU9cGFyc2VJbnQodCwxNil9fSxSU0FLZXkucHJvdG90eXBlLmVuY3J5cHQ9ZnVuY3Rpb24gUlNBRW5jcnlwdChlKXt2YXIgdD1mdW5jdGlvbiBwa2NzMXBhZDIoZSx0KXtpZih0PGUubGVuZ3RoKzExKXRocm93XCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0FcIjtmb3IodmFyIHI9bmV3IEFycmF5LGk9ZS5sZW5ndGgtMTtpPj0wJiZ0PjA7KXt2YXIgbj1lLmNoYXJDb2RlQXQoaS0tKTtuPDEyOD9yWy0tdF09bjpuPjEyNyYmbjwyMDQ4PyhyWy0tdF09NjMmbnwxMjgsclstLXRdPW4+PjZ8MTkyKTooclstLXRdPTYzJm58MTI4LHJbLS10XT1uPj42JjYzfDEyOCxyWy0tdF09bj4+MTJ8MjI0KX1yWy0tdF09MDtmb3IodmFyIG89bmV3IFNlY3VyZVJhbmRvbSxzPW5ldyBBcnJheTt0PjI7KXtmb3Ioc1swXT0wOzA9PXNbMF07KW8ubmV4dEJ5dGVzKHMpO3JbLS10XT1zWzBdfXJldHVybiByWy0tdF09MixyWy0tdF09MCxuZXcgQmlnSW50ZWdlcihyKX0oZSx0aGlzLm4uYml0TGVuZ3RoKCkrNz4+Myk7aWYobnVsbD09dClyZXR1cm4gbnVsbDt2YXIgcj10aGlzLmRvUHVibGljKHQpO2lmKG51bGw9PXIpcmV0dXJuIG51bGw7dmFyIGk9ci50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJmkubGVuZ3RoKT9pOlwiMFwiK2l9LFJTQUtleS5wcm90b3R5cGUuZW5jcnlwdE9BRVA9ZnVuY3Rpb24gUlNBRW5jcnlwdE9BRVAoZSx0LHIpe3ZhciBpPWZ1bmN0aW9uIG9hZXBfcGFkKGUsdCxyLGkpe3ZhciBuPVYuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qsbz1WLmNyeXB0by5VdGlsLHM9bnVsbDtpZihyfHwocj1cInNoYTFcIiksXCJzdHJpbmdcIj09dHlwZW9mIHImJihzPW4uZ2V0Q2Fub25pY2FsQWxnTmFtZShyKSxpPW4uZ2V0SGFzaExlbmd0aChzKSxyPWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGhleHRvcnN0cihvLmhhc2hIZXgocnN0cnRvaGV4KGUpLHMpKX0pLGUubGVuZ3RoKzIqaSsyPnQpdGhyb3dcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiO3ZhciBhLHU9XCJcIjtmb3IoYT0wO2E8dC1lLmxlbmd0aC0yKmktMjthKz0xKXUrPVwiXFwwXCI7dmFyIGM9cihcIlwiKSt1K1wiXHUwMDAxXCIrZSxoPW5ldyBBcnJheShpKTsobmV3IFNlY3VyZVJhbmRvbSkubmV4dEJ5dGVzKGgpO3ZhciBsPW9hZXBfbWdmMV9hcnIoaCxjLmxlbmd0aCxyKSxnPVtdO2ZvcihhPTA7YTxjLmxlbmd0aDthKz0xKWdbYV09Yy5jaGFyQ29kZUF0KGEpXmwuY2hhckNvZGVBdChhKTt2YXIgcD1vYWVwX21nZjFfYXJyKGcsaC5sZW5ndGgsciksZD1bMF07Zm9yKGE9MDthPGgubGVuZ3RoO2ErPTEpZFthKzFdPWhbYV1ecC5jaGFyQ29kZUF0KGEpO3JldHVybiBuZXcgQmlnSW50ZWdlcihkLmNvbmNhdChnKSl9KGUsdGhpcy5uLmJpdExlbmd0aCgpKzc+PjMsdCxyKTtpZihudWxsPT1pKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZG9QdWJsaWMoaSk7aWYobnVsbD09bilyZXR1cm4gbnVsbDt2YXIgbz1uLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmby5sZW5ndGgpP286XCIwXCIrb30sUlNBS2V5LnByb3RvdHlwZS50eXBlPVwiUlNBXCIsRUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uIGZlRnBFcXVhbHMoZSl7cmV0dXJuIGU9PXRoaXN8fHRoaXMucS5lcXVhbHMoZS5xKSYmdGhpcy54LmVxdWFscyhlLngpfSxFQ0ZpZWxkRWxlbWVudEZwLnByb3RvdHlwZS50b0JpZ0ludGVnZXI9ZnVuY3Rpb24gZmVGcFRvQmlnSW50ZWdlcigpe3JldHVybiB0aGlzLnh9LEVDRmllbGRFbGVtZW50RnAucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbiBmZUZwTmVnYXRlKCl7cmV0dXJuIG5ldyBFQ0ZpZWxkRWxlbWVudEZwKHRoaXMucSx0aGlzLngubmVnYXRlKCkubW9kKHRoaXMucSkpfSxFQ0ZpZWxkRWxlbWVudEZwLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24gZmVGcEFkZChlKXtyZXR1cm4gbmV3IEVDRmllbGRFbGVtZW50RnAodGhpcy5xLHRoaXMueC5hZGQoZS50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpfSxFQ0ZpZWxkRWxlbWVudEZwLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbiBmZUZwU3VidHJhY3QoZSl7cmV0dXJuIG5ldyBFQ0ZpZWxkRWxlbWVudEZwKHRoaXMucSx0aGlzLnguc3VidHJhY3QoZS50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpfSxFQ0ZpZWxkRWxlbWVudEZwLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbiBmZUZwTXVsdGlwbHkoZSl7cmV0dXJuIG5ldyBFQ0ZpZWxkRWxlbWVudEZwKHRoaXMucSx0aGlzLngubXVsdGlwbHkoZS50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpfSxFQ0ZpZWxkRWxlbWVudEZwLnByb3RvdHlwZS5zcXVhcmU9ZnVuY3Rpb24gZmVGcFNxdWFyZSgpe3JldHVybiBuZXcgRUNGaWVsZEVsZW1lbnRGcCh0aGlzLnEsdGhpcy54LnNxdWFyZSgpLm1vZCh0aGlzLnEpKX0sRUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uIGZlRnBEaXZpZGUoZSl7cmV0dXJuIG5ldyBFQ0ZpZWxkRWxlbWVudEZwKHRoaXMucSx0aGlzLngubXVsdGlwbHkoZS50b0JpZ0ludGVnZXIoKS5tb2RJbnZlcnNlKHRoaXMucSkpLm1vZCh0aGlzLnEpKX0sRUNQb2ludEZwLnByb3RvdHlwZS5nZXRYPWZ1bmN0aW9uIHBvaW50RnBHZXRYKCl7cmV0dXJuIG51bGw9PXRoaXMuemludiYmKHRoaXMuemludj10aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnEpKSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHRoaXMueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnppbnYpLm1vZCh0aGlzLmN1cnZlLnEpKX0sRUNQb2ludEZwLnByb3RvdHlwZS5nZXRZPWZ1bmN0aW9uIHBvaW50RnBHZXRZKCl7cmV0dXJuIG51bGw9PXRoaXMuemludiYmKHRoaXMuemludj10aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnEpKSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHRoaXMueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnppbnYpLm1vZCh0aGlzLmN1cnZlLnEpKX0sRUNQb2ludEZwLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24gcG9pbnRGcEVxdWFscyhlKXtyZXR1cm4gZT09dGhpc3x8KHRoaXMuaXNJbmZpbml0eSgpP2UuaXNJbmZpbml0eSgpOmUuaXNJbmZpbml0eSgpP3RoaXMuaXNJbmZpbml0eSgpOiEhZS55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KGUueikpLm1vZCh0aGlzLmN1cnZlLnEpLmVxdWFscyhCaWdJbnRlZ2VyLlpFUk8pJiZlLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkoZS56KSkubW9kKHRoaXMuY3VydmUucSkuZXF1YWxzKEJpZ0ludGVnZXIuWkVSTykpfSxFQ1BvaW50RnAucHJvdG90eXBlLmlzSW5maW5pdHk9ZnVuY3Rpb24gcG9pbnRGcElzSW5maW5pdHkoKXtyZXR1cm4gbnVsbD09dGhpcy54JiZudWxsPT10aGlzLnl8fHRoaXMuei5lcXVhbHMoQmlnSW50ZWdlci5aRVJPKSYmIXRoaXMueS50b0JpZ0ludGVnZXIoKS5lcXVhbHMoQmlnSW50ZWdlci5aRVJPKX0sRUNQb2ludEZwLnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24gcG9pbnRGcE5lZ2F0ZSgpe3JldHVybiBuZXcgRUNQb2ludEZwKHRoaXMuY3VydmUsdGhpcy54LHRoaXMueS5uZWdhdGUoKSx0aGlzLnopfSxFQ1BvaW50RnAucHJvdG90eXBlLmFkZD1mdW5jdGlvbiBwb2ludEZwQWRkKGUpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXJldHVybiBlO2lmKGUuaXNJbmZpbml0eSgpKXJldHVybiB0aGlzO3ZhciB0PWUueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseShlLnopKS5tb2QodGhpcy5jdXJ2ZS5xKSxyPWUueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseShlLnopKS5tb2QodGhpcy5jdXJ2ZS5xKTtpZihCaWdJbnRlZ2VyLlpFUk8uZXF1YWxzKHIpKXJldHVybiBCaWdJbnRlZ2VyLlpFUk8uZXF1YWxzKHQpP3RoaXMudHdpY2UoKTp0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIGk9bmV3IEJpZ0ludGVnZXIoXCIzXCIpLG49dGhpcy54LnRvQmlnSW50ZWdlcigpLG89dGhpcy55LnRvQmlnSW50ZWdlcigpLHM9KGUueC50b0JpZ0ludGVnZXIoKSxlLnkudG9CaWdJbnRlZ2VyKCksci5zcXVhcmUoKSksYT1zLm11bHRpcGx5KHIpLHU9bi5tdWx0aXBseShzKSxjPXQuc3F1YXJlKCkubXVsdGlwbHkodGhpcy56KSxoPWMuc3VidHJhY3QodS5zaGlmdExlZnQoMSkpLm11bHRpcGx5KGUueikuc3VidHJhY3QoYSkubXVsdGlwbHkocikubW9kKHRoaXMuY3VydmUucSksbD11Lm11bHRpcGx5KGkpLm11bHRpcGx5KHQpLnN1YnRyYWN0KG8ubXVsdGlwbHkoYSkpLnN1YnRyYWN0KGMubXVsdGlwbHkodCkpLm11bHRpcGx5KGUueikuYWRkKHQubXVsdGlwbHkoYSkpLm1vZCh0aGlzLmN1cnZlLnEpLGY9YS5tdWx0aXBseSh0aGlzLnopLm11bHRpcGx5KGUueikubW9kKHRoaXMuY3VydmUucSk7cmV0dXJuIG5ldyBFQ1BvaW50RnAodGhpcy5jdXJ2ZSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKGgpLHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIobCksZil9LEVDUG9pbnRGcC5wcm90b3R5cGUudHdpY2U9ZnVuY3Rpb24gcG9pbnRGcFR3aWNlKCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09dGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIGU9bmV3IEJpZ0ludGVnZXIoXCIzXCIpLHQ9dGhpcy54LnRvQmlnSW50ZWdlcigpLHI9dGhpcy55LnRvQmlnSW50ZWdlcigpLGk9ci5tdWx0aXBseSh0aGlzLnopLG49aS5tdWx0aXBseShyKS5tb2QodGhpcy5jdXJ2ZS5xKSxvPXRoaXMuY3VydmUuYS50b0JpZ0ludGVnZXIoKSxzPXQuc3F1YXJlKCkubXVsdGlwbHkoZSk7QmlnSW50ZWdlci5aRVJPLmVxdWFscyhvKXx8KHM9cy5hZGQodGhpcy56LnNxdWFyZSgpLm11bHRpcGx5KG8pKSk7dmFyIGE9KHM9cy5tb2QodGhpcy5jdXJ2ZS5xKSkuc3F1YXJlKCkuc3VidHJhY3QodC5zaGlmdExlZnQoMykubXVsdGlwbHkobikpLnNoaWZ0TGVmdCgxKS5tdWx0aXBseShpKS5tb2QodGhpcy5jdXJ2ZS5xKSx1PXMubXVsdGlwbHkoZSkubXVsdGlwbHkodCkuc3VidHJhY3Qobi5zaGlmdExlZnQoMSkpLnNoaWZ0TGVmdCgyKS5tdWx0aXBseShuKS5zdWJ0cmFjdChzLnNxdWFyZSgpLm11bHRpcGx5KHMpKS5tb2QodGhpcy5jdXJ2ZS5xKSxjPWkuc3F1YXJlKCkubXVsdGlwbHkoaSkuc2hpZnRMZWZ0KDMpLm1vZCh0aGlzLmN1cnZlLnEpO3JldHVybiBuZXcgRUNQb2ludEZwKHRoaXMuY3VydmUsdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihhKSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHUpLGMpfSxFQ1BvaW50RnAucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uIHBvaW50RnBNdWx0aXBseShlKXtpZih0aGlzLmlzSW5maW5pdHkoKSlyZXR1cm4gdGhpcztpZigwPT1lLnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIHQscj1lLGk9ci5tdWx0aXBseShuZXcgQmlnSW50ZWdlcihcIjNcIikpLG49dGhpcy5uZWdhdGUoKSxvPXRoaXM7Zm9yKHQ9aS5iaXRMZW5ndGgoKS0yO3Q+MDstLXQpe289by50d2ljZSgpO3ZhciBzPWkudGVzdEJpdCh0KTtzIT1yLnRlc3RCaXQodCkmJihvPW8uYWRkKHM/dGhpczpuKSl9cmV0dXJuIG99LEVDUG9pbnRGcC5wcm90b3R5cGUubXVsdGlwbHlUd289ZnVuY3Rpb24gcG9pbnRGcE11bHRpcGx5VHdvKGUsdCxyKXt2YXIgaTtpPWUuYml0TGVuZ3RoKCk+ci5iaXRMZW5ndGgoKT9lLmJpdExlbmd0aCgpLTE6ci5iaXRMZW5ndGgoKS0xO2Zvcih2YXIgbj10aGlzLmN1cnZlLmdldEluZmluaXR5KCksbz10aGlzLmFkZCh0KTtpPj0wOyluPW4udHdpY2UoKSxlLnRlc3RCaXQoaSk/bj1yLnRlc3RCaXQoaSk/bi5hZGQobyk6bi5hZGQodGhpcyk6ci50ZXN0Qml0KGkpJiYobj1uLmFkZCh0KSksLS1pO3JldHVybiBufSxFQ0N1cnZlRnAucHJvdG90eXBlLmdldFE9ZnVuY3Rpb24gY3VydmVGcEdldFEoKXtyZXR1cm4gdGhpcy5xfSxFQ0N1cnZlRnAucHJvdG90eXBlLmdldEE9ZnVuY3Rpb24gY3VydmVGcEdldEEoKXtyZXR1cm4gdGhpcy5hfSxFQ0N1cnZlRnAucHJvdG90eXBlLmdldEI9ZnVuY3Rpb24gY3VydmVGcEdldEIoKXtyZXR1cm4gdGhpcy5ifSxFQ0N1cnZlRnAucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbiBjdXJ2ZUZwRXF1YWxzKGUpe3JldHVybiBlPT10aGlzfHx0aGlzLnEuZXF1YWxzKGUucSkmJnRoaXMuYS5lcXVhbHMoZS5hKSYmdGhpcy5iLmVxdWFscyhlLmIpfSxFQ0N1cnZlRnAucHJvdG90eXBlLmdldEluZmluaXR5PWZ1bmN0aW9uIGN1cnZlRnBHZXRJbmZpbml0eSgpe3JldHVybiB0aGlzLmluZmluaXR5fSxFQ0N1cnZlRnAucHJvdG90eXBlLmZyb21CaWdJbnRlZ2VyPWZ1bmN0aW9uIGN1cnZlRnBGcm9tQmlnSW50ZWdlcihlKXtyZXR1cm4gbmV3IEVDRmllbGRFbGVtZW50RnAodGhpcy5xLGUpfSxFQ0N1cnZlRnAucHJvdG90eXBlLmRlY29kZVBvaW50SGV4PWZ1bmN0aW9uIGN1cnZlRnBEZWNvZGVQb2ludEhleChlKXtzd2l0Y2gocGFyc2VJbnQoZS5zdWJzdHIoMCwyKSwxNikpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pbmZpbml0eTtjYXNlIDI6Y2FzZSAzOnJldHVybiBudWxsO2Nhc2UgNDpjYXNlIDY6Y2FzZSA3OnZhciB0PShlLmxlbmd0aC0yKS8yLHI9ZS5zdWJzdHIoMix0KSxpPWUuc3Vic3RyKHQrMix0KTtyZXR1cm4gbmV3IEVDUG9pbnRGcCh0aGlzLHRoaXMuZnJvbUJpZ0ludGVnZXIobmV3IEJpZ0ludGVnZXIociwxNikpLHRoaXMuZnJvbUJpZ0ludGVnZXIobmV3IEJpZ0ludGVnZXIoaSwxNikpKTtkZWZhdWx0OnJldHVybiBudWxsfX0sXG4vKiEgKGMpIFN0ZWZhbiBUaG9tYXMgfCBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbmpzL2JpdGNvaW5qcy1saWJcbiAqL1xuRUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUuZ2V0Qnl0ZUxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKCh0aGlzLnRvQmlnSW50ZWdlcigpLmJpdExlbmd0aCgpKzcpLzgpfSxFQ1BvaW50RnAucHJvdG90eXBlLmdldEVuY29kZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24gZChlLHQpe3ZhciByPWUudG9CeXRlQXJyYXlVbnNpZ25lZCgpO2lmKHQ8ci5sZW5ndGgpcj1yLnNsaWNlKHIubGVuZ3RoLXQpO2Vsc2UgZm9yKDt0PnIubGVuZ3RoOylyLnVuc2hpZnQoMCk7cmV0dXJuIHJ9LHI9dGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCksaT10aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKSxuPXQociwzMik7cmV0dXJuIGU/aS5pc0V2ZW4oKT9uLnVuc2hpZnQoMik6bi51bnNoaWZ0KDMpOihuLnVuc2hpZnQoNCksbj1uLmNvbmNhdCh0KGksMzIpKSksbn0sRUNQb2ludEZwLmRlY29kZUZyb209ZnVuY3Rpb24oZSx0KXt0WzBdO3ZhciByPXQubGVuZ3RoLTEsaT10LnNsaWNlKDEsMStyLzIpLG49dC5zbGljZSgxK3IvMiwxK3IpO2kudW5zaGlmdCgwKSxuLnVuc2hpZnQoMCk7dmFyIG89bmV3IEJpZ0ludGVnZXIoaSkscz1uZXcgQmlnSW50ZWdlcihuKTtyZXR1cm4gbmV3IEVDUG9pbnRGcChlLGUuZnJvbUJpZ0ludGVnZXIobyksZS5mcm9tQmlnSW50ZWdlcihzKSl9LEVDUG9pbnRGcC5kZWNvZGVGcm9tSGV4PWZ1bmN0aW9uKGUsdCl7dC5zdWJzdHIoMCwyKTt2YXIgcj10Lmxlbmd0aC0yLGk9dC5zdWJzdHIoMixyLzIpLG49dC5zdWJzdHIoMityLzIsci8yKSxvPW5ldyBCaWdJbnRlZ2VyKGksMTYpLHM9bmV3IEJpZ0ludGVnZXIobiwxNik7cmV0dXJuIG5ldyBFQ1BvaW50RnAoZSxlLmZyb21CaWdJbnRlZ2VyKG8pLGUuZnJvbUJpZ0ludGVnZXIocykpfSxFQ1BvaW50RnAucHJvdG90eXBlLmFkZDJEPWZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXJldHVybiBlO2lmKGUuaXNJbmZpbml0eSgpKXJldHVybiB0aGlzO2lmKHRoaXMueC5lcXVhbHMoZS54KSlyZXR1cm4gdGhpcy55LmVxdWFscyhlLnkpP3RoaXMudHdpY2UoKTp0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIHQ9ZS54LnN1YnRyYWN0KHRoaXMueCkscj1lLnkuc3VidHJhY3QodGhpcy55KS5kaXZpZGUodCksaT1yLnNxdWFyZSgpLnN1YnRyYWN0KHRoaXMueCkuc3VidHJhY3QoZS54KSxuPXIubXVsdGlwbHkodGhpcy54LnN1YnRyYWN0KGkpKS5zdWJ0cmFjdCh0aGlzLnkpO3JldHVybiBuZXcgRUNQb2ludEZwKHRoaXMuY3VydmUsaSxuKX0sRUNQb2ludEZwLnByb3RvdHlwZS50d2ljZTJEPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09dGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIGU9dGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihCaWdJbnRlZ2VyLnZhbHVlT2YoMikpLHQ9dGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihCaWdJbnRlZ2VyLnZhbHVlT2YoMykpLHI9dGhpcy54LnNxdWFyZSgpLm11bHRpcGx5KHQpLmFkZCh0aGlzLmN1cnZlLmEpLmRpdmlkZSh0aGlzLnkubXVsdGlwbHkoZSkpLGk9ci5zcXVhcmUoKS5zdWJ0cmFjdCh0aGlzLngubXVsdGlwbHkoZSkpLG49ci5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QoaSkpLnN1YnRyYWN0KHRoaXMueSk7cmV0dXJuIG5ldyBFQ1BvaW50RnAodGhpcy5jdXJ2ZSxpLG4pfSxFQ1BvaW50RnAucHJvdG90eXBlLm11bHRpcGx5MkQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09ZS5zaWdudW0oKSlyZXR1cm4gdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpO3ZhciB0LHI9ZSxpPXIubXVsdGlwbHkobmV3IEJpZ0ludGVnZXIoXCIzXCIpKSxuPXRoaXMubmVnYXRlKCksbz10aGlzO2Zvcih0PWkuYml0TGVuZ3RoKCktMjt0PjA7LS10KXtvPW8udHdpY2UoKTt2YXIgcz1pLnRlc3RCaXQodCk7cyE9ci50ZXN0Qml0KHQpJiYobz1vLmFkZDJEKHM/dGhpczpuKSl9cmV0dXJuIG99LEVDUG9pbnRGcC5wcm90b3R5cGUuaXNPbkN1cnZlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCksdD10aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKSxyPXRoaXMuY3VydmUuZ2V0QSgpLnRvQmlnSW50ZWdlcigpLGk9dGhpcy5jdXJ2ZS5nZXRCKCkudG9CaWdJbnRlZ2VyKCksbj10aGlzLmN1cnZlLmdldFEoKSxvPXQubXVsdGlwbHkodCkubW9kKG4pLHM9ZS5tdWx0aXBseShlKS5tdWx0aXBseShlKS5hZGQoci5tdWx0aXBseShlKSkuYWRkKGkpLm1vZChuKTtyZXR1cm4gby5lcXVhbHMocyl9LEVDUG9pbnRGcC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIihcIit0aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKS50b1N0cmluZygpK1wiLFwiK3RoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpLnRvU3RyaW5nKCkrXCIpXCJ9LEVDUG9pbnRGcC5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnZlLmdldFEoKTtpZih0aGlzLmlzSW5maW5pdHkoKSl0aHJvdyBuZXcgRXJyb3IoXCJQb2ludCBpcyBhdCBpbmZpbml0eS5cIik7dmFyIHQ9dGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCkscj10aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKTtpZih0LmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSk8MHx8dC5jb21wYXJlVG8oZS5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSkpPjApdGhyb3cgbmV3IEVycm9yKFwieCBjb29yZGluYXRlIG91dCBvZiBib3VuZHNcIik7aWYoci5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPDB8fHIuY29tcGFyZVRvKGUuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpKT4wKXRocm93IG5ldyBFcnJvcihcInkgY29vcmRpbmF0ZSBvdXQgb2YgYm91bmRzXCIpO2lmKCF0aGlzLmlzT25DdXJ2ZSgpKXRocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIG5vdCBvbiB0aGUgY3VydmUuXCIpO2lmKHRoaXMubXVsdGlwbHkoZSkuaXNJbmZpbml0eSgpKXRocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIG5vdCBhIHNjYWxhciBtdWx0aXBsZSBvZiBHLlwiKTtyZXR1cm4hMH07XG4vKiEgTWlrZSBTYW11ZWwgKGMpIDIwMDkgfCBjb2RlLmdvb2dsZS5jb20vcC9qc29uLXNhbnMtZXZhbFxuICovXG52YXIgSz1mdW5jdGlvbigpe3ZhciBlPW5ldyBSZWdFeHAoJyg/OmZhbHNlfHRydWV8bnVsbHxbXFxcXHtcXFxcfVxcXFxbXFxcXF1dfCg/Oi0/XFxcXGIoPzowfFsxLTldWzAtOV0qKSg/OlxcXFwuWzAtOV0rKT8oPzpbZUVdWystXT9bMC05XSspP1xcXFxiKXwoPzpcIig/OlteXFxcXDAtXFxcXHgwOFxcXFx4MGEtXFxcXHgxZlwiXFxcXFxcXFxdfFxcXFxcXFxcKD86W1wiL1xcXFxcXFxcYmZucnRdfHVbMC05QS1GYS1mXXs0fSkpKlwiKSknLFwiZ1wiKSx0PW5ldyBSZWdFeHAoXCJcXFxcXFxcXCg/OihbXnVdKXx1KC57NH0pKVwiLFwiZ1wiKSxyPXsnXCInOidcIicsXCIvXCI6XCIvXCIsXCJcXFxcXCI6XCJcXFxcXCIsYjpcIlxcYlwiLGY6XCJcXGZcIixuOlwiXFxuXCIscjpcIlxcclwiLHQ6XCJcXHRcIn07ZnVuY3Rpb24gaChlLHQsaSl7cmV0dXJuIHQ/clt0XTpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGksMTYpKX12YXIgaT1uZXcgU3RyaW5nKFwiXCIpLG89KE9iamVjdCxBcnJheSxPYmplY3QuaGFzT3duUHJvcGVydHkpO3JldHVybiBmdW5jdGlvbihyLGEpe3ZhciB1LGMsbD1yLm1hdGNoKGUpLGY9bFswXSxnPSExO1wie1wiPT09Zj91PXt9OlwiW1wiPT09Zj91PVtdOih1PVtdLGc9ITApO2Zvcih2YXIgcD1bdV0sZD0xLWcsdj1sLmxlbmd0aDtkPHY7KytkKXt2YXIgeTtzd2l0Y2goKGY9bFtkXSkuY2hhckNvZGVBdCgwKSl7ZGVmYXVsdDooeT1wWzBdKVtjfHx5Lmxlbmd0aF09K2YsYz12b2lkIDA7YnJlYWs7Y2FzZSAzNDppZigtMSE9PShmPWYuc3Vic3RyaW5nKDEsZi5sZW5ndGgtMSkpLmluZGV4T2YoXCJcXFxcXCIpJiYoZj1mLnJlcGxhY2UodCxoKSkseT1wWzBdLCFjKXtpZighKHkgaW5zdGFuY2VvZiBBcnJheSkpe2M9Znx8aTticmVha31jPXkubGVuZ3RofXlbY109ZixjPXZvaWQgMDticmVhaztjYXNlIDkxOnk9cFswXSxwLnVuc2hpZnQoeVtjfHx5Lmxlbmd0aF09W10pLGM9dm9pZCAwO2JyZWFrO2Nhc2UgOTM6cC5zaGlmdCgpO2JyZWFrO2Nhc2UgMTAyOih5PXBbMF0pW2N8fHkubGVuZ3RoXT0hMSxjPXZvaWQgMDticmVhaztjYXNlIDExMDooeT1wWzBdKVtjfHx5Lmxlbmd0aF09bnVsbCxjPXZvaWQgMDticmVhaztjYXNlIDExNjooeT1wWzBdKVtjfHx5Lmxlbmd0aF09ITAsYz12b2lkIDA7YnJlYWs7Y2FzZSAxMjM6eT1wWzBdLHAudW5zaGlmdCh5W2N8fHkubGVuZ3RoXT17fSksYz12b2lkIDA7YnJlYWs7Y2FzZSAxMjU6cC5zaGlmdCgpfX1pZihnKXtpZigxIT09cC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yO3U9dVswXX1lbHNlIGlmKHAubGVuZ3RoKXRocm93IG5ldyBFcnJvcjtpZihhKXt1PWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj1lW3RdO2lmKHImJlwib2JqZWN0XCI9PT0odm9pZCAwPT09cj9cInVuZGVmaW5lZFwiOm4ocikpKXt2YXIgaT1udWxsO2Zvcih2YXIgdSBpbiByKWlmKG8uY2FsbChyLHUpJiZyIT09ZSl7dmFyIGM9cyhyLHUpO3ZvaWQgMCE9PWM/clt1XT1jOihpfHwoaT1bXSksaS5wdXNoKHUpKX1pZihpKWZvcih2YXIgaD1pLmxlbmd0aDstLWg+PTA7KWRlbGV0ZSByW2lbaF1dfXJldHVybiBhLmNhbGwoZSx0LHIpfSh7XCJcIjp1fSxcIlwiKX1yZXR1cm4gdX19KCk7dm9pZCAwIT09ViYmVnx8KFY9e30pLHZvaWQgMCE9PVYuYXNuMSYmVi5hc24xfHwoVi5hc24xPXt9KSxWLmFzbjEuQVNOMVV0aWw9bmV3IGZ1bmN0aW9uKCl7dGhpcy5pbnRlZ2VyVG9CeXRlSGV4PWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiB0Lmxlbmd0aCUyPT0xJiYodD1cIjBcIit0KSx0fSx0aGlzLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4PWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO2lmKFwiLVwiIT10LnN1YnN0cigwLDEpKXQubGVuZ3RoJTI9PTE/dD1cIjBcIit0OnQubWF0Y2goL15bMC03XS8pfHwodD1cIjAwXCIrdCk7ZWxzZXt2YXIgcj10LnN1YnN0cigxKS5sZW5ndGg7ciUyPT0xP3IrPTE6dC5tYXRjaCgvXlswLTddLyl8fChyKz0yKTtmb3IodmFyIGk9XCJcIixuPTA7bjxyO24rKylpKz1cImZcIjt0PW5ldyBCaWdJbnRlZ2VyKGksMTYpLnhvcihlKS5hZGQoQmlnSW50ZWdlci5PTkUpLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eLS8sXCJcIil9cmV0dXJuIHR9LHRoaXMuZ2V0UEVNU3RyaW5nRnJvbUhleD1mdW5jdGlvbihlLHQpe3JldHVybiBoZXh0b3BlbShlLHQpfSx0aGlzLm5ld09iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1WLmFzbjEscj10LkRFUkJvb2xlYW4saT10LkRFUkludGVnZXIsbj10LkRFUkJpdFN0cmluZyxvPXQuREVST2N0ZXRTdHJpbmcscz10LkRFUk51bGwsYT10LkRFUk9iamVjdElkZW50aWZpZXIsdT10LkRFUkVudW1lcmF0ZWQsYz10LkRFUlVURjhTdHJpbmcsaD10LkRFUk51bWVyaWNTdHJpbmcsbD10LkRFUlByaW50YWJsZVN0cmluZyxmPXQuREVSVGVsZXRleFN0cmluZyxnPXQuREVSSUE1U3RyaW5nLHA9dC5ERVJVVENUaW1lLGQ9dC5ERVJHZW5lcmFsaXplZFRpbWUsdj10LkRFUlNlcXVlbmNlLHk9dC5ERVJTZXQsbT10LkRFUlRhZ2dlZE9iamVjdCxTPXQuQVNOMVV0aWwubmV3T2JqZWN0LGI9T2JqZWN0LmtleXMoZSk7aWYoMSE9Yi5sZW5ndGgpdGhyb3dcImtleSBvZiBwYXJhbSBzaGFsbCBiZSBvbmx5IG9uZS5cIjt2YXIgRj1iWzBdO2lmKC0xPT1cIjpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnNlcTpzZXQ6dGFnOlwiLmluZGV4T2YoXCI6XCIrRitcIjpcIikpdGhyb3dcInVuZGVmaW5lZCBrZXk6IFwiK0Y7aWYoXCJib29sXCI9PUYpcmV0dXJuIG5ldyByKGVbRl0pO2lmKFwiaW50XCI9PUYpcmV0dXJuIG5ldyBpKGVbRl0pO2lmKFwiYml0c3RyXCI9PUYpcmV0dXJuIG5ldyBuKGVbRl0pO2lmKFwib2N0c3RyXCI9PUYpcmV0dXJuIG5ldyBvKGVbRl0pO2lmKFwibnVsbFwiPT1GKXJldHVybiBuZXcgcyhlW0ZdKTtpZihcIm9pZFwiPT1GKXJldHVybiBuZXcgYShlW0ZdKTtpZihcImVudW1cIj09RilyZXR1cm4gbmV3IHUoZVtGXSk7aWYoXCJ1dGY4c3RyXCI9PUYpcmV0dXJuIG5ldyBjKGVbRl0pO2lmKFwibnVtc3RyXCI9PUYpcmV0dXJuIG5ldyBoKGVbRl0pO2lmKFwicHJuc3RyXCI9PUYpcmV0dXJuIG5ldyBsKGVbRl0pO2lmKFwidGVsc3RyXCI9PUYpcmV0dXJuIG5ldyBmKGVbRl0pO2lmKFwiaWE1c3RyXCI9PUYpcmV0dXJuIG5ldyBnKGVbRl0pO2lmKFwidXRjdGltZVwiPT1GKXJldHVybiBuZXcgcChlW0ZdKTtpZihcImdlbnRpbWVcIj09RilyZXR1cm4gbmV3IGQoZVtGXSk7aWYoXCJzZXFcIj09Ril7Zm9yKHZhciBfPWVbRl0sdz1bXSxFPTA7RTxfLmxlbmd0aDtFKyspe3ZhciB4PVMoX1tFXSk7dy5wdXNoKHgpfXJldHVybiBuZXcgdih7YXJyYXk6d30pfWlmKFwic2V0XCI9PUYpe2ZvcihfPWVbRl0sdz1bXSxFPTA7RTxfLmxlbmd0aDtFKyspe3g9UyhfW0VdKTt3LnB1c2goeCl9cmV0dXJuIG5ldyB5KHthcnJheTp3fSl9aWYoXCJ0YWdcIj09Ril7dmFyIEE9ZVtGXTtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQSkmJjM9PUEubGVuZ3RoKXt2YXIgQz1TKEFbMl0pO3JldHVybiBuZXcgbSh7dGFnOkFbMF0sZXhwbGljaXQ6QVsxXSxvYmo6Q30pfXZhciBQPXt9O2lmKHZvaWQgMCE9PUEuZXhwbGljaXQmJihQLmV4cGxpY2l0PUEuZXhwbGljaXQpLHZvaWQgMCE9PUEudGFnJiYoUC50YWc9QS50YWcpLHZvaWQgMD09PUEub2JqKXRocm93XCJvYmogc2hhbGwgYmUgc3BlY2lmaWVkIGZvciAndGFnJy5cIjtyZXR1cm4gUC5vYmo9UyhBLm9iaiksbmV3IG0oUCl9fSx0aGlzLmpzb25Ub0FTTjFIRVg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV3T2JqZWN0KGUpLmdldEVuY29kZWRIZXgoKX19LFYuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixyPXBhcnNlSW50KGUuc3Vic3RyKDAsMiksMTYpLGk9KHQ9TWF0aC5mbG9vcihyLzQwKStcIi5cIityJTQwLFwiXCIpLG49MjtuPGUubGVuZ3RoO24rPTIpe3ZhciBvPShcIjAwMDAwMDAwXCIrcGFyc2VJbnQoZS5zdWJzdHIobiwyKSwxNikudG9TdHJpbmcoMikpLnNsaWNlKC04KTtpZihpKz1vLnN1YnN0cigxLDcpLFwiMFwiPT1vLnN1YnN0cigwLDEpKXQ9dCtcIi5cIituZXcgQmlnSW50ZWdlcihpLDIpLnRvU3RyaW5nKDEwKSxpPVwiXCJ9cmV0dXJuIHR9LFYuYXNuMS5BU04xVXRpbC5vaWRJbnRUb0hleD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbiBlKHQpe3ZhciByPXQudG9TdHJpbmcoMTYpO3JldHVybiAxPT1yLmxlbmd0aCYmKHI9XCIwXCIrcikscn0scj1mdW5jdGlvbiBkKGUpe3ZhciByPVwiXCIsaT1uZXcgQmlnSW50ZWdlcihlLDEwKS50b1N0cmluZygyKSxuPTctaS5sZW5ndGglNzs3PT1uJiYobj0wKTtmb3IodmFyIG89XCJcIixzPTA7czxuO3MrKylvKz1cIjBcIjtpPW8raTtmb3Iocz0wO3M8aS5sZW5ndGgtMTtzKz03KXt2YXIgYT1pLnN1YnN0cihzLDcpO3MhPWkubGVuZ3RoLTcmJihhPVwiMVwiK2EpLHIrPXQocGFyc2VJbnQoYSwyKSl9cmV0dXJuIHJ9O2lmKCFlLm1hdGNoKC9eWzAtOS5dKyQvKSl0aHJvd1wibWFsZm9ybWVkIG9pZCBzdHJpbmc6IFwiK2U7dmFyIGk9XCJcIixuPWUuc3BsaXQoXCIuXCIpLG89NDAqcGFyc2VJbnQoblswXSkrcGFyc2VJbnQoblsxXSk7aSs9dChvKSxuLnNwbGljZSgwLDIpO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7cysrKWkrPXIobltzXSk7cmV0dXJuIGl9LFYuYXNuMS5BU04xT2JqZWN0PWZ1bmN0aW9uKCl7dGhpcy5nZXRMZW5ndGhIZXhGcm9tVmFsdWU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT10aGlzLmhWfHxudWxsPT10aGlzLmhWKXRocm93XCJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkLlwiO2lmKHRoaXMuaFYubGVuZ3RoJTI9PTEpdGhyb3dcInZhbHVlIGhleCBtdXN0IGJlIGV2ZW4gbGVuZ3RoOiBuPVwiK1wiXCIubGVuZ3RoK1wiLHY9XCIrdGhpcy5oVjt2YXIgZT10aGlzLmhWLmxlbmd0aC8yLHQ9ZS50b1N0cmluZygxNik7aWYodC5sZW5ndGglMj09MSYmKHQ9XCIwXCIrdCksZTwxMjgpcmV0dXJuIHQ7dmFyIHI9dC5sZW5ndGgvMjtpZihyPjE1KXRocm93XCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIrZS50b1N0cmluZygxNik7cmV0dXJuKDEyOCtyKS50b1N0cmluZygxNikrdH0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7cmV0dXJuKG51bGw9PXRoaXMuaFRMVnx8dGhpcy5pc01vZGlmaWVkKSYmKHRoaXMuaFY9dGhpcy5nZXRGcmVzaFZhbHVlSGV4KCksdGhpcy5oTD10aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZSgpLHRoaXMuaFRMVj10aGlzLmhUK3RoaXMuaEwrdGhpcy5oVix0aGlzLmlzTW9kaWZpZWQ9ITEpLHRoaXMuaFRMVn0sdGhpcy5nZXRWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVuY29kZWRIZXgoKSx0aGlzLmhWfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0sVi5hc24xLkRFUkFic3RyYWN0U3RyaW5nPWZ1bmN0aW9uKGUpe1YuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5nZXRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfSx0aGlzLnNldFN0cmluZz1mdW5jdGlvbihlKXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPWUsdGhpcy5oVj11dGY4dG9oZXgodGhpcy5zKS50b0xvd2VyQ2FzZSgpfSx0aGlzLnNldFN0cmluZ0hleD1mdW5jdGlvbihlKXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj1lfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuc2V0U3RyaW5nKGUpOnZvaWQgMCE9PWUuc3RyP3RoaXMuc2V0U3RyaW5nKGUuc3RyKTp2b2lkIDAhPT1lLmhleCYmdGhpcy5zZXRTdHJpbmdIZXgoZS5oZXgpKX0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcsVi5hc24xLkFTTjFPYmplY3QpLFYuYXNuMS5ERVJBYnN0cmFjdFRpbWU9ZnVuY3Rpb24oZSl7Vi5hc24xLkRFUkFic3RyYWN0VGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5sb2NhbERhdGVUb1VUQz1mdW5jdGlvbihlKXtyZXR1cm4gdXRjPWUuZ2V0VGltZSgpKzZlNCplLmdldFRpbWV6b25lT2Zmc2V0KCksbmV3IERhdGUodXRjKX0sdGhpcy5mb3JtYXREYXRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnplcm9QYWRkaW5nLG49dGhpcy5sb2NhbERhdGVUb1VUQyhlKSxvPVN0cmluZyhuLmdldEZ1bGxZZWFyKCkpO1widXRjXCI9PXQmJihvPW8uc3Vic3RyKDIsMikpO3ZhciBzPW8raShTdHJpbmcobi5nZXRNb250aCgpKzEpLDIpK2koU3RyaW5nKG4uZ2V0RGF0ZSgpKSwyKStpKFN0cmluZyhuLmdldEhvdXJzKCkpLDIpK2koU3RyaW5nKG4uZ2V0TWludXRlcygpKSwyKStpKFN0cmluZyhuLmdldFNlY29uZHMoKSksMik7aWYoITA9PT1yKXt2YXIgYT1uLmdldE1pbGxpc2Vjb25kcygpO2lmKDAhPWEpe3ZhciB1PWkoU3RyaW5nKGEpLDMpO3M9cytcIi5cIisodT11LnJlcGxhY2UoL1swXSskLyxcIlwiKSl9fXJldHVybiBzK1wiWlwifSx0aGlzLnplcm9QYWRkaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGVuZ3RoPj10P2U6bmV3IEFycmF5KHQtZS5sZW5ndGgrMSkuam9pbihcIjBcIikrZX0sdGhpcy5nZXRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfSx0aGlzLnNldFN0cmluZz1mdW5jdGlvbihlKXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPWUsdGhpcy5oVj1zdG9oZXgoZSl9LHRoaXMuc2V0QnlEYXRlVmFsdWU9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZhciBzPW5ldyBEYXRlKERhdGUuVVRDKGUsdC0xLHIsaSxuLG8sMCkpO3RoaXMuc2V0QnlEYXRlKHMpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn19LHYubGFuZy5leHRlbmQoVi5hc24xLkRFUkFic3RyYWN0VGltZSxWLmFzbjEuQVNOMU9iamVjdCksVi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZD1mdW5jdGlvbihlKXtWLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuc2V0QnlBU04xT2JqZWN0QXJyYXk9ZnVuY3Rpb24oZSl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuYXNuMUFycmF5PWV9LHRoaXMuYXBwZW5kQVNOMU9iamVjdD1mdW5jdGlvbihlKXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5hc24xQXJyYXkucHVzaChlKX0sdGhpcy5hc24xQXJyYXk9bmV3IEFycmF5LHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuYXJyYXkmJih0aGlzLmFzbjFBcnJheT1lLmFycmF5KX0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkLFYuYXNuMS5BU04xT2JqZWN0KSxWLmFzbjEuREVSQm9vbGVhbj1mdW5jdGlvbigpe1YuYXNuMS5ERVJCb29sZWFuLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPVwiMDFcIix0aGlzLmhUTFY9XCIwMTAxZmZcIn0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVSQm9vbGVhbixWLmFzbjEuQVNOMU9iamVjdCksVi5hc24xLkRFUkludGVnZXI9ZnVuY3Rpb24oZSl7Vi5hc24xLkRFUkludGVnZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCIwMlwiLHRoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKGUpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPVYuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleChlKX0sdGhpcy5zZXRCeUludGVnZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEJpZ0ludGVnZXIoU3RyaW5nKGUpLDEwKTt0aGlzLnNldEJ5QmlnSW50ZWdlcih0KX0sdGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbihlKXt0aGlzLmhWPWV9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT1lJiYodm9pZCAwIT09ZS5iaWdpbnQ/dGhpcy5zZXRCeUJpZ0ludGVnZXIoZS5iaWdpbnQpOnZvaWQgMCE9PWUuaW50P3RoaXMuc2V0QnlJbnRlZ2VyKGUuaW50KTpcIm51bWJlclwiPT10eXBlb2YgZT90aGlzLnNldEJ5SW50ZWdlcihlKTp2b2lkIDAhPT1lLmhleCYmdGhpcy5zZXRWYWx1ZUhleChlLmhleCkpfSx2LmxhbmcuZXh0ZW5kKFYuYXNuMS5ERVJJbnRlZ2VyLFYuYXNuMS5BU04xT2JqZWN0KSxWLmFzbjEuREVSQml0U3RyaW5nPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUub2JqKXt2YXIgdD1WLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KGUub2JqKTtlLmhleD1cIjAwXCIrdC5nZXRFbmNvZGVkSGV4KCl9Vi5hc24xLkRFUkJpdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD1cIjAzXCIsdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHM9ZnVuY3Rpb24oZSl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9ZX0sdGhpcy5zZXRVbnVzZWRCaXRzQW5kSGV4VmFsdWU9ZnVuY3Rpb24oZSx0KXtpZihlPDB8fDc8ZSl0aHJvd1widW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIitlO3ZhciByPVwiMFwiK2U7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9cit0fSx0aGlzLnNldEJ5QmluYXJ5U3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PTgtKGU9ZS5yZXBsYWNlKC8wKyQvLFwiXCIpKS5sZW5ndGglODs4PT10JiYodD0wKTtmb3IodmFyIHI9MDtyPD10O3IrKyllKz1cIjBcIjt2YXIgaT1cIlwiO2ZvcihyPTA7cjxlLmxlbmd0aC0xO3IrPTgpe3ZhciBuPWUuc3Vic3RyKHIsOCksbz1wYXJzZUludChuLDIpLnRvU3RyaW5nKDE2KTsxPT1vLmxlbmd0aCYmKG89XCIwXCIrbyksaSs9b310aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj1cIjBcIit0K2l9LHRoaXMuc2V0QnlCb29sZWFuQXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiXCIscj0wO3I8ZS5sZW5ndGg7cisrKTE9PWVbcl0/dCs9XCIxXCI6dCs9XCIwXCI7dGhpcy5zZXRCeUJpbmFyeVN0cmluZyh0KX0sdGhpcy5uZXdGYWxzZUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT0hMTtyZXR1cm4gdH0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LHZvaWQgMCE9PWUmJihcInN0cmluZ1wiPT10eXBlb2YgZSYmZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pP3RoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKGUpOnZvaWQgMCE9PWUuaGV4P3RoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKGUuaGV4KTp2b2lkIDAhPT1lLmJpbj90aGlzLnNldEJ5QmluYXJ5U3RyaW5nKGUuYmluKTp2b2lkIDAhPT1lLmFycmF5JiZ0aGlzLnNldEJ5Qm9vbGVhbkFycmF5KGUuYXJyYXkpKX0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVSQml0U3RyaW5nLFYuYXNuMS5BU04xT2JqZWN0KSxWLmFzbjEuREVST2N0ZXRTdHJpbmc9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5vYmope3ZhciB0PVYuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QoZS5vYmopO2UuaGV4PXQuZ2V0RW5jb2RlZEhleCgpfVYuYXNuMS5ERVJPY3RldFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmhUPVwiMDRcIn0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVST2N0ZXRTdHJpbmcsVi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxWLmFzbjEuREVSTnVsbD1mdW5jdGlvbigpe1YuYXNuMS5ERVJOdWxsLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPVwiMDVcIix0aGlzLmhUTFY9XCIwNTAwXCJ9LHYubGFuZy5leHRlbmQoVi5hc24xLkRFUk51bGwsVi5hc24xLkFTTjFPYmplY3QpLFYuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uIGIoZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIDE9PXQubGVuZ3RoJiYodD1cIjBcIit0KSx0fSxyPWZ1bmN0aW9uIGEoZSl7dmFyIHI9XCJcIixpPW5ldyBCaWdJbnRlZ2VyKGUsMTApLnRvU3RyaW5nKDIpLG49Ny1pLmxlbmd0aCU3Ozc9PW4mJihuPTApO2Zvcih2YXIgbz1cIlwiLHM9MDtzPG47cysrKW8rPVwiMFwiO2k9bytpO2ZvcihzPTA7czxpLmxlbmd0aC0xO3MrPTcpe3ZhciB1PWkuc3Vic3RyKHMsNyk7cyE9aS5sZW5ndGgtNyYmKHU9XCIxXCIrdSkscis9dChwYXJzZUludCh1LDIpKX1yZXR1cm4gcn07Vi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCIwNlwiLHRoaXMuc2V0VmFsdWVIZXg9ZnVuY3Rpb24oZSl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMucz1udWxsLHRoaXMuaFY9ZX0sdGhpcy5zZXRWYWx1ZU9pZFN0cmluZz1mdW5jdGlvbihlKXtpZighZS5tYXRjaCgvXlswLTkuXSskLykpdGhyb3dcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIitlO3ZhciBpPVwiXCIsbj1lLnNwbGl0KFwiLlwiKSxvPTQwKnBhcnNlSW50KG5bMF0pK3BhcnNlSW50KG5bMV0pO2krPXQobyksbi5zcGxpY2UoMCwyKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKylpKz1yKG5bc10pO3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9bnVsbCx0aGlzLmhWPWl9LHRoaXMuc2V0VmFsdWVOYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PVYuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZChlKTtpZihcIlwiPT09dCl0aHJvd1wiREVST2JqZWN0SWRlbnRpZmllciBvaWROYW1lIHVuZGVmaW5lZDogXCIrZTt0aGlzLnNldFZhbHVlT2lkU3RyaW5nKHQpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP2UubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pP3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcoZSk6dGhpcy5zZXRWYWx1ZU5hbWUoZSk6dm9pZCAwIT09ZS5vaWQ/dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyhlLm9pZCk6dm9pZCAwIT09ZS5oZXg/dGhpcy5zZXRWYWx1ZUhleChlLmhleCk6dm9pZCAwIT09ZS5uYW1lJiZ0aGlzLnNldFZhbHVlTmFtZShlLm5hbWUpKX0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcixWLmFzbjEuQVNOMU9iamVjdCksVi5hc24xLkRFUkVudW1lcmF0ZWQ9ZnVuY3Rpb24oZSl7Vi5hc24xLkRFUkVudW1lcmF0ZWQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCIwYVwiLHRoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKGUpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPVYuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleChlKX0sdGhpcy5zZXRCeUludGVnZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEJpZ0ludGVnZXIoU3RyaW5nKGUpLDEwKTt0aGlzLnNldEJ5QmlnSW50ZWdlcih0KX0sdGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbihlKXt0aGlzLmhWPWV9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT1lJiYodm9pZCAwIT09ZS5pbnQ/dGhpcy5zZXRCeUludGVnZXIoZS5pbnQpOlwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuc2V0QnlJbnRlZ2VyKGUpOnZvaWQgMCE9PWUuaGV4JiZ0aGlzLnNldFZhbHVlSGV4KGUuaGV4KSl9LHYubGFuZy5leHRlbmQoVi5hc24xLkRFUkVudW1lcmF0ZWQsVi5hc24xLkFTTjFPYmplY3QpLFYuYXNuMS5ERVJVVEY4U3RyaW5nPWZ1bmN0aW9uKGUpe1YuYXNuMS5ERVJVVEY4U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuaFQ9XCIwY1wifSx2LmxhbmcuZXh0ZW5kKFYuYXNuMS5ERVJVVEY4U3RyaW5nLFYuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyksVi5hc24xLkRFUk51bWVyaWNTdHJpbmc9ZnVuY3Rpb24oZSl7Vi5hc24xLkRFUk51bWVyaWNTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5oVD1cIjEyXCJ9LHYubGFuZy5leHRlbmQoVi5hc24xLkRFUk51bWVyaWNTdHJpbmcsVi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxWLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nPWZ1bmN0aW9uKGUpe1YuYXNuMS5ERVJQcmludGFibGVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5oVD1cIjEzXCJ9LHYubGFuZy5leHRlbmQoVi5hc24xLkRFUlByaW50YWJsZVN0cmluZyxWLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLFYuYXNuMS5ERVJUZWxldGV4U3RyaW5nPWZ1bmN0aW9uKGUpe1YuYXNuMS5ERVJUZWxldGV4U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuaFQ9XCIxNFwifSx2LmxhbmcuZXh0ZW5kKFYuYXNuMS5ERVJUZWxldGV4U3RyaW5nLFYuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyksVi5hc24xLkRFUklBNVN0cmluZz1mdW5jdGlvbihlKXtWLmFzbjEuREVSSUE1U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuaFQ9XCIxNlwifSx2LmxhbmcuZXh0ZW5kKFYuYXNuMS5ERVJJQTVTdHJpbmcsVi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxWLmFzbjEuREVSVVRDVGltZT1mdW5jdGlvbihlKXtWLmFzbjEuREVSVVRDVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmhUPVwiMTdcIix0aGlzLnNldEJ5RGF0ZT1mdW5jdGlvbihlKXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5kYXRlPWUsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsXCJ1dGNcIiksdGhpcy5oVj1zdG9oZXgodGhpcy5zKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuZGF0ZSYmdm9pZCAwPT09dGhpcy5zJiYodGhpcy5kYXRlPW5ldyBEYXRlLHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLFwidXRjXCIpLHRoaXMuaFY9c3RvaGV4KHRoaXMucykpLHRoaXMuaFZ9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnN0cj90aGlzLnNldFN0cmluZyhlLnN0cik6XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubWF0Y2goL15bMC05XXsxMn1aJC8pP3RoaXMuc2V0U3RyaW5nKGUpOnZvaWQgMCE9PWUuaGV4P3RoaXMuc2V0U3RyaW5nSGV4KGUuaGV4KTp2b2lkIDAhPT1lLmRhdGUmJnRoaXMuc2V0QnlEYXRlKGUuZGF0ZSkpfSx2LmxhbmcuZXh0ZW5kKFYuYXNuMS5ERVJVVENUaW1lLFYuYXNuMS5ERVJBYnN0cmFjdFRpbWUpLFYuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWU9ZnVuY3Rpb24oZSl7Vi5hc24xLkRFUkdlbmVyYWxpemVkVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmhUPVwiMThcIix0aGlzLndpdGhNaWxsaXM9ITEsdGhpcy5zZXRCeURhdGU9ZnVuY3Rpb24oZSl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuZGF0ZT1lLHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLFwiZ2VuXCIsdGhpcy53aXRoTWlsbGlzKSx0aGlzLmhWPXN0b2hleCh0aGlzLnMpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5kYXRlJiZ2b2lkIDA9PT10aGlzLnMmJih0aGlzLmRhdGU9bmV3IERhdGUsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsXCJnZW5cIix0aGlzLndpdGhNaWxsaXMpLHRoaXMuaFY9c3RvaGV4KHRoaXMucykpLHRoaXMuaFZ9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnN0cj90aGlzLnNldFN0cmluZyhlLnN0cik6XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubWF0Y2goL15bMC05XXsxNH1aJC8pP3RoaXMuc2V0U3RyaW5nKGUpOnZvaWQgMCE9PWUuaGV4P3RoaXMuc2V0U3RyaW5nSGV4KGUuaGV4KTp2b2lkIDAhPT1lLmRhdGUmJnRoaXMuc2V0QnlEYXRlKGUuZGF0ZSksITA9PT1lLm1pbGxpcyYmKHRoaXMud2l0aE1pbGxpcz0hMCkpfSx2LmxhbmcuZXh0ZW5kKFYuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUsVi5hc24xLkRFUkFic3RyYWN0VGltZSksVi5hc24xLkRFUlNlcXVlbmNlPWZ1bmN0aW9uKGUpe1YuYXNuMS5ERVJTZXF1ZW5jZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmhUPVwiMzBcIix0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIix0PTA7dDx0aGlzLmFzbjFBcnJheS5sZW5ndGg7dCsrKXtlKz10aGlzLmFzbjFBcnJheVt0XS5nZXRFbmNvZGVkSGV4KCl9cmV0dXJuIHRoaXMuaFY9ZSx0aGlzLmhWfX0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVSU2VxdWVuY2UsVi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCksVi5hc24xLkRFUlNldD1mdW5jdGlvbihlKXtWLmFzbjEuREVSU2V0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuaFQ9XCIzMVwiLHRoaXMuc29ydEZsYWc9ITAsdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSx0PTA7dDx0aGlzLmFzbjFBcnJheS5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmFzbjFBcnJheVt0XTtlLnB1c2goci5nZXRFbmNvZGVkSGV4KCkpfXJldHVybiAxPT10aGlzLnNvcnRGbGFnJiZlLnNvcnQoKSx0aGlzLmhWPWUuam9pbihcIlwiKSx0aGlzLmhWfSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnNvcnRmbGFnJiYwPT1lLnNvcnRmbGFnJiYodGhpcy5zb3J0RmxhZz0hMSl9LHYubGFuZy5leHRlbmQoVi5hc24xLkRFUlNldCxWLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkKSxWLmFzbjEuREVSVGFnZ2VkT2JqZWN0PWZ1bmN0aW9uKGUpe1YuYXNuMS5ERVJUYWdnZWRPYmplY3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCJhMFwiLHRoaXMuaFY9XCJcIix0aGlzLmlzRXhwbGljaXQ9ITAsdGhpcy5hc24xT2JqZWN0PW51bGwsdGhpcy5zZXRBU04xT2JqZWN0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmhUPXQsdGhpcy5pc0V4cGxpY2l0PWUsdGhpcy5hc24xT2JqZWN0PXIsdGhpcy5pc0V4cGxpY2l0Pyh0aGlzLmhWPXRoaXMuYXNuMU9iamVjdC5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwKToodGhpcy5oVj1udWxsLHRoaXMuaFRMVj1yLmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFY9dGhpcy5oVExWLnJlcGxhY2UoL14uLi8sdCksdGhpcy5pc01vZGlmaWVkPSExKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnRhZyYmKHRoaXMuaFQ9ZS50YWcpLHZvaWQgMCE9PWUuZXhwbGljaXQmJih0aGlzLmlzRXhwbGljaXQ9ZS5leHBsaWNpdCksdm9pZCAwIT09ZS5vYmomJih0aGlzLmFzbjFPYmplY3Q9ZS5vYmosdGhpcy5zZXRBU04xT2JqZWN0KHRoaXMuaXNFeHBsaWNpdCx0aGlzLmhULHRoaXMuYXNuMU9iamVjdCkpKX0sdi5sYW5nLmV4dGVuZChWLmFzbjEuREVSVGFnZ2VkT2JqZWN0LFYuYXNuMS5BU04xT2JqZWN0KTt2YXIgVixxLFcsSj1uZXcgZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHN0b0JBKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkscj0wO3I8ZS5sZW5ndGg7cisrKXRbcl09ZS5jaGFyQ29kZUF0KHIpO3JldHVybiB0fWZ1bmN0aW9uIEJBdG9zKGUpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPGUubGVuZ3RoO3IrKyl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIEJBdG9oZXgoZSl7Zm9yKHZhciB0PVwiXCIscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLnRvU3RyaW5nKDE2KTsxPT1pLmxlbmd0aCYmKGk9XCIwXCIraSksdCs9aX1yZXR1cm4gdH1mdW5jdGlvbiBzdG9oZXgoZSl7cmV0dXJuIEJBdG9oZXgoc3RvQkEoZSkpfWZ1bmN0aW9uIGI2NHRvYjY0dShlKXtyZXR1cm4gZT0oZT0oZT1lLnJlcGxhY2UoL1xcPS9nLFwiXCIpKS5yZXBsYWNlKC9cXCsvZyxcIi1cIikpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKX1mdW5jdGlvbiBiNjR1dG9iNjQoZSl7cmV0dXJuIGUubGVuZ3RoJTQ9PTI/ZSs9XCI9PVwiOmUubGVuZ3RoJTQ9PTMmJihlKz1cIj1cIiksZT0oZT1lLnJlcGxhY2UoLy0vZyxcIitcIikpLnJlcGxhY2UoL18vZyxcIi9cIil9ZnVuY3Rpb24gaGV4dG9iNjR1KGUpe3JldHVybiBlLmxlbmd0aCUyPT0xJiYoZT1cIjBcIitlKSxiNjR0b2I2NHUoaGV4MmI2NChlKSl9ZnVuY3Rpb24gYjY0dXRvaGV4KGUpe3JldHVybiBiNjR0b2hleChiNjR1dG9iNjQoZSkpfWZ1bmN0aW9uIHV0Zjh0b2hleChlKXtyZXR1cm4gdXJpY21wdG9oZXgoZW5jb2RlVVJJQ29tcG9uZW50QWxsKGUpKX1mdW5jdGlvbiBoZXh0b3V0ZjgoZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoZXh0b3VyaWNtcChlKSl9ZnVuY3Rpb24gaGV4dG9yc3RyKGUpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPGUubGVuZ3RoLTE7cis9Mil0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUuc3Vic3RyKHIsMiksMTYpKTtyZXR1cm4gdH1mdW5jdGlvbiByc3RydG9oZXgoZSl7Zm9yKHZhciB0PVwiXCIscj0wO3I8ZS5sZW5ndGg7cisrKXQrPShcIjBcIitlLmNoYXJDb2RlQXQocikudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIHR9ZnVuY3Rpb24gaGV4dG9iNjQoZSl7cmV0dXJuIGhleDJiNjQoZSl9ZnVuY3Rpb24gaGV4dG9iNjRubChlKXt2YXIgdD1oZXh0b2I2NChlKS5yZXBsYWNlKC8oLns2NH0pL2csXCIkMVxcclxcblwiKTtyZXR1cm4gdD10LnJlcGxhY2UoL1xcclxcbiQvLFwiXCIpfWZ1bmN0aW9uIGI2NG5sdG9oZXgoZSl7cmV0dXJuIGI2NHRvaGV4KGUucmVwbGFjZSgvW14wLTlBLVphLXpcXC8rPV0qL2csXCJcIikpfWZ1bmN0aW9uIGhleHRvcGVtKGUsdCl7cmV0dXJuXCItLS0tLUJFR0lOIFwiK3QrXCItLS0tLVxcclxcblwiK2hleHRvYjY0bmwoZSkrXCJcXHJcXG4tLS0tLUVORCBcIit0K1wiLS0tLS1cXHJcXG5cIn1mdW5jdGlvbiBwZW10b2hleChlLHQpe2lmKC0xPT1lLmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKSl0aHJvd1wiY2FuJ3QgZmluZCBQRU0gaGVhZGVyOiBcIit0O3JldHVybiBiNjRubHRvaGV4KGU9dm9pZCAwIT09dD8oZT1lLnJlcGxhY2UoXCItLS0tLUJFR0lOIFwiK3QrXCItLS0tLVwiLFwiXCIpKS5yZXBsYWNlKFwiLS0tLS1FTkQgXCIrdCtcIi0tLS0tXCIsXCJcIik6KGU9ZS5yZXBsYWNlKC8tLS0tLUJFR0lOIFteLV0rLS0tLS0vLFwiXCIpKS5yZXBsYWNlKC8tLS0tLUVORCBbXi1dKy0tLS0tLyxcIlwiKSl9ZnVuY3Rpb24genVsdXRvbXNlYyhlKXt2YXIgdCxyLGksbixvLHMsYSx1LGMsaCxsO2lmKGw9ZS5tYXRjaCgvXihcXGR7Mn18XFxkezR9KShcXGRcXGQpKFxcZFxcZCkoXFxkXFxkKShcXGRcXGQpKFxcZFxcZCkofFxcLlxcZCspWiQvKSlyZXR1cm4gdT1sWzFdLHQ9cGFyc2VJbnQodSksMj09PXUubGVuZ3RoJiYoNTA8PXQmJnQ8MTAwP3Q9MTkwMCt0OjA8PXQmJnQ8NTAmJih0PTJlMyt0KSkscj1wYXJzZUludChsWzJdKS0xLGk9cGFyc2VJbnQobFszXSksbj1wYXJzZUludChsWzRdKSxvPXBhcnNlSW50KGxbNV0pLHM9cGFyc2VJbnQobFs2XSksYT0wLFwiXCIhPT0oYz1sWzddKSYmKGg9KGMuc3Vic3RyKDEpK1wiMDBcIikuc3Vic3RyKDAsMyksYT1wYXJzZUludChoKSksRGF0ZS5VVEModCxyLGksbixvLHMsYSk7dGhyb3dcInVuc3VwcG9ydGVkIHp1bHUgZm9ybWF0OiBcIitlfWZ1bmN0aW9uIHp1bHV0b3NlYyhlKXtyZXR1cm5+fih6dWx1dG9tc2VjKGUpLzFlMyl9ZnVuY3Rpb24gdXJpY21wdG9oZXgoZSl7cmV0dXJuIGUucmVwbGFjZSgvJS9nLFwiXCIpfWZ1bmN0aW9uIGhleHRvdXJpY21wKGUpe3JldHVybiBlLnJlcGxhY2UoLyguLikvZyxcIiUkMVwiKX1mdW5jdGlvbiBpcHY2dG9oZXgoZSl7dmFyIHQ9XCJtYWxmb3JtZWQgSVB2NiBhZGRyZXNzXCI7aWYoIWUubWF0Y2goL15bMC05QS1GYS1mOl0rJC8pKXRocm93IHQ7dmFyIHI9KGU9ZS50b0xvd2VyQ2FzZSgpKS5zcGxpdChcIjpcIikubGVuZ3RoLTE7aWYocjwyKXRocm93IHQ7dmFyIGk9XCI6XCIucmVwZWF0KDctcisyKSxuPShlPWUucmVwbGFjZShcIjo6XCIsaSkpLnNwbGl0KFwiOlwiKTtpZig4IT1uLmxlbmd0aCl0aHJvdyB0O2Zvcih2YXIgbz0wO288ODtvKyspbltvXT0oXCIwMDAwXCIrbltvXSkuc2xpY2UoLTQpO3JldHVybiBuLmpvaW4oXCJcIil9ZnVuY3Rpb24gaGV4dG9pcHY2KGUpe2lmKCFlLm1hdGNoKC9eWzAtOUEtRmEtZl17MzJ9JC8pKXRocm93XCJtYWxmb3JtZWQgSVB2NiBhZGRyZXNzIG9jdGV0XCI7Zm9yKHZhciB0PShlPWUudG9Mb3dlckNhc2UoKSkubWF0Y2goLy57MSw0fS9nKSxyPTA7cjw4O3IrKyl0W3JdPXRbcl0ucmVwbGFjZSgvXjArLyxcIlwiKSxcIlwiPT10W3JdJiYodFtyXT1cIjBcIik7dmFyIGk9KGU9XCI6XCIrdC5qb2luKFwiOlwiKStcIjpcIikubWF0Y2goLzooMDopezIsfS9nKTtpZihudWxsPT09aSlyZXR1cm4gZS5zbGljZSgxLC0xKTt2YXIgbj1cIlwiO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspaVtyXS5sZW5ndGg+bi5sZW5ndGgmJihuPWlbcl0pO3JldHVybihlPWUucmVwbGFjZShuLFwiOjpcIikpLnNsaWNlKDEsLTEpfWZ1bmN0aW9uIGhleHRvaXAoZSl7dmFyIHQ9XCJtYWxmb3JtZWQgaGV4IHZhbHVlXCI7aWYoIWUubWF0Y2goL14oWzAtOUEtRmEtZl1bMC05QS1GYS1mXSl7MSx9JC8pKXRocm93IHQ7aWYoOCE9ZS5sZW5ndGgpcmV0dXJuIDMyPT1lLmxlbmd0aD9oZXh0b2lwdjYoZSk6ZTt0cnl7cmV0dXJuIHBhcnNlSW50KGUuc3Vic3RyKDAsMiksMTYpK1wiLlwiK3BhcnNlSW50KGUuc3Vic3RyKDIsMiksMTYpK1wiLlwiK3BhcnNlSW50KGUuc3Vic3RyKDQsMiksMTYpK1wiLlwiK3BhcnNlSW50KGUuc3Vic3RyKDYsMiksMTYpfWNhdGNoKGUpe3Rocm93IHR9fWZ1bmN0aW9uIGVuY29kZVVSSUNvbXBvbmVudEFsbChlKXtmb3IodmFyIHQ9ZW5jb2RlVVJJQ29tcG9uZW50KGUpLHI9XCJcIixpPTA7aTx0Lmxlbmd0aDtpKyspXCIlXCI9PXRbaV0/KHIrPXQuc3Vic3RyKGksMyksaSs9Mik6cj1yK1wiJVwiK3N0b2hleCh0W2ldKTtyZXR1cm4gcn1mdW5jdGlvbiBoZXh0b3Bvc2hleChlKXtyZXR1cm4gZS5sZW5ndGglMj09MT9cIjBcIitlOmUuc3Vic3RyKDAsMSk+XCI3XCI/XCIwMFwiK2U6ZX1KLmdldExibGVuPWZ1bmN0aW9uKGUsdCl7aWYoXCI4XCIhPWUuc3Vic3RyKHQrMiwxKSlyZXR1cm4gMTt2YXIgcj1wYXJzZUludChlLnN1YnN0cih0KzMsMSkpO3JldHVybiAwPT1yPy0xOjA8ciYmcjwxMD9yKzE6LTJ9LEouZ2V0TD1mdW5jdGlvbihlLHQpe3ZhciByPUouZ2V0TGJsZW4oZSx0KTtyZXR1cm4gcjwxP1wiXCI6ZS5zdWJzdHIodCsyLDIqcil9LEouZ2V0VmJsZW49ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm5cIlwiPT0ocj1KLmdldEwoZSx0KSk/LTE6KFwiOFwiPT09ci5zdWJzdHIoMCwxKT9uZXcgQmlnSW50ZWdlcihyLnN1YnN0cigyKSwxNik6bmV3IEJpZ0ludGVnZXIociwxNikpLmludFZhbHVlKCl9LEouZ2V0VmlkeD1mdW5jdGlvbihlLHQpe3ZhciByPUouZ2V0TGJsZW4oZSx0KTtyZXR1cm4gcjwwP3I6dCsyKihyKzEpfSxKLmdldFY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1KLmdldFZpZHgoZSx0KSxpPUouZ2V0VmJsZW4oZSx0KTtyZXR1cm4gZS5zdWJzdHIociwyKmkpfSxKLmdldFRMVj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnN1YnN0cih0LDIpK0ouZ2V0TChlLHQpK0ouZ2V0VihlLHQpfSxKLmdldE5leHRTaWJsaW5nSWR4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEouZ2V0VmlkeChlLHQpKzIqSi5nZXRWYmxlbihlLHQpfSxKLmdldENoaWxkSWR4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9SixpPW5ldyBBcnJheSxuPXIuZ2V0VmlkeChlLHQpO1wiMDNcIj09ZS5zdWJzdHIodCwyKT9pLnB1c2gobisyKTppLnB1c2gobik7Zm9yKHZhciBvPXIuZ2V0VmJsZW4oZSx0KSxzPW4sYT0wOzspe3ZhciB1PXIuZ2V0TmV4dFNpYmxpbmdJZHgoZSxzKTtpZihudWxsPT11fHx1LW4+PTIqbylicmVhaztpZihhPj0yMDApYnJlYWs7aS5wdXNoKHUpLHM9dSxhKyt9cmV0dXJuIGl9LEouZ2V0TnRoQ2hpbGRJZHg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBKLmdldENoaWxkSWR4KGUsdClbcl19LEouZ2V0SWR4YnlMaXN0PWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG8scz1KO2lmKDA9PXIubGVuZ3RoKXtpZih2b2lkIDAhPT1pJiZlLnN1YnN0cih0LDIpIT09aSl0aHJvd1wiY2hlY2tpbmcgdGFnIGRvZXNuJ3QgbWF0Y2g6IFwiK2Uuc3Vic3RyKHQsMikrXCIhPVwiK2k7cmV0dXJuIHR9cmV0dXJuIG49ci5zaGlmdCgpLG89cy5nZXRDaGlsZElkeChlLHQpLHMuZ2V0SWR4YnlMaXN0KGUsb1tuXSxyLGkpfSxKLmdldFRMVmJ5TGlzdD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1KLG89bi5nZXRJZHhieUxpc3QoZSx0LHIpO2lmKHZvaWQgMD09PW8pdGhyb3dcImNhbid0IGZpbmQgbnRoTGlzdCBvYmplY3RcIjtpZih2b2lkIDAhPT1pJiZlLnN1YnN0cihvLDIpIT1pKXRocm93XCJjaGVja2luZyB0YWcgZG9lc24ndCBtYXRjaDogXCIrZS5zdWJzdHIobywyKStcIiE9XCIraTtyZXR1cm4gbi5nZXRUTFYoZSxvKX0sSi5nZXRWYnlMaXN0PWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG8scyxhPUo7aWYodm9pZCAwPT09KG89YS5nZXRJZHhieUxpc3QoZSx0LHIsaSkpKXRocm93XCJjYW4ndCBmaW5kIG50aExpc3Qgb2JqZWN0XCI7cmV0dXJuIHM9YS5nZXRWKGUsbyksITA9PT1uJiYocz1zLnN1YnN0cigyKSksc30sSi5oZXh0b29pZHN0cj1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIGUubGVuZ3RoPj10P2U6bmV3IEFycmF5KHQtZS5sZW5ndGgrMSkuam9pbihcIjBcIikrZX0scj1bXSxpPWUuc3Vic3RyKDAsMiksbj1wYXJzZUludChpLDE2KTtyWzBdPW5ldyBTdHJpbmcoTWF0aC5mbG9vcihuLzQwKSksclsxXT1uZXcgU3RyaW5nKG4lNDApO2Zvcih2YXIgbz1lLnN1YnN0cigyKSxzPVtdLGE9MDthPG8ubGVuZ3RoLzI7YSsrKXMucHVzaChwYXJzZUludChvLnN1YnN0cigyKmEsMiksMTYpKTt2YXIgdT1bXSxjPVwiXCI7Zm9yKGE9MDthPHMubGVuZ3RoO2ErKykxMjgmc1thXT9jKz10KCgxMjcmc1thXSkudG9TdHJpbmcoMiksNyk6KGMrPXQoKDEyNyZzW2FdKS50b1N0cmluZygyKSw3KSx1LnB1c2gobmV3IFN0cmluZyhwYXJzZUludChjLDIpKSksYz1cIlwiKTt2YXIgaD1yLmpvaW4oXCIuXCIpO3JldHVybiB1Lmxlbmd0aD4wJiYoaD1oK1wiLlwiK3Uuam9pbihcIi5cIikpLGh9LEouZHVtcD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1KLG89bi5nZXRWLHM9bi5kdW1wLGE9bi5nZXRDaGlsZElkeCx1PWU7ZSBpbnN0YW5jZW9mIFYuYXNuMS5BU04xT2JqZWN0JiYodT1lLmdldEVuY29kZWRIZXgoKSk7dmFyIGM9ZnVuY3Rpb24gcShlLHQpe3JldHVybiBlLmxlbmd0aDw9Mip0P2U6ZS5zdWJzdHIoMCx0KStcIi4uKHRvdGFsIFwiK2UubGVuZ3RoLzIrXCJieXRlcykuLlwiK2Uuc3Vic3RyKGUubGVuZ3RoLXQsdCl9O3ZvaWQgMD09PXQmJih0PXtvbW1pdF9sb25nX29jdGV0OjMyfSksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09aSYmKGk9XCJcIik7dmFyIGg9dC5vbW1pdF9sb25nX29jdGV0O2lmKFwiMDFcIj09dS5zdWJzdHIociwyKSlyZXR1cm5cIjAwXCI9PShsPW8odSxyKSk/aStcIkJPT0xFQU4gRkFMU0VcXG5cIjppK1wiQk9PTEVBTiBUUlVFXFxuXCI7aWYoXCIwMlwiPT11LnN1YnN0cihyLDIpKXJldHVybiBpK1wiSU5URUdFUiBcIitjKGw9byh1LHIpLGgpK1wiXFxuXCI7aWYoXCIwM1wiPT11LnN1YnN0cihyLDIpKXJldHVybiBpK1wiQklUU1RSSU5HIFwiK2MobD1vKHUsciksaCkrXCJcXG5cIjtpZihcIjA0XCI9PXUuc3Vic3RyKHIsMikpe3ZhciBsPW8odSxyKTtpZihuLmlzQVNOMUhFWChsKSl7dmFyIGY9aStcIk9DVEVUU1RSSU5HLCBlbmNhcHN1bGF0ZXNcXG5cIjtyZXR1cm4gZis9cyhsLHQsMCxpK1wiICBcIil9cmV0dXJuIGkrXCJPQ1RFVFNUUklORyBcIitjKGwsaCkrXCJcXG5cIn1pZihcIjA1XCI9PXUuc3Vic3RyKHIsMikpcmV0dXJuIGkrXCJOVUxMXFxuXCI7aWYoXCIwNlwiPT11LnN1YnN0cihyLDIpKXt2YXIgZz1vKHUscikscD1WLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQoZyksZD1WLmFzbjEueDUwOS5PSUQub2lkMm5hbWUocCksdj1wLnJlcGxhY2UoL1xcLi9nLFwiIFwiKTtyZXR1cm5cIlwiIT1kP2krXCJPYmplY3RJZGVudGlmaWVyIFwiK2QrXCIgKFwiK3YrXCIpXFxuXCI6aStcIk9iamVjdElkZW50aWZpZXIgKFwiK3YrXCIpXFxuXCJ9aWYoXCIwY1wiPT11LnN1YnN0cihyLDIpKXJldHVybiBpK1wiVVRGOFN0cmluZyAnXCIraGV4dG91dGY4KG8odSxyKSkrXCInXFxuXCI7aWYoXCIxM1wiPT11LnN1YnN0cihyLDIpKXJldHVybiBpK1wiUHJpbnRhYmxlU3RyaW5nICdcIitoZXh0b3V0Zjgobyh1LHIpKStcIidcXG5cIjtpZihcIjE0XCI9PXUuc3Vic3RyKHIsMikpcmV0dXJuIGkrXCJUZWxldGV4U3RyaW5nICdcIitoZXh0b3V0Zjgobyh1LHIpKStcIidcXG5cIjtpZihcIjE2XCI9PXUuc3Vic3RyKHIsMikpcmV0dXJuIGkrXCJJQTVTdHJpbmcgJ1wiK2hleHRvdXRmOChvKHUscikpK1wiJ1xcblwiO2lmKFwiMTdcIj09dS5zdWJzdHIociwyKSlyZXR1cm4gaStcIlVUQ1RpbWUgXCIraGV4dG91dGY4KG8odSxyKSkrXCJcXG5cIjtpZihcIjE4XCI9PXUuc3Vic3RyKHIsMikpcmV0dXJuIGkrXCJHZW5lcmFsaXplZFRpbWUgXCIraGV4dG91dGY4KG8odSxyKSkrXCJcXG5cIjtpZihcIjMwXCI9PXUuc3Vic3RyKHIsMikpe2lmKFwiMzAwMFwiPT11LnN1YnN0cihyLDQpKXJldHVybiBpK1wiU0VRVUVOQ0Uge31cXG5cIjtmPWkrXCJTRVFVRU5DRVxcblwiO3ZhciB5PXQ7aWYoKDI9PShiPWEodSxyKSkubGVuZ3RofHwzPT1iLmxlbmd0aCkmJlwiMDZcIj09dS5zdWJzdHIoYlswXSwyKSYmXCIwNFwiPT11LnN1YnN0cihiW2IubGVuZ3RoLTFdLDIpKXtkPW4ub2lkbmFtZShvKHUsYlswXSkpO3ZhciBtPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpO20ueDUwOUV4dE5hbWU9ZCx5PW19Zm9yKHZhciBTPTA7UzxiLmxlbmd0aDtTKyspZis9cyh1LHksYltTXSxpK1wiICBcIik7cmV0dXJuIGZ9aWYoXCIzMVwiPT11LnN1YnN0cihyLDIpKXtmPWkrXCJTRVRcXG5cIjt2YXIgYj1hKHUscik7Zm9yKFM9MDtTPGIubGVuZ3RoO1MrKylmKz1zKHUsdCxiW1NdLGkrXCIgIFwiKTtyZXR1cm4gZn12YXIgRj1wYXJzZUludCh1LnN1YnN0cihyLDIpLDE2KTtpZigwIT0oMTI4JkYpKXt2YXIgXz0zMSZGO2lmKDAhPSgzMiZGKSl7dmFyIGY9aStcIltcIitfK1wiXVxcblwiO2ZvcihiPWEodSxyKSxTPTA7UzxiLmxlbmd0aDtTKyspZis9cyh1LHQsYltTXSxpK1wiICBcIik7cmV0dXJuIGZ9cmV0dXJuXCI2ODc0NzQ3MFwiPT0obD1vKHUscikpLnN1YnN0cigwLDgpJiYobD1oZXh0b3V0ZjgobCkpLFwic3ViamVjdEFsdE5hbWVcIj09PXQueDUwOUV4dE5hbWUmJjI9PV8mJihsPWhleHRvdXRmOChsKSksZj1pK1wiW1wiK18rXCJdIFwiK2wrXCJcXG5cIn1yZXR1cm4gaStcIlVOS05PV04oXCIrdS5zdWJzdHIociwyKStcIikgXCIrbyh1LHIpK1wiXFxuXCJ9LEouaXNBU04xSEVYPWZ1bmN0aW9uKGUpe3ZhciB0PUo7aWYoZS5sZW5ndGglMj09MSlyZXR1cm4hMTt2YXIgcj10LmdldFZibGVuKGUsMCksaT1lLnN1YnN0cigwLDIpLG49dC5nZXRMKGUsMCk7cmV0dXJuIGUubGVuZ3RoLWkubGVuZ3RoLW4ubGVuZ3RoPT0yKnJ9LEoub2lkbmFtZT1mdW5jdGlvbihlKXt2YXIgdD1WLmFzbjE7Vi5sYW5nLlN0cmluZy5pc0hleChlKSYmKGU9dC5BU04xVXRpbC5vaWRIZXhUb0ludChlKSk7dmFyIHI9dC54NTA5Lk9JRC5vaWQybmFtZShlKTtyZXR1cm5cIlwiPT09ciYmKHI9ZSkscn0sdm9pZCAwIT09ViYmVnx8KFY9e30pLHZvaWQgMCE9PVYubGFuZyYmVi5sYW5nfHwoVi5sYW5nPXt9KSxWLmxhbmcuU3RyaW5nPWZ1bmN0aW9uKCl7fSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpPyhxPWZ1bmN0aW9uIHV0Zjh0b2I2NHUoZSl7cmV0dXJuIGI2NHRvYjY0dShuZXcgaShlLFwidXRmOFwiKS50b1N0cmluZyhcImJhc2U2NFwiKSl9LFc9ZnVuY3Rpb24gYjY0dXRvdXRmOChlKXtyZXR1cm4gbmV3IGkoYjY0dXRvYjY0KGUpLFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmOFwiKX0pOihxPWZ1bmN0aW9uIHV0Zjh0b2I2NHUoZSl7cmV0dXJuIGhleHRvYjY0dSh1cmljbXB0b2hleChlbmNvZGVVUklDb21wb25lbnRBbGwoZSkpKX0sVz1mdW5jdGlvbiBiNjR1dG91dGY4KGUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoaGV4dG91cmljbXAoYjY0dXRvaGV4KGUpKSl9KSxWLmxhbmcuU3RyaW5nLmlzSW50ZWdlcj1mdW5jdGlvbihlKXtyZXR1cm4hIWUubWF0Y2goL15bMC05XSskLyl8fCEhZS5tYXRjaCgvXi1bMC05XSskLyl9LFYubGFuZy5TdHJpbmcuaXNIZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIShlLmxlbmd0aCUyIT0wfHwhZS5tYXRjaCgvXlswLTlhLWZdKyQvKSYmIWUubWF0Y2goL15bMC05QS1GXSskLykpfSxWLmxhbmcuU3RyaW5nLmlzQmFzZTY0PWZ1bmN0aW9uKGUpe3JldHVybiEoIShlPWUucmVwbGFjZSgvXFxzKy9nLFwiXCIpKS5tYXRjaCgvXlswLTlBLVphLXorXFwvXSs9ezAsM30kLyl8fGUubGVuZ3RoJTQhPTApfSxWLmxhbmcuU3RyaW5nLmlzQmFzZTY0VVJMPWZ1bmN0aW9uKGUpe3JldHVybiFlLm1hdGNoKC9bKy89XS8pJiYoZT1iNjR1dG9iNjQoZSksVi5sYW5nLlN0cmluZy5pc0Jhc2U2NChlKSl9LFYubGFuZy5TdHJpbmcuaXNJbnRlZ2VyQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZT1lLnJlcGxhY2UoL1xccysvZyxcIlwiKSkubWF0Y2goL15cXFtbMC05LF0rXFxdJC8pfTt2b2lkIDAhPT1WJiZWfHwoVj17fSksdm9pZCAwIT09Vi5jcnlwdG8mJlYuY3J5cHRvfHwoVi5jcnlwdG89e30pLFYuY3J5cHRvLlV0aWw9bmV3IGZ1bmN0aW9uKCl7dGhpcy5ESUdFU1RJTkZPSEVBRD17c2hhMTpcIjMwMjEzMDA5MDYwNTJiMGUwMzAyMWEwNTAwMDQxNFwiLHNoYTIyNDpcIjMwMmQzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwNDA1MDAwNDFjXCIsc2hhMjU2OlwiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjBcIixzaGEzODQ6XCIzMDQxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDIwNTAwMDQzMFwiLHNoYTUxMjpcIjMwNTEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMzA1MDAwNDQwXCIsbWQyOlwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwMjA1MDAwNDEwXCIsbWQ1OlwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIscmlwZW1kMTYwOlwiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0XCJ9LHRoaXMuREVGQVVMVFBST1ZJREVSPXttZDU6XCJjcnlwdG9qc1wiLHNoYTE6XCJjcnlwdG9qc1wiLHNoYTIyNDpcImNyeXB0b2pzXCIsc2hhMjU2OlwiY3J5cHRvanNcIixzaGEzODQ6XCJjcnlwdG9qc1wiLHNoYTUxMjpcImNyeXB0b2pzXCIscmlwZW1kMTYwOlwiY3J5cHRvanNcIixobWFjbWQ1OlwiY3J5cHRvanNcIixobWFjc2hhMTpcImNyeXB0b2pzXCIsaG1hY3NoYTIyNDpcImNyeXB0b2pzXCIsaG1hY3NoYTI1NjpcImNyeXB0b2pzXCIsaG1hY3NoYTM4NDpcImNyeXB0b2pzXCIsaG1hY3NoYTUxMjpcImNyeXB0b2pzXCIsaG1hY3JpcGVtZDE2MDpcImNyeXB0b2pzXCIsTUQ1d2l0aFJTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMXdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTIyNHdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTI1NndpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTM4NHdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTUxMndpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFJJUEVNRDE2MHdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLE1ENXdpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMXdpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjI0d2l0aEVDRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyNTZ3aXRoRUNEU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTM4NHdpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBNTEyd2l0aEVDRFNBOlwiY3J5cHRvanMvanNyc2FcIixSSVBFTUQxNjB3aXRoRUNEU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTF3aXRoRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyMjR3aXRoRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyNTZ3aXRoRFNBOlwiY3J5cHRvanMvanNyc2FcIixNRDV3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMXdpdGhSU0FhbmRNR0YxOlwiY3J5cHRvanMvanNyc2FcIixTSEEyMjR3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjU2d2l0aFJTQWFuZE1HRjE6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTM4NHdpdGhSU0FhbmRNR0YxOlwiY3J5cHRvanMvanNyc2FcIixTSEE1MTJ3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsUklQRU1EMTYwd2l0aFJTQWFuZE1HRjE6XCJjcnlwdG9qcy9qc3JzYVwifSx0aGlzLkNSWVBUT0pTTUVTU0FHRURJR0VTVE5BTUU9e21kNTp5LmFsZ28uTUQ1LHNoYTE6eS5hbGdvLlNIQTEsc2hhMjI0OnkuYWxnby5TSEEyMjQsc2hhMjU2OnkuYWxnby5TSEEyNTYsc2hhMzg0OnkuYWxnby5TSEEzODQsc2hhNTEyOnkuYWxnby5TSEE1MTIscmlwZW1kMTYwOnkuYWxnby5SSVBFTUQxNjB9LHRoaXMuZ2V0RGlnZXN0SW5mb0hleD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXRoaXMuRElHRVNUSU5GT0hFQURbdF0pdGhyb3dcImFsZyBub3Qgc3VwcG9ydGVkIGluIFV0aWwuRElHRVNUSU5GT0hFQUQ6IFwiK3Q7cmV0dXJuIHRoaXMuRElHRVNUSU5GT0hFQURbdF0rZX0sdGhpcy5nZXRQYWRkZWREaWdlc3RJbmZvSGV4PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmdldERpZ2VzdEluZm9IZXgoZSx0KSxuPXIvNDtpZihpLmxlbmd0aCsyMj5uKXRocm93XCJrZXkgaXMgdG9vIHNob3J0IGZvciBTaWdBbGc6IGtleWxlbj1cIityK1wiLFwiK3Q7Zm9yKHZhciBvPVwiMDAwMVwiLHM9XCIwMFwiK2ksYT1cIlwiLHU9bi1vLmxlbmd0aC1zLmxlbmd0aCxjPTA7Yzx1O2MrPTIpYSs9XCJmZlwiO3JldHVybiBvK2Erc30sdGhpcy5oYXNoU3RyaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBWLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6dH0pLmRpZ2VzdFN0cmluZyhlKX0sdGhpcy5oYXNoSGV4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBWLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6dH0pLmRpZ2VzdEhleChlKX0sdGhpcy5zaGExPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVi5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOlwic2hhMVwiLHByb3Y6XCJjcnlwdG9qc1wifSkuZGlnZXN0U3RyaW5nKGUpfSx0aGlzLnNoYTI1Nj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFYuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpcInNoYTI1NlwiLHByb3Y6XCJjcnlwdG9qc1wifSkuZGlnZXN0U3RyaW5nKGUpfSx0aGlzLnNoYTI1NkhleD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFYuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpcInNoYTI1NlwiLHByb3Y6XCJjcnlwdG9qc1wifSkuZGlnZXN0SGV4KGUpfSx0aGlzLnNoYTUxMj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFYuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpcInNoYTUxMlwiLHByb3Y6XCJjcnlwdG9qc1wifSkuZGlnZXN0U3RyaW5nKGUpfSx0aGlzLnNoYTUxMkhleD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFYuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpcInNoYTUxMlwiLHByb3Y6XCJjcnlwdG9qc1wifSkuZGlnZXN0SGV4KGUpfX0sVi5jcnlwdG8uVXRpbC5tZDU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBWLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJtZDVcIixwcm92OlwiY3J5cHRvanNcIn0pLmRpZ2VzdFN0cmluZyhlKX0sVi5jcnlwdG8uVXRpbC5yaXBlbWQxNjA9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBWLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJyaXBlbWQxNjBcIixwcm92OlwiY3J5cHRvanNcIn0pLmRpZ2VzdFN0cmluZyhlKX0sVi5jcnlwdG8uVXRpbC5TRUNVUkVSQU5ET01HRU49bmV3IFNlY3VyZVJhbmRvbSxWLmNyeXB0by5VdGlsLmdldFJhbmRvbUhleE9mTmJ5dGVzPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShlKTtyZXR1cm4gVi5jcnlwdG8uVXRpbC5TRUNVUkVSQU5ET01HRU4ubmV4dEJ5dGVzKHQpLEJBdG9oZXgodCl9LFYuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlck9mTmJ5dGVzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQmlnSW50ZWdlcihWLmNyeXB0by5VdGlsLmdldFJhbmRvbUhleE9mTmJ5dGVzKGUpLDE2KX0sVi5jcnlwdG8uVXRpbC5nZXRSYW5kb21IZXhPZk5iaXRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUlOCxyPW5ldyBBcnJheSgoZS10KS84KzEpO3JldHVybiBWLmNyeXB0by5VdGlsLlNFQ1VSRVJBTkRPTUdFTi5uZXh0Qnl0ZXMociksclswXT0oMjU1PDx0JjI1NV4yNTUpJnJbMF0sQkF0b2hleChyKX0sVi5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyT2ZOYml0cz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEJpZ0ludGVnZXIoVi5jcnlwdG8uVXRpbC5nZXRSYW5kb21IZXhPZk5iaXRzKGUpLDE2KX0sVi5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyWmVyb1RvTWF4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmJpdExlbmd0aCgpOzspe3ZhciByPVYuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlck9mTmJpdHModCk7aWYoLTEhPWUuY29tcGFyZVRvKHIpKXJldHVybiByfX0sVi5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyTWluVG9NYXg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNvbXBhcmVUbyh0KTtpZigxPT1yKXRocm93XCJiaU1pbiBpcyBncmVhdGVyIHRoYW4gYmlNYXhcIjtpZigwPT1yKXJldHVybiBlO3ZhciBpPXQuc3VidHJhY3QoZSk7cmV0dXJuIFYuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlclplcm9Ub01heChpKS5hZGQoZSl9LFYuY3J5cHRvLk1lc3NhZ2VEaWdlc3Q9ZnVuY3Rpb24oZSl7dGhpcy5zZXRBbGdBbmRQcm92aWRlcj1mdW5jdGlvbihlLHQpe2lmKG51bGwhPT0oZT1WLmNyeXB0by5NZXNzYWdlRGlnZXN0LmdldENhbm9uaWNhbEFsZ05hbWUoZSkpJiZ2b2lkIDA9PT10JiYodD1WLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUltlXSksLTEhPVwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZihlKSYmXCJjcnlwdG9qc1wiPT10KXt0cnl7dGhpcy5tZD1WLmNyeXB0by5VdGlsLkNSWVBUT0pTTUVTU0FHRURJR0VTVE5BTUVbZV0uY3JlYXRlKCl9Y2F0Y2godCl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIitlK1wiL1wiK3R9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24oZSl7dGhpcy5tZC51cGRhdGUoZSl9LHRoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKGUpe3ZhciB0PXkuZW5jLkhleC5wYXJzZShlKTt0aGlzLm1kLnVwZGF0ZSh0KX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZC5maW5hbGl6ZSgpLnRvU3RyaW5nKHkuZW5jLkhleCl9LHRoaXMuZGlnZXN0U3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZVN0cmluZyhlKSx0aGlzLmRpZ2VzdCgpfSx0aGlzLmRpZ2VzdEhleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVIZXgoZSksdGhpcy5kaWdlc3QoKX19aWYoLTEhPVwiOnNoYTI1NjpcIi5pbmRleE9mKGUpJiZcInNqY2xcIj09dCl7dHJ5e3RoaXMubWQ9bmV3IHNqY2wuaGFzaC5zaGEyNTZ9Y2F0Y2godCl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIitlK1wiL1wiK3R9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24oZSl7dGhpcy5tZC51cGRhdGUoZSl9LHRoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKGUpe3ZhciB0PXNqY2wuY29kZWMuaGV4LnRvQml0cyhlKTt0aGlzLm1kLnVwZGF0ZSh0KX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1kLmZpbmFsaXplKCk7cmV0dXJuIHNqY2wuY29kZWMuaGV4LmZyb21CaXRzKGUpfSx0aGlzLmRpZ2VzdFN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVTdHJpbmcoZSksdGhpcy5kaWdlc3QoKX0sdGhpcy5kaWdlc3RIZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlSGV4KGUpLHRoaXMuZGlnZXN0KCl9fX0sdGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnTmFtZStcIi9cIit0aGlzLnByb3ZOYW1lfSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdOYW1lK1wiL1wiK3RoaXMucHJvdk5hbWV9LHRoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dGhyb3dcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnTmFtZStcIi9cIit0aGlzLnByb3ZOYW1lfSx0aGlzLmRpZ2VzdFN0cmluZz1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdOYW1lK1wiL1wiK3RoaXMucHJvdk5hbWV9LHRoaXMuZGlnZXN0SGV4PWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ05hbWUrXCIvXCIrdGhpcy5wcm92TmFtZX0sdm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5hbGcmJih0aGlzLmFsZ05hbWU9ZS5hbGcsdm9pZCAwPT09ZS5wcm92JiYodGhpcy5wcm92TmFtZT1WLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0aGlzLmFsZ05hbWVdKSx0aGlzLnNldEFsZ0FuZFByb3ZpZGVyKHRoaXMuYWxnTmFtZSx0aGlzLnByb3ZOYW1lKSl9LFYuY3J5cHRvLk1lc3NhZ2VEaWdlc3QuZ2V0Q2Fub25pY2FsQWxnTmFtZT1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9KGU9ZS50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKC8tLyxcIlwiKSksZX0sVi5jcnlwdG8uTWVzc2FnZURpZ2VzdC5nZXRIYXNoTGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0PVYuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qscj10LmdldENhbm9uaWNhbEFsZ05hbWUoZSk7aWYodm9pZCAwPT09dC5IQVNITEVOR1RIW3JdKXRocm93XCJub3Qgc3VwcG9ydGVkIGFsZ29yaXRobTogXCIrZTtyZXR1cm4gdC5IQVNITEVOR1RIW3JdfSxWLmNyeXB0by5NZXNzYWdlRGlnZXN0LkhBU0hMRU5HVEg9e21kNToxNixzaGExOjIwLHNoYTIyNDoyOCxzaGEyNTY6MzIsc2hhMzg0OjQ4LHNoYTUxMjo2NCxyaXBlbWQxNjA6MjB9LFYuY3J5cHRvLk1hYz1mdW5jdGlvbihlKXt0aGlzLnNldEFsZ0FuZFByb3ZpZGVyPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09KGU9ZS50b0xvd2VyQ2FzZSgpKSYmKGU9XCJobWFjc2hhMVwiKSxcImhtYWNcIiE9KGU9ZS50b0xvd2VyQ2FzZSgpKS5zdWJzdHIoMCw0KSl0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgdW5zdXBwb3J0ZWQgSE1BQyBhbGc6IFwiK2U7dm9pZCAwPT09dCYmKHQ9Vi5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbZV0pLHRoaXMuYWxnUHJvdj1lK1wiL1wiK3Q7dmFyIHI9ZS5zdWJzdHIoNCk7aWYoLTEhPVwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZihyKSYmXCJjcnlwdG9qc1wiPT10KXt0cnl7dmFyIGk9Vi5jcnlwdG8uVXRpbC5DUllQVE9KU01FU1NBR0VESUdFU1ROQU1FW3JdO3RoaXMubWFjPXkuYWxnby5ITUFDLmNyZWF0ZShpLHRoaXMucGFzcyl9Y2F0Y2goZSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGhhc2hBbGc9XCIrcitcIi9cIitlfXRoaXMudXBkYXRlU3RyaW5nPWZ1bmN0aW9uKGUpe3RoaXMubWFjLnVwZGF0ZShlKX0sdGhpcy51cGRhdGVIZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9eS5lbmMuSGV4LnBhcnNlKGUpO3RoaXMubWFjLnVwZGF0ZSh0KX0sdGhpcy5kb0ZpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFjLmZpbmFsaXplKCkudG9TdHJpbmcoeS5lbmMuSGV4KX0sdGhpcy5kb0ZpbmFsU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZVN0cmluZyhlKSx0aGlzLmRvRmluYWwoKX0sdGhpcy5kb0ZpbmFsSGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZUhleChlKSx0aGlzLmRvRmluYWwoKX19fSx0aGlzLnVwZGF0ZVN0cmluZz1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdQcm92fSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdQcm92fSx0aGlzLmRvRmluYWw9ZnVuY3Rpb24oKXt0aHJvd1wiZGlnZXN0KCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdQcm92fSx0aGlzLmRvRmluYWxTdHJpbmc9ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnUHJvdn0sdGhpcy5kb0ZpbmFsSGV4PWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ1Byb3Z9LHRoaXMuc2V0UGFzc3dvcmQ9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciB0PWU7cmV0dXJuIGUubGVuZ3RoJTIhPTEmJmUubWF0Y2goL15bMC05QS1GYS1mXSskLyl8fCh0PXJzdHJ0b2hleChlKSksdm9pZCh0aGlzLnBhc3M9eS5lbmMuSGV4LnBhcnNlKHQpKX1pZihcIm9iamVjdFwiIT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOm4oZSkpKXRocm93XCJLSlVSLmNyeXB0by5NYWMgdW5zdXBwb3J0ZWQgcGFzc3dvcmQgdHlwZTogXCIrZTt0PW51bGw7aWYodm9pZCAwIT09ZS5oZXgpe2lmKGUuaGV4Lmxlbmd0aCUyIT0wfHwhZS5oZXgubWF0Y2goL15bMC05QS1GYS1mXSskLykpdGhyb3dcIk1hYzogd3JvbmcgaGV4IHBhc3N3b3JkOiBcIitlLmhleDt0PWUuaGV4fWlmKHZvaWQgMCE9PWUudXRmOCYmKHQ9dXRmOHRvaGV4KGUudXRmOCkpLHZvaWQgMCE9PWUucnN0ciYmKHQ9cnN0cnRvaGV4KGUucnN0cikpLHZvaWQgMCE9PWUuYjY0JiYodD1iNjR0b2hleChlLmI2NCkpLHZvaWQgMCE9PWUuYjY0dSYmKHQ9YjY0dXRvaGV4KGUuYjY0dSkpLG51bGw9PXQpdGhyb3dcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIitlO3RoaXMucGFzcz15LmVuYy5IZXgucGFyc2UodCl9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnBhc3MmJnRoaXMuc2V0UGFzc3dvcmQoZS5wYXNzKSx2b2lkIDAhPT1lLmFsZyYmKHRoaXMuYWxnTmFtZT1lLmFsZyx2b2lkIDA9PT1lLnByb3YmJih0aGlzLnByb3ZOYW1lPVYuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RoaXMuYWxnTmFtZV0pLHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLHRoaXMucHJvdk5hbWUpKSl9LFYuY3J5cHRvLlNpZ25hdHVyZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKHRoaXMuX3NldEFsZ05hbWVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hbGdOYW1lLm1hdGNoKC9eKC4rKXdpdGgoLispJC8pO2UmJih0aGlzLm1kQWxnTmFtZT1lWzFdLnRvTG93ZXJDYXNlKCksdGhpcy5wdWJrZXlBbGdOYW1lPWVbMl0udG9Mb3dlckNhc2UoKSl9LHRoaXMuX3plcm9QYWRkaW5nT2ZTaWduYXR1cmU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9XCJcIixpPXQvNC1lLmxlbmd0aCxuPTA7bjxpO24rKylyKz1cIjBcIjtyZXR1cm4gcitlfSx0aGlzLnNldEFsZ0FuZFByb3ZpZGVyPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fc2V0QWxnTmFtZXMoKSxcImNyeXB0b2pzL2pzcnNhXCIhPXQpdGhyb3dcInByb3ZpZGVyIG5vdCBzdXBwb3J0ZWQ6IFwiK3Q7aWYoLTEhPVwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZih0aGlzLm1kQWxnTmFtZSkpe3RyeXt0aGlzLm1kPW5ldyBWLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6dGhpcy5tZEFsZ05hbWV9KX1jYXRjaChlKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK3RoaXMubWRBbGdOYW1lK1wiL1wiK2V9dGhpcy5pbml0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDt0cnl7cj12b2lkIDA9PT10P3ouZ2V0S2V5KGUpOnouZ2V0S2V5KGUsdCl9Y2F0Y2goZSl7dGhyb3dcImluaXQgZmFpbGVkOlwiK2V9aWYoITA9PT1yLmlzUHJpdmF0ZSl0aGlzLnBydktleT1yLHRoaXMuc3RhdGU9XCJTSUdOXCI7ZWxzZXtpZighMCE9PXIuaXNQdWJsaWMpdGhyb3dcImluaXQgZmFpbGVkLjpcIityO3RoaXMucHViS2V5PXIsdGhpcy5zdGF0ZT1cIlZFUklGWVwifX0sdGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24oZSl7dGhpcy5tZC51cGRhdGVTdHJpbmcoZSl9LHRoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKGUpe3RoaXMubWQudXBkYXRlSGV4KGUpfSx0aGlzLnNpZ249ZnVuY3Rpb24oKXtpZih0aGlzLnNIYXNoSGV4PXRoaXMubWQuZGlnZXN0KCksdm9pZCAwIT09dGhpcy5lY3BydmhleCYmdm9pZCAwIT09dGhpcy5lY2N1cnZlbmFtZSl7dmFyIGU9bmV3IFYuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp0aGlzLmVjY3VydmVuYW1lfSk7dGhpcy5oU2lnbj1lLnNpZ25IZXgodGhpcy5zSGFzaEhleCx0aGlzLmVjcHJ2aGV4KX1lbHNlIGlmKHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgUlNBS2V5JiZcInJzYWFuZG1nZjFcIj09PXRoaXMucHVia2V5QWxnTmFtZSl0aGlzLmhTaWduPXRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2hQU1ModGhpcy5zSGFzaEhleCx0aGlzLm1kQWxnTmFtZSx0aGlzLnBzc1NhbHRMZW4pO2Vsc2UgaWYodGhpcy5wcnZLZXkgaW5zdGFuY2VvZiBSU0FLZXkmJlwicnNhXCI9PT10aGlzLnB1YmtleUFsZ05hbWUpdGhpcy5oU2lnbj10aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsdGhpcy5tZEFsZ05hbWUpO2Vsc2UgaWYodGhpcy5wcnZLZXkgaW5zdGFuY2VvZiBWLmNyeXB0by5FQ0RTQSl0aGlzLmhTaWduPXRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCk7ZWxzZXtpZighKHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgVi5jcnlwdG8uRFNBKSl0aHJvd1wiU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGc6IFwiK3RoaXMucHVia2V5QWxnTmFtZTt0aGlzLmhTaWduPXRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCl9cmV0dXJuIHRoaXMuaFNpZ259LHRoaXMuc2lnblN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVTdHJpbmcoZSksdGhpcy5zaWduKCl9LHRoaXMuc2lnbkhleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVIZXgoZSksdGhpcy5zaWduKCl9LHRoaXMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHRoaXMuc0hhc2hIZXg9dGhpcy5tZC5kaWdlc3QoKSx2b2lkIDAhPT10aGlzLmVjcHViaGV4JiZ2b2lkIDAhPT10aGlzLmVjY3VydmVuYW1lKXJldHVybiBuZXcgVi5jcnlwdG8uRUNEU0Eoe2N1cnZlOnRoaXMuZWNjdXJ2ZW5hbWV9KS52ZXJpZnlIZXgodGhpcy5zSGFzaEhleCxlLHRoaXMuZWNwdWJoZXgpO2lmKHRoaXMucHViS2V5IGluc3RhbmNlb2YgUlNBS2V5JiZcInJzYWFuZG1nZjFcIj09PXRoaXMucHVia2V5QWxnTmFtZSlyZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTKHRoaXMuc0hhc2hIZXgsZSx0aGlzLm1kQWxnTmFtZSx0aGlzLnBzc1NhbHRMZW4pO2lmKHRoaXMucHViS2V5IGluc3RhbmNlb2YgUlNBS2V5JiZcInJzYVwiPT09dGhpcy5wdWJrZXlBbGdOYW1lKXJldHVybiB0aGlzLnB1YktleS52ZXJpZnlXaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCxlKTtpZih2b2lkIDAhPT1WLmNyeXB0by5FQ0RTQSYmdGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBWLmNyeXB0by5FQ0RTQSlyZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsZSk7aWYodm9pZCAwIT09Vi5jcnlwdG8uRFNBJiZ0aGlzLnB1YktleSBpbnN0YW5jZW9mIFYuY3J5cHRvLkRTQSlyZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsZSk7dGhyb3dcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6IFwiK3RoaXMucHVia2V5QWxnTmFtZX19fSx0aGlzLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aHJvd1wiaW5pdChrZXksIHBhc3MpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy51cGRhdGVIZXg9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7dGhyb3dcInNpZ24oKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYWxnUHJvdk5hbWV9LHRoaXMuc2lnblN0cmluZz1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmFsZ1Byb3ZOYW1lfSx0aGlzLnNpZ25IZXg9ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24oZSl7dGhyb3dcInZlcmlmeShoU2lnVmFsKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYWxnUHJvdk5hbWV9LHRoaXMuaW5pdFBhcmFtcz1lLHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLmFsZyYmKHRoaXMuYWxnTmFtZT1lLmFsZyx2b2lkIDA9PT1lLnByb3Y/dGhpcy5wcm92TmFtZT1WLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0aGlzLmFsZ05hbWVdOnRoaXMucHJvdk5hbWU9ZS5wcm92LHRoaXMuYWxnUHJvdk5hbWU9dGhpcy5hbGdOYW1lK1wiOlwiK3RoaXMucHJvdk5hbWUsdGhpcy5zZXRBbGdBbmRQcm92aWRlcih0aGlzLmFsZ05hbWUsdGhpcy5wcm92TmFtZSksdGhpcy5fc2V0QWxnTmFtZXMoKSksdm9pZCAwIT09ZS5wc3NzYWx0bGVuJiYodGhpcy5wc3NTYWx0TGVuPWUucHNzc2FsdGxlbiksdm9pZCAwIT09ZS5wcnZrZXlwZW0pKXtpZih2b2lkIDAhPT1lLnBydmtleXBhcyl0aHJvd1wiYm90aCBwcnZrZXlwZW0gYW5kIHBydmtleXBhcyBwYXJhbWV0ZXJzIG5vdCBzdXBwb3J0ZWRcIjt0cnl7dD16LmdldEtleShlLnBydmtleXBlbSk7dGhpcy5pbml0KHQpfWNhdGNoKGUpe3Rocm93XCJmYXRhbCBlcnJvciB0byBsb2FkIHBlbSBwcml2YXRlIGtleTogXCIrZX19fSxWLmNyeXB0by5DaXBoZXI9ZnVuY3Rpb24oZSl7fSxWLmNyeXB0by5DaXBoZXIuZW5jcnlwdD1mdW5jdGlvbihlLHQscil7aWYodCBpbnN0YW5jZW9mIFJTQUtleSYmdC5pc1B1YmxpYyl7dmFyIGk9Vi5jcnlwdG8uQ2lwaGVyLmdldEFsZ0J5S2V5QW5kTmFtZSh0LHIpO2lmKFwiUlNBXCI9PT1pKXJldHVybiB0LmVuY3J5cHQoZSk7aWYoXCJSU0FPQUVQXCI9PT1pKXJldHVybiB0LmVuY3J5cHRPQUVQKGUsXCJzaGExXCIpO3ZhciBuPWkubWF0Y2goL15SU0FPQUVQKFxcZCspJC8pO2lmKG51bGwhPT1uKXJldHVybiB0LmVuY3J5cHRPQUVQKGUsXCJzaGFcIituWzFdKTt0aHJvd1wiQ2lwaGVyLmVuY3J5cHQ6IHVuc3VwcG9ydGVkIGFsZ29yaXRobSBmb3IgUlNBS2V5OiBcIityfXRocm93XCJDaXBoZXIuZW5jcnlwdDogdW5zdXBwb3J0ZWQga2V5IG9yIGFsZ29yaXRobVwifSxWLmNyeXB0by5DaXBoZXIuZGVjcnlwdD1mdW5jdGlvbihlLHQscil7aWYodCBpbnN0YW5jZW9mIFJTQUtleSYmdC5pc1ByaXZhdGUpe3ZhciBpPVYuY3J5cHRvLkNpcGhlci5nZXRBbGdCeUtleUFuZE5hbWUodCxyKTtpZihcIlJTQVwiPT09aSlyZXR1cm4gdC5kZWNyeXB0KGUpO2lmKFwiUlNBT0FFUFwiPT09aSlyZXR1cm4gdC5kZWNyeXB0T0FFUChlLFwic2hhMVwiKTt2YXIgbj1pLm1hdGNoKC9eUlNBT0FFUChcXGQrKSQvKTtpZihudWxsIT09bilyZXR1cm4gdC5kZWNyeXB0T0FFUChlLFwic2hhXCIrblsxXSk7dGhyb3dcIkNpcGhlci5kZWNyeXB0OiB1bnN1cHBvcnRlZCBhbGdvcml0aG0gZm9yIFJTQUtleTogXCIrcn10aHJvd1wiQ2lwaGVyLmRlY3J5cHQ6IHVuc3VwcG9ydGVkIGtleSBvciBhbGdvcml0aG1cIn0sVi5jcnlwdG8uQ2lwaGVyLmdldEFsZ0J5S2V5QW5kTmFtZT1mdW5jdGlvbihlLHQpe2lmKGUgaW5zdGFuY2VvZiBSU0FLZXkpe2lmKC0xIT1cIjpSU0E6UlNBT0FFUDpSU0FPQUVQMjI0OlJTQU9BRVAyNTY6UlNBT0FFUDM4NDpSU0FPQUVQNTEyOlwiLmluZGV4T2YodCkpcmV0dXJuIHQ7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpcmV0dXJuXCJSU0FcIjt0aHJvd1wiZ2V0QWxnQnlLZXlBbmROYW1lOiBub3Qgc3VwcG9ydGVkIGFsZ29yaXRobSBuYW1lIGZvciBSU0FLZXk6IFwiK3R9dGhyb3dcImdldEFsZ0J5S2V5QW5kTmFtZTogbm90IHN1cHBvcnRlZCBhbGdvcml0aG0gbmFtZTogXCIrdH0sVi5jcnlwdG8uT0lEPW5ldyBmdW5jdGlvbigpe3RoaXMub2lkaGV4Mm5hbWU9e1wiMmE4NjQ4ODZmNzBkMDEwMTAxXCI6XCJyc2FFbmNyeXB0aW9uXCIsXCIyYTg2NDhjZTNkMDIwMVwiOlwiZWNQdWJsaWNLZXlcIixcIjJhODY0OGNlMzgwNDAxXCI6XCJkc2FcIixcIjJhODY0OGNlM2QwMzAxMDdcIjpcInNlY3AyNTZyMVwiLFwiMmI4MTA0MDAxZlwiOlwic2VjcDE5MmsxXCIsXCIyYjgxMDQwMDIxXCI6XCJzZWNwMjI0cjFcIixcIjJiODEwNDAwMGFcIjpcInNlY3AyNTZrMVwiLFwiMmI4MTA0MDAyM1wiOlwic2VjcDUyMXIxXCIsXCIyYjgxMDQwMDIyXCI6XCJzZWNwMzg0cjFcIixcIjJhODY0OGNlMzgwNDAzXCI6XCJTSEExd2l0aERTQVwiLFwiNjA4NjQ4MDE2NTAzMDQwMzAxXCI6XCJTSEEyMjR3aXRoRFNBXCIsXCI2MDg2NDgwMTY1MDMwNDAzMDJcIjpcIlNIQTI1NndpdGhEU0FcIn19LHZvaWQgMCE9PVYmJlZ8fChWPXt9KSx2b2lkIDAhPT1WLmNyeXB0byYmVi5jcnlwdG98fChWLmNyeXB0bz17fSksVi5jcnlwdG8uRUNEU0E9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFNlY3VyZVJhbmRvbTt0aGlzLnR5cGU9XCJFQ1wiLHRoaXMuaXNQcml2YXRlPSExLHRoaXMuaXNQdWJsaWM9ITEsdGhpcy5nZXRCaWdSYW5kb209ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBCaWdJbnRlZ2VyKGUuYml0TGVuZ3RoKCksdCkubW9kKGUuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpKS5hZGQoQmlnSW50ZWdlci5PTkUpfSx0aGlzLnNldE5hbWVkQ3VydmU9ZnVuY3Rpb24oZSl7dGhpcy5lY3BhcmFtcz1WLmNyeXB0by5FQ1BhcmFtZXRlckRCLmdldEJ5TmFtZShlKSx0aGlzLnBydktleUhleD1udWxsLHRoaXMucHViS2V5SGV4PW51bGwsdGhpcy5jdXJ2ZU5hbWU9ZX0sdGhpcy5zZXRQcml2YXRlS2V5SGV4PWZ1bmN0aW9uKGUpe3RoaXMuaXNQcml2YXRlPSEwLHRoaXMucHJ2S2V5SGV4PWV9LHRoaXMuc2V0UHVibGljS2V5SGV4PWZ1bmN0aW9uKGUpe3RoaXMuaXNQdWJsaWM9ITAsdGhpcy5wdWJLZXlIZXg9ZX0sdGhpcy5nZXRQdWJsaWNLZXlYWUhleD1mdW5jdGlvbigpe3ZhciBlPXRoaXMucHViS2V5SGV4O2lmKFwiMDRcIiE9PWUuc3Vic3RyKDAsMikpdGhyb3dcInRoaXMgbWV0aG9kIHN1cHBvcnRzIHVuY29tcHJlc3NlZCBmb3JtYXQoMDQpIG9ubHlcIjt2YXIgdD10aGlzLmVjcGFyYW1zLmtleWxlbi80O2lmKGUubGVuZ3RoIT09MisyKnQpdGhyb3dcIm1hbGZvcm1lZCBwdWJsaWMga2V5IGhleCBsZW5ndGhcIjt2YXIgcj17fTtyZXR1cm4gci54PWUuc3Vic3RyKDIsdCksci55PWUuc3Vic3RyKDIrdCkscn0sdGhpcy5nZXRTaG9ydE5JU1RQQ3VydmVOYW1lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jdXJ2ZU5hbWU7cmV0dXJuXCJzZWNwMjU2cjFcIj09PWV8fFwiTklTVCBQLTI1NlwiPT09ZXx8XCJQLTI1NlwiPT09ZXx8XCJwcmltZTI1NnYxXCI9PT1lP1wiUC0yNTZcIjpcInNlY3AzODRyMVwiPT09ZXx8XCJOSVNUIFAtMzg0XCI9PT1lfHxcIlAtMzg0XCI9PT1lP1wiUC0zODRcIjpudWxsfSx0aGlzLmdlbmVyYXRlS2V5UGFpckhleD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZWNwYXJhbXMubix0PXRoaXMuZ2V0QmlnUmFuZG9tKGUpLHI9dGhpcy5lY3BhcmFtcy5HLm11bHRpcGx5KHQpLGk9ci5nZXRYKCkudG9CaWdJbnRlZ2VyKCksbj1yLmdldFkoKS50b0JpZ0ludGVnZXIoKSxvPXRoaXMuZWNwYXJhbXMua2V5bGVuLzQscz0oXCIwMDAwMDAwMDAwXCIrdC50b1N0cmluZygxNikpLnNsaWNlKC1vKSxhPVwiMDRcIisoXCIwMDAwMDAwMDAwXCIraS50b1N0cmluZygxNikpLnNsaWNlKC1vKSsoXCIwMDAwMDAwMDAwXCIrbi50b1N0cmluZygxNikpLnNsaWNlKC1vKTtyZXR1cm4gdGhpcy5zZXRQcml2YXRlS2V5SGV4KHMpLHRoaXMuc2V0UHVibGljS2V5SGV4KGEpLHtlY3BydmhleDpzLGVjcHViaGV4OmF9fSx0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2lnbkhleChlLHRoaXMucHJ2S2V5SGV4KX0sdGhpcy5zaWduSGV4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEJpZ0ludGVnZXIodCwxNiksaT10aGlzLmVjcGFyYW1zLm4sbj1uZXcgQmlnSW50ZWdlcihlLDE2KTtkb3t2YXIgbz10aGlzLmdldEJpZ1JhbmRvbShpKSxzPXRoaXMuZWNwYXJhbXMuRy5tdWx0aXBseShvKS5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKGkpfXdoaWxlKHMuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTyk8PTApO3ZhciBhPW8ubW9kSW52ZXJzZShpKS5tdWx0aXBseShuLmFkZChyLm11bHRpcGx5KHMpKSkubW9kKGkpO3JldHVybiBWLmNyeXB0by5FQ0RTQS5iaVJTU2lnVG9BU04xU2lnKHMsYSl9LHRoaXMuc2lnbj1mdW5jdGlvbihlLHQpe3ZhciByPXQsaT10aGlzLmVjcGFyYW1zLm4sbj1CaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZChlKTtkb3t2YXIgbz10aGlzLmdldEJpZ1JhbmRvbShpKSxzPXRoaXMuZWNwYXJhbXMuRy5tdWx0aXBseShvKS5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKGkpfXdoaWxlKHMuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTyk8PTApO3ZhciBhPW8ubW9kSW52ZXJzZShpKS5tdWx0aXBseShuLmFkZChyLm11bHRpcGx5KHMpKSkubW9kKGkpO3JldHVybiB0aGlzLnNlcmlhbGl6ZVNpZyhzLGEpfSx0aGlzLnZlcmlmeVdpdGhNZXNzYWdlSGFzaD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnZlcmlmeUhleChlLHQsdGhpcy5wdWJLZXlIZXgpfSx0aGlzLnZlcmlmeUhleD1mdW5jdGlvbihlLHQscil7dmFyIGksbixvLHM9Vi5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXgodCk7aT1zLnIsbj1zLnMsbz1FQ1BvaW50RnAuZGVjb2RlRnJvbUhleCh0aGlzLmVjcGFyYW1zLmN1cnZlLHIpO3ZhciBhPW5ldyBCaWdJbnRlZ2VyKGUsMTYpO3JldHVybiB0aGlzLnZlcmlmeVJhdyhhLGksbixvKX0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG8scztpZihCaXRjb2luLlV0aWwuaXNBcnJheSh0KSl7dmFyIGE9dGhpcy5wYXJzZVNpZyh0KTtpPWEucixvPWEuc31lbHNle2lmKFwib2JqZWN0XCIhPT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOm4odCkpfHwhdC5yfHwhdC5zKXRocm93XCJJbnZhbGlkIHZhbHVlIGZvciBzaWduYXR1cmVcIjtpPXQucixvPXQuc31pZihyIGluc3RhbmNlb2YgRUNQb2ludEZwKXM9cjtlbHNle2lmKCFCaXRjb2luLlV0aWwuaXNBcnJheShyKSl0aHJvd1wiSW52YWxpZCBmb3JtYXQgZm9yIHB1YmtleSB2YWx1ZSwgbXVzdCBiZSBieXRlIGFycmF5IG9yIEVDUG9pbnRGcFwiO3M9RUNQb2ludEZwLmRlY29kZUZyb20odGhpcy5lY3BhcmFtcy5jdXJ2ZSxyKX12YXIgdT1CaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZChlKTtyZXR1cm4gdGhpcy52ZXJpZnlSYXcodSxpLG8scyl9LHRoaXMudmVyaWZ5UmF3PWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXMuZWNwYXJhbXMubixvPXRoaXMuZWNwYXJhbXMuRztpZih0LmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSk8MHx8dC5jb21wYXJlVG8obik+PTApcmV0dXJuITE7aWYoci5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPDB8fHIuY29tcGFyZVRvKG4pPj0wKXJldHVybiExO3ZhciBzPXIubW9kSW52ZXJzZShuKSxhPWUubXVsdGlwbHkocykubW9kKG4pLHU9dC5tdWx0aXBseShzKS5tb2Qobik7cmV0dXJuIG8ubXVsdGlwbHkoYSkuYWRkKGkubXVsdGlwbHkodSkpLmdldFgoKS50b0JpZ0ludGVnZXIoKS5tb2QobikuZXF1YWxzKHQpfSx0aGlzLnNlcmlhbGl6ZVNpZz1mdW5jdGlvbihlLHQpe3ZhciByPWUudG9CeXRlQXJyYXlTaWduZWQoKSxpPXQudG9CeXRlQXJyYXlTaWduZWQoKSxuPVtdO3JldHVybiBuLnB1c2goMiksbi5wdXNoKHIubGVuZ3RoKSwobj1uLmNvbmNhdChyKSkucHVzaCgyKSxuLnB1c2goaS5sZW5ndGgpLChuPW4uY29uY2F0KGkpKS51bnNoaWZ0KG4ubGVuZ3RoKSxuLnVuc2hpZnQoNDgpLG59LHRoaXMucGFyc2VTaWc9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoNDghPWVbMF0pdGhyb3cgbmV3IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBhIHZhbGlkIERFUlNlcXVlbmNlXCIpO2lmKDIhPWVbdD0yXSl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBlbGVtZW50IGluIHNpZ25hdHVyZSBtdXN0IGJlIGEgREVSSW50ZWdlclwiKTt2YXIgcj1lLnNsaWNlKHQrMix0KzIrZVt0KzFdKTtpZigyIT1lW3QrPTIrZVt0KzFdXSl0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgZWxlbWVudCBpbiBzaWduYXR1cmUgbXVzdCBiZSBhIERFUkludGVnZXJcIik7dmFyIGk9ZS5zbGljZSh0KzIsdCsyK2VbdCsxXSk7cmV0dXJuIHQrPTIrZVt0KzFdLHtyOkJpZ0ludGVnZXIuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKHIpLHM6QmlnSW50ZWdlci5mcm9tQnl0ZUFycmF5VW5zaWduZWQoaSl9fSx0aGlzLnBhcnNlU2lnQ29tcGFjdD1mdW5jdGlvbihlKXtpZig2NSE9PWUubGVuZ3RoKXRocm93XCJTaWduYXR1cmUgaGFzIHRoZSB3cm9uZyBsZW5ndGhcIjt2YXIgdD1lWzBdLTI3O2lmKHQ8MHx8dD43KXRocm93XCJJbnZhbGlkIHNpZ25hdHVyZSB0eXBlXCI7dmFyIHI9dGhpcy5lY3BhcmFtcy5uO3JldHVybntyOkJpZ0ludGVnZXIuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKGUuc2xpY2UoMSwzMykpLm1vZChyKSxzOkJpZ0ludGVnZXIuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKGUuc2xpY2UoMzMsNjUpKS5tb2QociksaTp0fX0sdGhpcy5yZWFkUEtDUzVQcnZLZXlIZXg9ZnVuY3Rpb24oZSl7dmFyIHQscixpLG49SixvPVYuY3J5cHRvLkVDRFNBLmdldE5hbWUscz1uLmdldFZieUxpc3Q7aWYoITE9PT1uLmlzQVNOMUhFWChlKSl0aHJvd1wibm90IEFTTi4xIGhleCBzdHJpbmdcIjt0cnl7dD1zKGUsMCxbMiwwXSxcIjA2XCIpLHI9cyhlLDAsWzFdLFwiMDRcIik7dHJ5e2k9cyhlLDAsWzMsMF0sXCIwM1wiKS5zdWJzdHIoMil9Y2F0Y2goZSl7fX1jYXRjaChlKXt0aHJvd1wibWFsZm9ybWVkIFBLQ1MjMS81IHBsYWluIEVDQyBwcml2YXRlIGtleVwifWlmKHRoaXMuY3VydmVOYW1lPW8odCksdm9pZCAwPT09dGhpcy5jdXJ2ZU5hbWUpdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIjt0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHRoaXMuc2V0UHVibGljS2V5SGV4KGkpLHRoaXMuc2V0UHJpdmF0ZUtleUhleChyKSx0aGlzLmlzUHVibGljPSExfSx0aGlzLnJlYWRQS0NTOFBydktleUhleD1mdW5jdGlvbihlKXt2YXIgdCxyLGksbj1KLG89Vi5jcnlwdG8uRUNEU0EuZ2V0TmFtZSxzPW4uZ2V0VmJ5TGlzdDtpZighMT09PW4uaXNBU04xSEVYKGUpKXRocm93XCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiO3RyeXtzKGUsMCxbMSwwXSxcIjA2XCIpLHQ9cyhlLDAsWzEsMV0sXCIwNlwiKSxyPXMoZSwwLFsyLDAsMV0sXCIwNFwiKTt0cnl7aT1zKGUsMCxbMiwwLDIsMF0sXCIwM1wiKS5zdWJzdHIoMil9Y2F0Y2goZSl7fX1jYXRjaChlKXt0aHJvd1wibWFsZm9ybWVkIFBLQ1MjOCBwbGFpbiBFQ0MgcHJpdmF0ZSBrZXlcIn1pZih0aGlzLmN1cnZlTmFtZT1vKHQpLHZvaWQgMD09PXRoaXMuY3VydmVOYW1lKXRocm93XCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lXCI7dGhpcy5zZXROYW1lZEN1cnZlKHRoaXMuY3VydmVOYW1lKSx0aGlzLnNldFB1YmxpY0tleUhleChpKSx0aGlzLnNldFByaXZhdGVLZXlIZXgociksdGhpcy5pc1B1YmxpYz0hMX0sdGhpcy5yZWFkUEtDUzhQdWJLZXlIZXg9ZnVuY3Rpb24oZSl7dmFyIHQscixpPUosbj1WLmNyeXB0by5FQ0RTQS5nZXROYW1lLG89aS5nZXRWYnlMaXN0O2lmKCExPT09aS5pc0FTTjFIRVgoZSkpdGhyb3dcIm5vdCBBU04uMSBoZXggc3RyaW5nXCI7dHJ5e28oZSwwLFswLDBdLFwiMDZcIiksdD1vKGUsMCxbMCwxXSxcIjA2XCIpLHI9byhlLDAsWzFdLFwiMDNcIikuc3Vic3RyKDIpfWNhdGNoKGUpe3Rocm93XCJtYWxmb3JtZWQgUEtDUyM4IEVDQyBwdWJsaWMga2V5XCJ9aWYodGhpcy5jdXJ2ZU5hbWU9bih0KSxudWxsPT09dGhpcy5jdXJ2ZU5hbWUpdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIjt0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHRoaXMuc2V0UHVibGljS2V5SGV4KHIpfSx0aGlzLnJlYWRDZXJ0UHViS2V5SGV4PWZ1bmN0aW9uKGUsdCl7NSE9PXQmJih0PTYpO3ZhciByLGksbj1KLG89Vi5jcnlwdG8uRUNEU0EuZ2V0TmFtZSxzPW4uZ2V0VmJ5TGlzdDtpZighMT09PW4uaXNBU04xSEVYKGUpKXRocm93XCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiO3RyeXtyPXMoZSwwLFswLHQsMCwxXSxcIjA2XCIpLGk9cyhlLDAsWzAsdCwxXSxcIjAzXCIpLnN1YnN0cigyKX1jYXRjaChlKXt0aHJvd1wibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIEVDQyBwdWJsaWMga2V5XCJ9aWYodGhpcy5jdXJ2ZU5hbWU9byhyKSxudWxsPT09dGhpcy5jdXJ2ZU5hbWUpdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIjt0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHRoaXMuc2V0UHVibGljS2V5SGV4KGkpfSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLmN1cnZlJiYodGhpcy5jdXJ2ZU5hbWU9ZS5jdXJ2ZSksdm9pZCAwPT09dGhpcy5jdXJ2ZU5hbWUmJih0aGlzLmN1cnZlTmFtZT1cInNlY3AyNTZyMVwiKSx0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnBydiYmdGhpcy5zZXRQcml2YXRlS2V5SGV4KGUucHJ2KSx2b2lkIDAhPT1lLnB1YiYmdGhpcy5zZXRQdWJsaWNLZXlIZXgoZS5wdWIpKX0sVi5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9Vi5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTKGUpO3JldHVybntyOm5ldyBCaWdJbnRlZ2VyKHQuciwxNiksczpuZXcgQmlnSW50ZWdlcih0LnMsMTYpfX0sVi5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTPWZ1bmN0aW9uKGUpe3ZhciB0PUoscj10LmdldENoaWxkSWR4LGk9dC5nZXRWO2lmKFwiMzBcIiE9ZS5zdWJzdHIoMCwyKSl0aHJvd1wic2lnbmF0dXJlIGlzIG5vdCBhIEFTTi4xIHNlcXVlbmNlXCI7dmFyIG49cihlLDApO2lmKDIhPW4ubGVuZ3RoKXRocm93XCJudW1iZXIgb2Ygc2lnbmF0dXJlIEFTTi4xIHNlcXVlbmNlIGVsZW1lbnRzIHNlZW0gd3JvbmdcIjt2YXIgbz1uWzBdLHM9blsxXTtpZihcIjAyXCIhPWUuc3Vic3RyKG8sMikpdGhyb3dcIjFzdCBpdGVtIG9mIHNlcXVlbmUgb2Ygc2lnbmF0dXJlIGlzIG5vdCBBU04uMSBpbnRlZ2VyXCI7aWYoXCIwMlwiIT1lLnN1YnN0cihzLDIpKXRocm93XCIybmQgaXRlbSBvZiBzZXF1ZW5lIG9mIHNpZ25hdHVyZSBpcyBub3QgQVNOLjEgaW50ZWdlclwiO3JldHVybntyOmkoZSxvKSxzOmkoZSxzKX19LFYuY3J5cHRvLkVDRFNBLmFzbjFTaWdUb0NvbmNhdFNpZz1mdW5jdGlvbihlKXt2YXIgdD1WLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleEluSGV4UlMoZSkscj10LnIsaT10LnM7aWYoXCIwMFwiPT1yLnN1YnN0cigwLDIpJiZyLmxlbmd0aCUzMj09MiYmKHI9ci5zdWJzdHIoMikpLFwiMDBcIj09aS5zdWJzdHIoMCwyKSYmaS5sZW5ndGglMzI9PTImJihpPWkuc3Vic3RyKDIpKSxyLmxlbmd0aCUzMj09MzAmJihyPVwiMDBcIityKSxpLmxlbmd0aCUzMj09MzAmJihpPVwiMDBcIitpKSxyLmxlbmd0aCUzMiE9MCl0aHJvd1widW5rbm93biBFQ0RTQSBzaWcgciBsZW5ndGggZXJyb3JcIjtpZihpLmxlbmd0aCUzMiE9MCl0aHJvd1widW5rbm93biBFQ0RTQSBzaWcgcyBsZW5ndGggZXJyb3JcIjtyZXR1cm4gcitpfSxWLmNyeXB0by5FQ0RTQS5jb25jYXRTaWdUb0FTTjFTaWc9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGgvMio4JTEyOCE9MCl0aHJvd1widW5rbm93biBFQ0RTQSBjb25jYXRpbmF0ZWQgci1zIHNpZyAgbGVuZ3RoIGVycm9yXCI7dmFyIHQ9ZS5zdWJzdHIoMCxlLmxlbmd0aC8yKSxyPWUuc3Vic3RyKGUubGVuZ3RoLzIpO3JldHVybiBWLmNyeXB0by5FQ0RTQS5oZXhSU1NpZ1RvQVNOMVNpZyh0LHIpfSxWLmNyeXB0by5FQ0RTQS5oZXhSU1NpZ1RvQVNOMVNpZz1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBCaWdJbnRlZ2VyKGUsMTYpLGk9bmV3IEJpZ0ludGVnZXIodCwxNik7cmV0dXJuIFYuY3J5cHRvLkVDRFNBLmJpUlNTaWdUb0FTTjFTaWcocixpKX0sVi5jcnlwdG8uRUNEU0EuYmlSU1NpZ1RvQVNOMVNpZz1mdW5jdGlvbihlLHQpe3ZhciByPVYuYXNuMSxpPW5ldyByLkRFUkludGVnZXIoe2JpZ2ludDplfSksbj1uZXcgci5ERVJJbnRlZ2VyKHtiaWdpbnQ6dH0pO3JldHVybiBuZXcgci5ERVJTZXF1ZW5jZSh7YXJyYXk6W2ksbl19KS5nZXRFbmNvZGVkSGV4KCl9LFYuY3J5cHRvLkVDRFNBLmdldE5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuXCIyYTg2NDhjZTNkMDMwMTA3XCI9PT1lP1wic2VjcDI1NnIxXCI6XCIyYjgxMDQwMDBhXCI9PT1lP1wic2VjcDI1NmsxXCI6XCIyYjgxMDQwMDIyXCI9PT1lP1wic2VjcDM4NHIxXCI6LTEhPT1cInxzZWNwMjU2cjF8TklTVCBQLTI1NnxQLTI1NnxwcmltZTI1NnYxfFwiLmluZGV4T2YoZSk/XCJzZWNwMjU2cjFcIjotMSE9PVwifHNlY3AyNTZrMXxcIi5pbmRleE9mKGUpP1wic2VjcDI1NmsxXCI6LTEhPT1cInxzZWNwMzg0cjF8TklTVCBQLTM4NHxQLTM4NHxcIi5pbmRleE9mKGUpP1wic2VjcDM4NHIxXCI6bnVsbH0sdm9pZCAwIT09ViYmVnx8KFY9e30pLHZvaWQgMCE9PVYuY3J5cHRvJiZWLmNyeXB0b3x8KFYuY3J5cHRvPXt9KSxWLmNyeXB0by5FQ1BhcmFtZXRlckRCPW5ldyBmdW5jdGlvbigpe3ZhciBlPXt9LHQ9e307ZnVuY3Rpb24gYShlKXtyZXR1cm4gbmV3IEJpZ0ludGVnZXIoZSwxNil9dGhpcy5nZXRCeU5hbWU9ZnVuY3Rpb24ocil7dmFyIGk9cjtpZih2b2lkIDAhPT10W2ldJiYoaT10W3JdKSx2b2lkIDAhPT1lW2ldKXJldHVybiBlW2ldO3Rocm93XCJ1bnJlZ2lzdGVyZWQgRUMgY3VydmUgbmFtZTogXCIraX0sdGhpcy5yZWdpc3Q9ZnVuY3Rpb24ocixpLG4sbyxzLHUsYyxoLGwsZixnLHApe2Vbcl09e307dmFyIGQ9YShuKSx2PWEobykseT1hKHMpLG09YSh1KSxTPWEoYyksYj1uZXcgRUNDdXJ2ZUZwKGQsdix5KSxGPWIuZGVjb2RlUG9pbnRIZXgoXCIwNFwiK2grbCk7ZVtyXS5uYW1lPXIsZVtyXS5rZXlsZW49aSxlW3JdLmN1cnZlPWIsZVtyXS5HPUYsZVtyXS5uPW0sZVtyXS5oPVMsZVtyXS5vaWQ9ZyxlW3JdLmluZm89cDtmb3IodmFyIF89MDtfPGYubGVuZ3RoO18rKyl0W2ZbX11dPXJ9fSxWLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AxMjhyMVwiLDEyOCxcIkZGRkZGRkZERkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsXCJGRkZGRkZGREZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQ1wiLFwiRTg3NTc5QzExMDc5RjQzREQ4MjQ5OTNDMkNFRTVFRDNcIixcIkZGRkZGRkZFMDAwMDAwMDA3NUEzMEQxQjkwMzhBMTE1XCIsXCIxXCIsXCIxNjFGRjc1MjhCODk5QjJEMEMyODYwN0NBNTJDNUI4NlwiLFwiQ0Y1QUM4Mzk1QkFGRUIxM0MwMkRBMjkyRERFRDdBODNcIixbXSxcIlwiLFwic2VjcDEyOHIxIDogU0VDRyBjdXJ2ZSBvdmVyIGEgMTI4IGJpdCBwcmltZSBmaWVsZFwiKSxWLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AxNjBrMVwiLDE2MCxcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkFDNzNcIixcIjBcIixcIjdcIixcIjAxMDAwMDAwMDAwMDAwMDAwMDAwMDFCOEZBMTZERkFCOUFDQTE2QjZCM1wiLFwiMVwiLFwiM0I0QzM4MkNFMzdBQTE5MkE0MDE5RTc2MzAzNkY0RjVERDREN0VCQlwiLFwiOTM4Q0Y5MzUzMThGRENFRDZCQzI4Mjg2NTMxNzMzQzNGMDNDNEZFRVwiLFtdLFwiXCIsXCJzZWNwMTYwazEgOiBTRUNHIGN1cnZlIG92ZXIgYSAxNjAgYml0IHByaW1lIGZpZWxkXCIpLFYuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE2MHIxXCIsMTYwLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY3RkZGRkZGRlwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY3RkZGRkZGQ1wiLFwiMUM5N0JFRkM1NEJEN0E4QjY1QUNGODlGODFENEQ0QURDNTY1RkE0NVwiLFwiMDEwMDAwMDAwMDAwMDAwMDAwMDAwMUY0QzhGOTI3QUVEM0NBNzUyMjU3XCIsXCIxXCIsXCI0QTk2QjU2ODhFRjU3MzI4NDY2NDY5ODk2OEMzOEJCOTEzQ0JGQzgyXCIsXCIyM0E2Mjg1NTMxNjg5NDdENTlEQ0M5MTIwNDIzNTEzNzdBQzVGQjMyXCIsW10sXCJcIixcInNlY3AxNjByMSA6IFNFQ0cgY3VydmUgb3ZlciBhIDE2MCBiaXQgcHJpbWUgZmllbGRcIiksVi5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTkyazFcIiwxOTIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkVFMzdcIixcIjBcIixcIjNcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRTI2RjJGQzE3MEY2OTQ2NkE3NERFRkQ4RFwiLFwiMVwiLFwiREI0RkYxMEVDMDU3RTlBRTI2QjA3RDAyODBCN0Y0MzQxREE1RDFCMUVBRTA2QzdEXCIsXCI5QjJGMkY2RDlDNTYyOEE3ODQ0MTYzRDAxNUJFODYzNDQwODJBQTg4RDk1RTJGOURcIixbXSksVi5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTkycjFcIiwxOTIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGRkZGRkZGRkZcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGQ1wiLFwiNjQyMTA1MTlFNTlDODBFNzBGQTdFOUFCNzIyNDMwNDlGRUI4REVFQ0MxNDZCOUIxXCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY5OURFRjgzNjE0NkJDOUIxQjREMjI4MzFcIixcIjFcIixcIjE4OERBODBFQjAzMDkwRjY3Q0JGMjBFQjQzQTE4ODAwRjRGRjBBRkQ4MkZGMTAxMlwiLFwiMDcxOTJCOTVGRkM4REE3ODYzMTAxMUVENkIyNENERDU3M0Y5NzdBMTFFNzk0ODExXCIsW10pLFYuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDIyNHIxXCIsMjI0LFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDFcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFXCIsXCJCNDA1MEE4NTBDMDRCM0FCRjU0MTMyNTY1MDQ0QjBCN0Q3QkZEOEJBMjcwQjM5NDMyMzU1RkZCNFwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjE2QTJFMEI4RjAzRTEzREQyOTQ1NUM1QzJBM0RcIixcIjFcIixcIkI3MEUwQ0JENkJCNEJGN0YzMjEzOTBCOTRBMDNDMUQzNTZDMjExMjIzNDMyODBENjExNUMxRDIxXCIsXCJCRDM3NjM4OEI1RjcyM0ZCNEMyMkRGRTZDRDQzNzVBMDVBMDc0NzY0NDRENTgxOTk4NTAwN0UzNFwiLFtdKSxWLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AyNTZrMVwiLDI1NixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZDMkZcIixcIjBcIixcIjdcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFQkFBRURDRTZBRjQ4QTAzQkJGRDI1RThDRDAzNjQxNDFcIixcIjFcIixcIjc5QkU2NjdFRjlEQ0JCQUM1NUEwNjI5NUNFODcwQjA3MDI5QkZDREIyRENFMjhEOTU5RjI4MTVCMTZGODE3OThcIixcIjQ4M0FEQTc3MjZBM0M0NjU1REE0RkJGQzBFMTEwOEE4RkQxN0I0NDhBNjg1NTQxOTlDNDdEMDhGRkIxMEQ0QjhcIixbXSksVi5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMjU2cjFcIiwyNTYsXCJGRkZGRkZGRjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsXCJGRkZGRkZGRjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZDXCIsXCI1QUM2MzVEOEFBM0E5M0U3QjNFQkJENTU3Njk4ODZCQzY1MUQwNkIwQ0M1M0IwRjYzQkNFM0MzRTI3RDI2MDRCXCIsXCJGRkZGRkZGRjAwMDAwMDAwRkZGRkZGRkZGRkZGRkZGRkJDRTZGQUFEQTcxNzlFODRGM0I5Q0FDMkZDNjMyNTUxXCIsXCIxXCIsXCI2QjE3RDFGMkUxMkM0MjQ3RjhCQ0U2RTU2M0E0NDBGMjc3MDM3RDgxMkRFQjMzQTBGNEExMzk0NUQ4OThDMjk2XCIsXCI0RkUzNDJFMkZFMUE3RjlCOEVFN0VCNEE3QzBGOUUxNjJCQ0UzMzU3NkIzMTVFQ0VDQkI2NDA2ODM3QkY1MUY1XCIsW1wiTklTVCBQLTI1NlwiLFwiUC0yNTZcIixcInByaW1lMjU2djFcIl0pLFYuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDM4NHIxXCIsMzg0LFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGMDAwMDAwMDAwMDAwMDAwMEZGRkZGRkZGXCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkYwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkNcIixcIkIzMzEyRkE3RTIzRUU3RTQ5ODhFMDU2QkUzRjgyRDE5MTgxRDlDNkVGRTgxNDExMjAzMTQwODhGNTAxMzg3NUFDNjU2Mzk4RDhBMkVEMTlEMkE4NUM4RUREM0VDMkFFRlwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQzc2MzREODFGNDM3MkRERjU4MUEwREIyNDhCMEE3N0FFQ0VDMTk2QUNDQzUyOTczXCIsXCIxXCIsXCJBQTg3Q0EyMkJFOEIwNTM3OEVCMUM3MUVGMzIwQUQ3NDZFMUQzQjYyOEJBNzlCOTg1OUY3NDFFMDgyNTQyQTM4NTUwMkYyNURCRjU1Mjk2QzNBNTQ1RTM4NzI3NjBBQjdcIixcIjM2MTdkZTRhOTYyNjJjNmY1ZDllOThiZjkyOTJkYzI5ZjhmNDFkYmQyODlhMTQ3Y2U5ZGEzMTEzYjVmMGI4YzAwYTYwYjFjZTFkN2U4MTlkN2E0MzFkN2M5MGVhMGU1ZlwiLFtcIk5JU1QgUC0zODRcIixcIlAtMzg0XCJdKSxWLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3A1MjFyMVwiLDUyMSxcIjFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsXCIxRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQ1wiLFwiMDUxOTUzRUI5NjE4RTFDOUExRjkyOUEyMUEwQjY4NTQwRUVBMkRBNzI1Qjk5QjMxNUYzQjhCNDg5OTE4RUYxMDlFMTU2MTkzOTUxRUM3RTkzN0IxNjUyQzBCRDNCQjFCRjA3MzU3M0RGODgzRDJDMzRGMUVGNDUxRkQ0NkI1MDNGMDBcIixcIjFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkE1MTg2ODc4M0JGMkY5NjZCN0ZDQzAxNDhGNzA5QTVEMDNCQjVDOUI4ODk5QzQ3QUVCQjZGQjcxRTkxMzg2NDA5XCIsXCIxXCIsXCJDNjg1OEUwNkI3MDQwNEU5Q0Q5RTNFQ0I2NjIzOTVCNDQyOUM2NDgxMzkwNTNGQjUyMUY4MjhBRjYwNkI0RDNEQkFBMTRCNUU3N0VGRTc1OTI4RkUxREMxMjdBMkZGQThERTMzNDhCM0MxODU2QTQyOUJGOTdFN0UzMUMyRTVCRDY2XCIsXCIwMTE4MzkyOTZhNzg5YTNiYzAwNDVjOGE1ZmI0MmM3ZDFiZDk5OGY1NDQ0OTU3OWI0NDY4MTdhZmJkMTcyNzNlNjYyYzk3ZWU3Mjk5NWVmNDI2NDBjNTUwYjkwMTNmYWQwNzYxMzUzYzcwODZhMjcyYzI0MDg4YmU5NDc2OWZkMTY2NTBcIixbXCJOSVNUIFAtNTIxXCIsXCJQLTUyMVwiXSk7dmFyIHo9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbiBkKGUsdCxpKXtyZXR1cm4gcih5LkFFUyxlLHQsaSl9LHI9ZnVuY3Rpb24gayhlLHQscixpKXt2YXIgbj15LmVuYy5IZXgucGFyc2UodCksbz15LmVuYy5IZXgucGFyc2Uocikscz15LmVuYy5IZXgucGFyc2UoaSksYT17fTthLmtleT1vLGEuaXY9cyxhLmNpcGhlcnRleHQ9bjt2YXIgdT1lLmRlY3J5cHQoYSxvLHtpdjpzfSk7cmV0dXJuIHkuZW5jLkhleC5zdHJpbmdpZnkodSl9LGk9ZnVuY3Rpb24gbChlLHQscil7cmV0dXJuIG4oeS5BRVMsZSx0LHIpfSxuPWZ1bmN0aW9uIGcoZSx0LHIsaSl7dmFyIG49eS5lbmMuSGV4LnBhcnNlKHQpLG89eS5lbmMuSGV4LnBhcnNlKHIpLHM9eS5lbmMuSGV4LnBhcnNlKGkpLGE9ZS5lbmNyeXB0KG4sbyx7aXY6c30pLHU9eS5lbmMuSGV4LnBhcnNlKGEudG9TdHJpbmcoKSk7cmV0dXJuIHkuZW5jLkJhc2U2NC5zdHJpbmdpZnkodSl9LHM9e1wiQUVTLTI1Ni1DQkNcIjp7cHJvYzp0LGVwcm9jOmksa2V5bGVuOjMyLGl2bGVuOjE2fSxcIkFFUy0xOTItQ0JDXCI6e3Byb2M6dCxlcHJvYzppLGtleWxlbjoyNCxpdmxlbjoxNn0sXCJBRVMtMTI4LUNCQ1wiOntwcm9jOnQsZXByb2M6aSxrZXlsZW46MTYsaXZsZW46MTZ9LFwiREVTLUVERTMtQ0JDXCI6e3Byb2M6ZnVuY3Rpb24gZSh0LGksbil7cmV0dXJuIHIoeS5UcmlwbGVERVMsdCxpLG4pfSxlcHJvYzpmdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gbih5LlRyaXBsZURFUyxlLHQscil9LGtleWxlbjoyNCxpdmxlbjo4fSxcIkRFUy1DQkNcIjp7cHJvYzpmdW5jdGlvbiBhKGUsdCxpKXtyZXR1cm4gcih5LkRFUyxlLHQsaSl9LGVwcm9jOmZ1bmN0aW9uIGYoZSx0LHIpe3JldHVybiBuKHkuREVTLGUsdCxyKX0sa2V5bGVuOjgsaXZsZW46OH19LHU9ZnVuY3Rpb24gbihlKXt2YXIgdD17fSxyPWUubWF0Y2gobmV3IFJlZ0V4cChcIkRFSy1JbmZvOiAoW14sXSspLChbMC05QS1GYS1mXSspXCIsXCJtXCIpKTtyJiYodC5jaXBoZXI9clsxXSx0Lml2c2FsdD1yWzJdKTt2YXIgaT1lLm1hdGNoKG5ldyBSZWdFeHAoXCItLS0tLUJFR0lOIChbQS1aXSspIFBSSVZBVEUgS0VZLS0tLS1cIikpO2kmJih0LnR5cGU9aVsxXSk7dmFyIG89LTEscz0wOy0xIT1lLmluZGV4T2YoXCJcXHJcXG5cXHJcXG5cIikmJihvPWUuaW5kZXhPZihcIlxcclxcblxcclxcblwiKSxzPTIpLC0xIT1lLmluZGV4T2YoXCJcXG5cXG5cIikmJihvPWUuaW5kZXhPZihcIlxcblxcblwiKSxzPTEpO3ZhciBhPWUuaW5kZXhPZihcIi0tLS0tRU5EXCIpO2lmKC0xIT1vJiYtMSE9YSl7dmFyIHU9ZS5zdWJzdHJpbmcobysyKnMsYS1zKTt1PXUucmVwbGFjZSgvXFxzKy9nLFwiXCIpLHQuZGF0YT11fXJldHVybiB0fSxjPWZ1bmN0aW9uIGooZSx0LHIpe2Zvcih2YXIgaT1yLnN1YnN0cmluZygwLDE2KSxuPXkuZW5jLkhleC5wYXJzZShpKSxvPXkuZW5jLlV0ZjgucGFyc2UodCksYT1zW2VdLmtleWxlbitzW2VdLml2bGVuLHU9XCJcIixjPW51bGw7Oyl7dmFyIGg9eS5hbGdvLk1ENS5jcmVhdGUoKTtpZihudWxsIT1jJiZoLnVwZGF0ZShjKSxoLnVwZGF0ZShvKSxoLnVwZGF0ZShuKSxjPWguZmluYWxpemUoKSwodSs9eS5lbmMuSGV4LnN0cmluZ2lmeShjKSkubGVuZ3RoPj0yKmEpYnJlYWt9dmFyIGw9e307cmV0dXJuIGwua2V5aGV4PXUuc3Vic3RyKDAsMipzW2VdLmtleWxlbiksbC5pdmhleD11LnN1YnN0cigyKnNbZV0ua2V5bGVuLDIqc1tlXS5pdmxlbiksbH0sZz1mdW5jdGlvbiBiKGUsdCxyLGkpe3ZhciBuPXkuZW5jLkJhc2U2NC5wYXJzZShlKSxvPXkuZW5jLkhleC5zdHJpbmdpZnkobik7cmV0dXJuKDAsc1t0XS5wcm9jKShvLHIsaSl9O3JldHVybnt2ZXJzaW9uOlwiMS4wLjBcIixwYXJzZVBLQ1M1UEVNOmZ1bmN0aW9uIHBhcnNlUEtDUzVQRU0oZSl7cmV0dXJuIHUoZSl9LGdldEtleUFuZFVudXNlZEl2QnlQYXNzY29kZUFuZEl2c2FsdDpmdW5jdGlvbiBnZXRLZXlBbmRVbnVzZWRJdkJ5UGFzc2NvZGVBbmRJdnNhbHQoZSx0LHIpe3JldHVybiBjKGUsdCxyKX0sZGVjcnlwdEtleUI2NDpmdW5jdGlvbiBkZWNyeXB0S2V5QjY0KGUsdCxyLGkpe3JldHVybiBnKGUsdCxyLGkpfSxnZXREZWNyeXB0ZWRLZXlIZXg6ZnVuY3Rpb24gZ2V0RGVjcnlwdGVkS2V5SGV4KGUsdCl7dmFyIHI9dShlKSxpPShyLnR5cGUsci5jaXBoZXIpLG49ci5pdnNhbHQsbz1yLmRhdGEscz1jKGksdCxuKS5rZXloZXg7cmV0dXJuIGcobyxpLHMsbil9LGdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleDpmdW5jdGlvbiBnZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgoZSx0LHIsaSxuKXt2YXIgbz1cIlwiO2lmKHZvaWQgMCE9PWkmJm51bGwhPWl8fChpPVwiQUVTLTI1Ni1DQkNcIiksdm9pZCAwPT09c1tpXSl0aHJvd1wiS0VZVVRJTCB1bnN1cHBvcnRlZCBhbGdvcml0aG06IFwiK2k7dm9pZCAwIT09biYmbnVsbCE9bnx8KG49ZnVuY3Rpb24gbShlKXt2YXIgdD15LmxpYi5Xb3JkQXJyYXkucmFuZG9tKGUpO3JldHVybiB5LmVuYy5IZXguc3RyaW5naWZ5KHQpfShzW2ldLml2bGVuKS50b1VwcGVyQ2FzZSgpKTt2YXIgYT1mdW5jdGlvbiBoKGUsdCxyLGkpe3JldHVybigwLHNbdF0uZXByb2MpKGUscixpKX0odCxpLGMoaSxyLG4pLmtleWhleCxuKTtvPVwiLS0tLS1CRUdJTiBcIitlK1wiIFBSSVZBVEUgS0VZLS0tLS1cXHJcXG5cIjtyZXR1cm4gbys9XCJQcm9jLVR5cGU6IDQsRU5DUllQVEVEXFxyXFxuXCIsbys9XCJERUstSW5mbzogXCIraStcIixcIituK1wiXFxyXFxuXCIsbys9XCJcXHJcXG5cIixvKz1hLnJlcGxhY2UoLyguezY0fSkvZyxcIiQxXFxyXFxuXCIpLG8rPVwiXFxyXFxuLS0tLS1FTkQgXCIrZStcIiBQUklWQVRFIEtFWS0tLS0tXFxyXFxuXCJ9LHBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTODpmdW5jdGlvbiBwYXJzZUhleE9mRW5jcnlwdGVkUEtDUzgoZSl7dmFyIHQ9SixyPXQuZ2V0Q2hpbGRJZHgsaT10LmdldFYsbj17fSxvPXIoZSwwKTtpZigyIT1vLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMCkuaXRlbXMgIT0gMjogXCIrby5sZW5ndGg7bi5jaXBoZXJ0ZXh0PWkoZSxvWzFdKTt2YXIgcz1yKGUsb1swXSk7aWYoMiE9cy5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMCkuaXRlbXMgIT0gMjogXCIrcy5sZW5ndGg7aWYoXCIyYTg2NDg4NmY3MGQwMTA1MGRcIiE9aShlLHNbMF0pKXRocm93XCJ0aGlzIG9ubHkgc3VwcG9ydHMgcGtjczVQQkVTMlwiO3ZhciBhPXIoZSxzWzFdKTtpZigyIT1zLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEpLml0ZW1zICE9IDI6IFwiK2EubGVuZ3RoO3ZhciB1PXIoZSxhWzFdKTtpZigyIT11Lmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMSkuaXRlbXMgIT0gMjogXCIrdS5sZW5ndGg7aWYoXCIyYTg2NDg4NmY3MGQwMzA3XCIhPWkoZSx1WzBdKSl0aHJvd1widGhpcyBvbmx5IHN1cHBvcnRzIFRyaXBsZURFU1wiO24uZW5jcnlwdGlvblNjaGVtZUFsZz1cIlRyaXBsZURFU1wiLG4uZW5jcnlwdGlvblNjaGVtZUlWPWkoZSx1WzFdKTt2YXIgYz1yKGUsYVswXSk7aWYoMiE9Yy5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjApLml0ZW1zICE9IDI6IFwiK2MubGVuZ3RoO2lmKFwiMmE4NjQ4ODZmNzBkMDEwNTBjXCIhPWkoZSxjWzBdKSl0aHJvd1widGhpcyBvbmx5IHN1cHBvcnRzIHBrY3M1UEJLREYyXCI7dmFyIGg9cihlLGNbMV0pO2lmKGgubGVuZ3RoPDIpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjAuMSkuaXRlbXMgPCAyOiBcIitoLmxlbmd0aDtuLnBia2RmMlNhbHQ9aShlLGhbMF0pO3ZhciBsPWkoZSxoWzFdKTt0cnl7bi5wYmtkZjJJdGVyPXBhcnNlSW50KGwsMTYpfWNhdGNoKGUpe3Rocm93XCJtYWxmb3JtZWQgZm9ybWF0IHBia2RmMkl0ZXI6IFwiK2x9cmV0dXJuIG59LGdldFBCS0RGMktleUhleEZyb21QYXJhbTpmdW5jdGlvbiBnZXRQQktERjJLZXlIZXhGcm9tUGFyYW0oZSx0KXt2YXIgcj15LmVuYy5IZXgucGFyc2UoZS5wYmtkZjJTYWx0KSxpPWUucGJrZGYySXRlcixuPXkuUEJLREYyKHQscix7a2V5U2l6ZTo2LGl0ZXJhdGlvbnM6aX0pO3JldHVybiB5LmVuYy5IZXguc3RyaW5naWZ5KG4pfSxfZ2V0UGxhaW5QS0NTOEhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTTpmdW5jdGlvbiBfZ2V0UGxhaW5QS0NTOEhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTShlLHQpe3ZhciByPXBlbXRvaGV4KGUsXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIiksaT10aGlzLnBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTOChyKSxuPXouZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtKGksdCksbz17fTtvLmNpcGhlcnRleHQ9eS5lbmMuSGV4LnBhcnNlKGkuY2lwaGVydGV4dCk7dmFyIHM9eS5lbmMuSGV4LnBhcnNlKG4pLGE9eS5lbmMuSGV4LnBhcnNlKGkuZW5jcnlwdGlvblNjaGVtZUlWKSx1PXkuVHJpcGxlREVTLmRlY3J5cHQobyxzLHtpdjphfSk7cmV0dXJuIHkuZW5jLkhleC5zdHJpbmdpZnkodSl9LGdldEtleUZyb21FbmNyeXB0ZWRQS0NTOFBFTTpmdW5jdGlvbiBnZXRLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU0oZSx0KXt2YXIgcj10aGlzLl9nZXRQbGFpblBLQ1M4SGV4RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKGUsdCk7cmV0dXJuIHRoaXMuZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4KHIpfSxwYXJzZVBsYWluUHJpdmF0ZVBLQ1M4SGV4OmZ1bmN0aW9uIHBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXgoZSl7dmFyIHQ9SixyPXQuZ2V0Q2hpbGRJZHgsaT10LmdldFYsbj17YWxncGFyYW06bnVsbH07aWYoXCIzMFwiIT1lLnN1YnN0cigwLDIpKXRocm93XCJtYWxmb3JtZWQgcGxhaW4gUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDEpXCI7dmFyIG89cihlLDApO2lmKDMhPW8ubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgcGxhaW4gUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDIpXCI7aWYoXCIzMFwiIT1lLnN1YnN0cihvWzFdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDMpXCI7dmFyIHM9cihlLG9bMV0pO2lmKDIhPXMubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDQpXCI7aWYoXCIwNlwiIT1lLnN1YnN0cihzWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDUpXCI7aWYobi5hbGdvaWQ9aShlLHNbMF0pLFwiMDZcIj09ZS5zdWJzdHIoc1sxXSwyKSYmKG4uYWxncGFyYW09aShlLHNbMV0pKSxcIjA0XCIhPWUuc3Vic3RyKG9bMl0sMikpdGhyb3dcIm1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNilcIjtyZXR1cm4gbi5rZXlpZHg9dC5nZXRWaWR4KGUsb1syXSksbn0sZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNOmZ1bmN0aW9uIGdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOFBFTShlKXt2YXIgdD1wZW10b2hleChlLFwiUFJJVkFURSBLRVlcIik7cmV0dXJuIHRoaXMuZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4KHQpfSxnZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXg6ZnVuY3Rpb24gZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4KGUpe3ZhciB0LHI9dGhpcy5wYXJzZVBsYWluUHJpdmF0ZVBLQ1M4SGV4KGUpO2lmKFwiMmE4NjQ4ODZmNzBkMDEwMTAxXCI9PXIuYWxnb2lkKXQ9bmV3IFJTQUtleTtlbHNlIGlmKFwiMmE4NjQ4Y2UzODA0MDFcIj09ci5hbGdvaWQpdD1uZXcgVi5jcnlwdG8uRFNBO2Vsc2V7aWYoXCIyYTg2NDhjZTNkMDIwMVwiIT1yLmFsZ29pZCl0aHJvd1widW5zdXBwb3J0ZWQgcHJpdmF0ZSBrZXkgYWxnb3JpdGhtXCI7dD1uZXcgVi5jcnlwdG8uRUNEU0F9cmV0dXJuIHQucmVhZFBLQ1M4UHJ2S2V5SGV4KGUpLHR9LF9nZXRLZXlGcm9tUHVibGljUEtDUzhIZXg6ZnVuY3Rpb24gX2dldEtleUZyb21QdWJsaWNQS0NTOEhleChlKXt2YXIgdCxyPUouZ2V0VmJ5TGlzdChlLDAsWzAsMF0sXCIwNlwiKTtpZihcIjJhODY0ODg2ZjcwZDAxMDEwMVwiPT09cil0PW5ldyBSU0FLZXk7ZWxzZSBpZihcIjJhODY0OGNlMzgwNDAxXCI9PT1yKXQ9bmV3IFYuY3J5cHRvLkRTQTtlbHNle2lmKFwiMmE4NjQ4Y2UzZDAyMDFcIiE9PXIpdGhyb3dcInVuc3VwcG9ydGVkIFBLQ1MjOCBwdWJsaWMga2V5IGhleFwiO3Q9bmV3IFYuY3J5cHRvLkVDRFNBfXJldHVybiB0LnJlYWRQS0NTOFB1YktleUhleChlKSx0fSxwYXJzZVB1YmxpY1Jhd1JTQUtleUhleDpmdW5jdGlvbiBwYXJzZVB1YmxpY1Jhd1JTQUtleUhleChlKXt2YXIgdD1KLHI9dC5nZXRDaGlsZElkeCxpPXQuZ2V0VixuPXt9O2lmKFwiMzBcIiE9ZS5zdWJzdHIoMCwyKSl0aHJvd1wibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDEpXCI7dmFyIG89cihlLDApO2lmKDIhPW8ubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMilcIjtpZihcIjAyXCIhPWUuc3Vic3RyKG9bMF0sMikpdGhyb3dcIm1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDAzKVwiO2lmKG4ubj1pKGUsb1swXSksXCIwMlwiIT1lLnN1YnN0cihvWzFdLDIpKXRocm93XCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwNClcIjtyZXR1cm4gbi5lPWkoZSxvWzFdKSxufSxwYXJzZVB1YmxpY1BLQ1M4SGV4OmZ1bmN0aW9uIHBhcnNlUHVibGljUEtDUzhIZXgoZSl7dmFyIHQ9SixyPXQuZ2V0Q2hpbGRJZHgsaT10LmdldFYsbj17YWxncGFyYW06bnVsbH0sbz1yKGUsMCk7aWYoMiE9by5sZW5ndGgpdGhyb3dcIm91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogXCIrby5sZW5ndGg7dmFyIHM9b1swXTtpZihcIjMwXCIhPWUuc3Vic3RyKHMsMikpdGhyb3dcIm1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDAxKVwiO3ZhciBhPXIoZSxzKTtpZigyIT1hLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDIpXCI7aWYoXCIwNlwiIT1lLnN1YnN0cihhWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMylcIjtpZihuLmFsZ29pZD1pKGUsYVswXSksXCIwNlwiPT1lLnN1YnN0cihhWzFdLDIpP24uYWxncGFyYW09aShlLGFbMV0pOlwiMzBcIj09ZS5zdWJzdHIoYVsxXSwyKSYmKG4uYWxncGFyYW09e30sbi5hbGdwYXJhbS5wPXQuZ2V0VmJ5TGlzdChlLGFbMV0sWzBdLFwiMDJcIiksbi5hbGdwYXJhbS5xPXQuZ2V0VmJ5TGlzdChlLGFbMV0sWzFdLFwiMDJcIiksbi5hbGdwYXJhbS5nPXQuZ2V0VmJ5TGlzdChlLGFbMV0sWzJdLFwiMDJcIikpLFwiMDNcIiE9ZS5zdWJzdHIob1sxXSwyKSl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDQpXCI7cmV0dXJuIG4ua2V5PWkoZSxvWzFdKS5zdWJzdHIoMiksbn19fSgpO3ouZ2V0S2V5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT0odj1KKS5nZXRDaGlsZElkeCxuPSh2LmdldFYsdi5nZXRWYnlMaXN0KSxvPVYuY3J5cHRvLHM9by5FQ0RTQSxhPW8uRFNBLHU9UlNBS2V5LGM9cGVtdG9oZXgsaD16O2lmKHZvaWQgMCE9PXUmJmUgaW5zdGFuY2VvZiB1KXJldHVybiBlO2lmKHZvaWQgMCE9PXMmJmUgaW5zdGFuY2VvZiBzKXJldHVybiBlO2lmKHZvaWQgMCE9PWEmJmUgaW5zdGFuY2VvZiBhKXJldHVybiBlO2lmKHZvaWQgMCE9PWUuY3VydmUmJnZvaWQgMCE9PWUueHkmJnZvaWQgMD09PWUuZClyZXR1cm4gbmV3IHMoe3B1YjplLnh5LGN1cnZlOmUuY3VydmV9KTtpZih2b2lkIDAhPT1lLmN1cnZlJiZ2b2lkIDAhPT1lLmQpcmV0dXJuIG5ldyBzKHtwcnY6ZS5kLGN1cnZlOmUuY3VydmV9KTtpZih2b2lkIDA9PT1lLmt0eSYmdm9pZCAwIT09ZS5uJiZ2b2lkIDAhPT1lLmUmJnZvaWQgMD09PWUuZClyZXR1cm4oQz1uZXcgdSkuc2V0UHVibGljKGUubixlLmUpLEM7aWYodm9pZCAwPT09ZS5rdHkmJnZvaWQgMCE9PWUubiYmdm9pZCAwIT09ZS5lJiZ2b2lkIDAhPT1lLmQmJnZvaWQgMCE9PWUucCYmdm9pZCAwIT09ZS5xJiZ2b2lkIDAhPT1lLmRwJiZ2b2lkIDAhPT1lLmRxJiZ2b2lkIDAhPT1lLmNvJiZ2b2lkIDA9PT1lLnFpKXJldHVybihDPW5ldyB1KS5zZXRQcml2YXRlRXgoZS5uLGUuZSxlLmQsZS5wLGUucSxlLmRwLGUuZHEsZS5jbyksQztpZih2b2lkIDA9PT1lLmt0eSYmdm9pZCAwIT09ZS5uJiZ2b2lkIDAhPT1lLmUmJnZvaWQgMCE9PWUuZCYmdm9pZCAwPT09ZS5wKXJldHVybihDPW5ldyB1KS5zZXRQcml2YXRlKGUubixlLmUsZS5kKSxDO2lmKHZvaWQgMCE9PWUucCYmdm9pZCAwIT09ZS5xJiZ2b2lkIDAhPT1lLmcmJnZvaWQgMCE9PWUueSYmdm9pZCAwPT09ZS54KXJldHVybihDPW5ldyBhKS5zZXRQdWJsaWMoZS5wLGUucSxlLmcsZS55KSxDO2lmKHZvaWQgMCE9PWUucCYmdm9pZCAwIT09ZS5xJiZ2b2lkIDAhPT1lLmcmJnZvaWQgMCE9PWUueSYmdm9pZCAwIT09ZS54KXJldHVybihDPW5ldyBhKS5zZXRQcml2YXRlKGUucCxlLnEsZS5nLGUueSxlLngpLEM7aWYoXCJSU0FcIj09PWUua3R5JiZ2b2lkIDAhPT1lLm4mJnZvaWQgMCE9PWUuZSYmdm9pZCAwPT09ZS5kKXJldHVybihDPW5ldyB1KS5zZXRQdWJsaWMoYjY0dXRvaGV4KGUubiksYjY0dXRvaGV4KGUuZSkpLEM7aWYoXCJSU0FcIj09PWUua3R5JiZ2b2lkIDAhPT1lLm4mJnZvaWQgMCE9PWUuZSYmdm9pZCAwIT09ZS5kJiZ2b2lkIDAhPT1lLnAmJnZvaWQgMCE9PWUucSYmdm9pZCAwIT09ZS5kcCYmdm9pZCAwIT09ZS5kcSYmdm9pZCAwIT09ZS5xaSlyZXR1cm4oQz1uZXcgdSkuc2V0UHJpdmF0ZUV4KGI2NHV0b2hleChlLm4pLGI2NHV0b2hleChlLmUpLGI2NHV0b2hleChlLmQpLGI2NHV0b2hleChlLnApLGI2NHV0b2hleChlLnEpLGI2NHV0b2hleChlLmRwKSxiNjR1dG9oZXgoZS5kcSksYjY0dXRvaGV4KGUucWkpKSxDO2lmKFwiUlNBXCI9PT1lLmt0eSYmdm9pZCAwIT09ZS5uJiZ2b2lkIDAhPT1lLmUmJnZvaWQgMCE9PWUuZClyZXR1cm4oQz1uZXcgdSkuc2V0UHJpdmF0ZShiNjR1dG9oZXgoZS5uKSxiNjR1dG9oZXgoZS5lKSxiNjR1dG9oZXgoZS5kKSksQztpZihcIkVDXCI9PT1lLmt0eSYmdm9pZCAwIT09ZS5jcnYmJnZvaWQgMCE9PWUueCYmdm9pZCAwIT09ZS55JiZ2b2lkIDA9PT1lLmQpe3ZhciBsPShBPW5ldyBzKHtjdXJ2ZTplLmNydn0pKS5lY3BhcmFtcy5rZXlsZW4vNCxmPVwiMDRcIisoXCIwMDAwMDAwMDAwXCIrYjY0dXRvaGV4KGUueCkpLnNsaWNlKC1sKSsoXCIwMDAwMDAwMDAwXCIrYjY0dXRvaGV4KGUueSkpLnNsaWNlKC1sKTtyZXR1cm4gQS5zZXRQdWJsaWNLZXlIZXgoZiksQX1pZihcIkVDXCI9PT1lLmt0eSYmdm9pZCAwIT09ZS5jcnYmJnZvaWQgMCE9PWUueCYmdm9pZCAwIT09ZS55JiZ2b2lkIDAhPT1lLmQpe2w9KEE9bmV3IHMoe2N1cnZlOmUuY3J2fSkpLmVjcGFyYW1zLmtleWxlbi80LGY9XCIwNFwiKyhcIjAwMDAwMDAwMDBcIitiNjR1dG9oZXgoZS54KSkuc2xpY2UoLWwpKyhcIjAwMDAwMDAwMDBcIitiNjR1dG9oZXgoZS55KSkuc2xpY2UoLWwpO3ZhciBnPShcIjAwMDAwMDAwMDBcIitiNjR1dG9oZXgoZS5kKSkuc2xpY2UoLWwpO3JldHVybiBBLnNldFB1YmxpY0tleUhleChmKSxBLnNldFByaXZhdGVLZXlIZXgoZyksQX1pZihcInBrY3M1cHJ2XCI9PT1yKXt2YXIgcCxkPWUsdj1KO2lmKDk9PT0ocD1pKGQsMCkpLmxlbmd0aCkoQz1uZXcgdSkucmVhZFBLQ1M1UHJ2S2V5SGV4KGQpO2Vsc2UgaWYoNj09PXAubGVuZ3RoKShDPW5ldyBhKS5yZWFkUEtDUzVQcnZLZXlIZXgoZCk7ZWxzZXtpZighKHAubGVuZ3RoPjImJlwiMDRcIj09PWQuc3Vic3RyKHBbMV0sMikpKXRocm93XCJ1bnN1cHBvcnRlZCBQS0NTIzEvNSBoZXhhZGVjaW1hbCBrZXlcIjsoQz1uZXcgcykucmVhZFBLQ1M1UHJ2S2V5SGV4KGQpfXJldHVybiBDfWlmKFwicGtjczhwcnZcIj09PXIpcmV0dXJuIEM9aC5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXgoZSk7aWYoXCJwa2NzOHB1YlwiPT09cilyZXR1cm4gaC5fZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4SGV4KGUpO2lmKFwieDUwOXB1YlwiPT09cilyZXR1cm4gWDUwOS5nZXRQdWJsaWNLZXlGcm9tQ2VydEhleChlKTtpZigtMSE9ZS5pbmRleE9mKFwiLUVORCBDRVJUSUZJQ0FURS1cIiwwKXx8LTEhPWUuaW5kZXhPZihcIi1FTkQgWDUwOSBDRVJUSUZJQ0FURS1cIiwwKXx8LTEhPWUuaW5kZXhPZihcIi1FTkQgVFJVU1RFRCBDRVJUSUZJQ0FURS1cIiwwKSlyZXR1cm4gWDUwOS5nZXRQdWJsaWNLZXlGcm9tQ2VydFBFTShlKTtpZigtMSE9ZS5pbmRleE9mKFwiLUVORCBQVUJMSUMgS0VZLVwiKSl7dmFyIHk9cGVtdG9oZXgoZSxcIlBVQkxJQyBLRVlcIik7cmV0dXJuIGguX2dldEtleUZyb21QdWJsaWNQS0NTOEhleCh5KX1pZigtMSE9ZS5pbmRleE9mKFwiLUVORCBSU0EgUFJJVkFURSBLRVktXCIpJiYtMT09ZS5pbmRleE9mKFwiNCxFTkNSWVBURURcIikpe3ZhciBtPWMoZSxcIlJTQSBQUklWQVRFIEtFWVwiKTtyZXR1cm4gaC5nZXRLZXkobSxudWxsLFwicGtjczVwcnZcIil9aWYoLTEhPWUuaW5kZXhPZihcIi1FTkQgRFNBIFBSSVZBVEUgS0VZLVwiKSYmLTE9PWUuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpKXt2YXIgUz1uKEI9YyhlLFwiRFNBIFBSSVZBVEUgS0VZXCIpLDAsWzFdLFwiMDJcIiksYj1uKEIsMCxbMl0sXCIwMlwiKSxGPW4oQiwwLFszXSxcIjAyXCIpLF89bihCLDAsWzRdLFwiMDJcIiksdz1uKEIsMCxbNV0sXCIwMlwiKTtyZXR1cm4oQz1uZXcgYSkuc2V0UHJpdmF0ZShuZXcgQmlnSW50ZWdlcihTLDE2KSxuZXcgQmlnSW50ZWdlcihiLDE2KSxuZXcgQmlnSW50ZWdlcihGLDE2KSxuZXcgQmlnSW50ZWdlcihfLDE2KSxuZXcgQmlnSW50ZWdlcih3LDE2KSksQ31pZigtMSE9ZS5pbmRleE9mKFwiLUVORCBQUklWQVRFIEtFWS1cIikpcmV0dXJuIGguZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNKGUpO2lmKC0xIT1lLmluZGV4T2YoXCItRU5EIFJTQSBQUklWQVRFIEtFWS1cIikmJi0xIT1lLmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSl7dmFyIEU9aC5nZXREZWNyeXB0ZWRLZXlIZXgoZSx0KSx4PW5ldyBSU0FLZXk7cmV0dXJuIHgucmVhZFBLQ1M1UHJ2S2V5SGV4KEUpLHh9aWYoLTEhPWUuaW5kZXhPZihcIi1FTkQgRUMgUFJJVkFURSBLRVktXCIpJiYtMSE9ZS5pbmRleE9mKFwiNCxFTkNSWVBURURcIikpe3ZhciBBLEM9bihCPWguZ2V0RGVjcnlwdGVkS2V5SGV4KGUsdCksMCxbMV0sXCIwNFwiKSxQPW4oQiwwLFsyLDBdLFwiMDZcIiksST1uKEIsMCxbMywwXSxcIjAzXCIpLnN1YnN0cigyKTtpZih2b2lkIDA9PT1WLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbUF0pdGhyb3dcInVuZGVmaW5lZCBPSUQoaGV4KSBpbiBLSlVSLmNyeXB0by5PSUQ6IFwiK1A7cmV0dXJuKEE9bmV3IHMoe2N1cnZlOlYuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtQXX0pKS5zZXRQdWJsaWNLZXlIZXgoSSksQS5zZXRQcml2YXRlS2V5SGV4KEMpLEEuaXNQdWJsaWM9ITEsQX1pZigtMSE9ZS5pbmRleE9mKFwiLUVORCBEU0EgUFJJVkFURSBLRVktXCIpJiYtMSE9ZS5pbmRleE9mKFwiNCxFTkNSWVBURURcIikpe3ZhciBCO1M9bihCPWguZ2V0RGVjcnlwdGVkS2V5SGV4KGUsdCksMCxbMV0sXCIwMlwiKSxiPW4oQiwwLFsyXSxcIjAyXCIpLEY9bihCLDAsWzNdLFwiMDJcIiksXz1uKEIsMCxbNF0sXCIwMlwiKSx3PW4oQiwwLFs1XSxcIjAyXCIpO3JldHVybihDPW5ldyBhKS5zZXRQcml2YXRlKG5ldyBCaWdJbnRlZ2VyKFMsMTYpLG5ldyBCaWdJbnRlZ2VyKGIsMTYpLG5ldyBCaWdJbnRlZ2VyKEYsMTYpLG5ldyBCaWdJbnRlZ2VyKF8sMTYpLG5ldyBCaWdJbnRlZ2VyKHcsMTYpKSxDfWlmKC0xIT1lLmluZGV4T2YoXCItRU5EIEVOQ1JZUFRFRCBQUklWQVRFIEtFWS1cIikpcmV0dXJuIGguZ2V0S2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKGUsdCk7dGhyb3dcIm5vdCBzdXBwb3J0ZWQgYXJndW1lbnRcIn0sei5nZW5lcmF0ZUtleXBhaXI9ZnVuY3Rpb24oZSx0KXtpZihcIlJTQVwiPT1lKXt2YXIgcj10OyhzPW5ldyBSU0FLZXkpLmdlbmVyYXRlKHIsXCIxMDAwMVwiKSxzLmlzUHJpdmF0ZT0hMCxzLmlzUHVibGljPSEwO3ZhciBpPW5ldyBSU0FLZXksbj1zLm4udG9TdHJpbmcoMTYpLG89cy5lLnRvU3RyaW5nKDE2KTtyZXR1cm4gaS5zZXRQdWJsaWMobixvKSxpLmlzUHJpdmF0ZT0hMSxpLmlzUHVibGljPSEwLChhPXt9KS5wcnZLZXlPYmo9cyxhLnB1YktleU9iaj1pLGF9aWYoXCJFQ1wiPT1lKXt2YXIgcyxhLHU9dCxjPW5ldyBWLmNyeXB0by5FQ0RTQSh7Y3VydmU6dX0pLmdlbmVyYXRlS2V5UGFpckhleCgpO3JldHVybihzPW5ldyBWLmNyeXB0by5FQ0RTQSh7Y3VydmU6dX0pKS5zZXRQdWJsaWNLZXlIZXgoYy5lY3B1YmhleCkscy5zZXRQcml2YXRlS2V5SGV4KGMuZWNwcnZoZXgpLHMuaXNQcml2YXRlPSEwLHMuaXNQdWJsaWM9ITEsKGk9bmV3IFYuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp1fSkpLnNldFB1YmxpY0tleUhleChjLmVjcHViaGV4KSxpLmlzUHJpdmF0ZT0hMSxpLmlzUHVibGljPSEwLChhPXt9KS5wcnZLZXlPYmo9cyxhLnB1YktleU9iaj1pLGF9dGhyb3dcInVua25vd24gYWxnb3JpdGhtOiBcIitlfSx6LmdldFBFTT1mdW5jdGlvbihlLHQscixpLG4scyl7dmFyIGE9Vix1PWEuYXNuMSxjPXUuREVST2JqZWN0SWRlbnRpZmllcixoPXUuREVSSW50ZWdlcixsPXUuQVNOMVV0aWwubmV3T2JqZWN0LGY9dS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvLGc9YS5jcnlwdG8scD1nLkRTQSxkPWcuRUNEU0Esdj1SU0FLZXk7ZnVuY3Rpb24gQShlKXtyZXR1cm4gbCh7c2VxOlt7aW50OjB9LHtpbnQ6e2JpZ2ludDplLm59fSx7aW50OmUuZX0se2ludDp7YmlnaW50OmUuZH19LHtpbnQ6e2JpZ2ludDplLnB9fSx7aW50OntiaWdpbnQ6ZS5xfX0se2ludDp7YmlnaW50OmUuZG1wMX19LHtpbnQ6e2JpZ2ludDplLmRtcTF9fSx7aW50OntiaWdpbnQ6ZS5jb2VmZn19XX0pfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGwoe3NlcTpbe2ludDoxfSx7b2N0c3RyOntoZXg6ZS5wcnZLZXlIZXh9fSx7dGFnOltcImEwXCIsITAse29pZDp7bmFtZTplLmN1cnZlTmFtZX19XX0se3RhZzpbXCJhMVwiLCEwLHtiaXRzdHI6e2hleDpcIjAwXCIrZS5wdWJLZXlIZXh9fV19XX0pfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIGwoe3NlcTpbe2ludDowfSx7aW50OntiaWdpbnQ6ZS5wfX0se2ludDp7YmlnaW50OmUucX19LHtpbnQ6e2JpZ2ludDplLmd9fSx7aW50OntiaWdpbnQ6ZS55fX0se2ludDp7YmlnaW50OmUueH19XX0pfWlmKCh2b2lkIDAhPT12JiZlIGluc3RhbmNlb2Ygdnx8dm9pZCAwIT09cCYmZSBpbnN0YW5jZW9mIHB8fHZvaWQgMCE9PWQmJmUgaW5zdGFuY2VvZiBkKSYmMT09ZS5pc1B1YmxpYyYmKHZvaWQgMD09PXR8fFwiUEtDUzhQVUJcIj09dCkpcmV0dXJuIGhleHRvcGVtKEY9bmV3IGYoZSkuZ2V0RW5jb2RlZEhleCgpLFwiUFVCTElDIEtFWVwiKTtpZihcIlBLQ1MxUFJWXCI9PXQmJnZvaWQgMCE9PXYmJmUgaW5zdGFuY2VvZiB2JiYodm9pZCAwPT09cnx8bnVsbD09cikmJjE9PWUuaXNQcml2YXRlKXJldHVybiBoZXh0b3BlbShGPUEoZSkuZ2V0RW5jb2RlZEhleCgpLFwiUlNBIFBSSVZBVEUgS0VZXCIpO2lmKFwiUEtDUzFQUlZcIj09dCYmdm9pZCAwIT09ZCYmZSBpbnN0YW5jZW9mIGQmJih2b2lkIDA9PT1yfHxudWxsPT1yKSYmMT09ZS5pc1ByaXZhdGUpe3ZhciBtPW5ldyBjKHtuYW1lOmUuY3VydmVOYW1lfSkuZ2V0RW5jb2RlZEhleCgpLFM9QihlKS5nZXRFbmNvZGVkSGV4KCksYj1cIlwiO3JldHVybiBiKz1oZXh0b3BlbShtLFwiRUMgUEFSQU1FVEVSU1wiKSxiKz1oZXh0b3BlbShTLFwiRUMgUFJJVkFURSBLRVlcIil9aWYoXCJQS0NTMVBSVlwiPT10JiZ2b2lkIDAhPT1wJiZlIGluc3RhbmNlb2YgcCYmKHZvaWQgMD09PXJ8fG51bGw9PXIpJiYxPT1lLmlzUHJpdmF0ZSlyZXR1cm4gaGV4dG9wZW0oRj14KGUpLmdldEVuY29kZWRIZXgoKSxcIkRTQSBQUklWQVRFIEtFWVwiKTtpZihcIlBLQ1M1UFJWXCI9PXQmJnZvaWQgMCE9PXYmJmUgaW5zdGFuY2VvZiB2JiZ2b2lkIDAhPT1yJiZudWxsIT1yJiYxPT1lLmlzUHJpdmF0ZSl7dmFyIEY9QShlKS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHZvaWQgMD09PWkmJihpPVwiREVTLUVERTMtQ0JDXCIpLHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiUlNBXCIsRixyLGkscyl9aWYoXCJQS0NTNVBSVlwiPT10JiZ2b2lkIDAhPT1kJiZlIGluc3RhbmNlb2YgZCYmdm9pZCAwIT09ciYmbnVsbCE9ciYmMT09ZS5pc1ByaXZhdGUpe0Y9QihlKS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHZvaWQgMD09PWkmJihpPVwiREVTLUVERTMtQ0JDXCIpLHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiRUNcIixGLHIsaSxzKX1pZihcIlBLQ1M1UFJWXCI9PXQmJnZvaWQgMCE9PXAmJmUgaW5zdGFuY2VvZiBwJiZ2b2lkIDAhPT1yJiZudWxsIT1yJiYxPT1lLmlzUHJpdmF0ZSl7Rj14KGUpLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdm9pZCAwPT09aSYmKGk9XCJERVMtRURFMy1DQkNcIiksdGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgoXCJEU0FcIixGLHIsaSxzKX12YXIgXz1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9dyhlLHQpO3JldHVybiBuZXcgbCh7c2VxOlt7c2VxOlt7b2lkOntuYW1lOlwicGtjczVQQkVTMlwifX0se3NlcTpbe3NlcTpbe29pZDp7bmFtZTpcInBrY3M1UEJLREYyXCJ9fSx7c2VxOlt7b2N0c3RyOntoZXg6ci5wYmtkZjJTYWx0fX0se2ludDpyLnBia2RmMkl0ZXJ9XX1dfSx7c2VxOlt7b2lkOntuYW1lOlwiZGVzLUVERTMtQ0JDXCJ9fSx7b2N0c3RyOntoZXg6ci5lbmNyeXB0aW9uU2NoZW1lSVZ9fV19XX1dfSx7b2N0c3RyOntoZXg6ci5jaXBoZXJ0ZXh0fX1dfSkuZ2V0RW5jb2RlZEhleCgpfSx3PWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj15LmxpYi5Xb3JkQXJyYXkucmFuZG9tKDgpLGk9eS5saWIuV29yZEFycmF5LnJhbmRvbSg4KSxuPXkuUEJLREYyKHQscix7a2V5U2l6ZTo2LGl0ZXJhdGlvbnM6MTAwfSksbz15LmVuYy5IZXgucGFyc2UoZSkscz15LlRyaXBsZURFUy5lbmNyeXB0KG8sbix7aXY6aX0pK1wiXCIsYT17fTtyZXR1cm4gYS5jaXBoZXJ0ZXh0PXMsYS5wYmtkZjJTYWx0PXkuZW5jLkhleC5zdHJpbmdpZnkociksYS5wYmtkZjJJdGVyPTEwMCxhLmVuY3J5cHRpb25TY2hlbWVBbGc9XCJERVMtRURFMy1DQkNcIixhLmVuY3J5cHRpb25TY2hlbWVJVj15LmVuYy5IZXguc3RyaW5naWZ5KGkpLGF9O2lmKFwiUEtDUzhQUlZcIj09dCYmdm9pZCAwIT12JiZlIGluc3RhbmNlb2YgdiYmMT09ZS5pc1ByaXZhdGUpe3ZhciBFPUEoZSkuZ2V0RW5jb2RlZEhleCgpO0Y9bCh7c2VxOlt7aW50OjB9LHtzZXE6W3tvaWQ6e25hbWU6XCJyc2FFbmNyeXB0aW9uXCJ9fSx7bnVsbDohMH1dfSx7b2N0c3RyOntoZXg6RX19XX0pLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdm9pZCAwPT09cnx8bnVsbD09cj9oZXh0b3BlbShGLFwiUFJJVkFURSBLRVlcIik6aGV4dG9wZW0oUz1fKEYsciksXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIil9aWYoXCJQS0NTOFBSVlwiPT10JiZ2b2lkIDAhPT1kJiZlIGluc3RhbmNlb2YgZCYmMT09ZS5pc1ByaXZhdGUpe0U9bmV3IGwoe3NlcTpbe2ludDoxfSx7b2N0c3RyOntoZXg6ZS5wcnZLZXlIZXh9fSx7dGFnOltcImExXCIsITAse2JpdHN0cjp7aGV4OlwiMDBcIitlLnB1YktleUhleH19XX1dfSkuZ2V0RW5jb2RlZEhleCgpLEY9bCh7c2VxOlt7aW50OjB9LHtzZXE6W3tvaWQ6e25hbWU6XCJlY1B1YmxpY0tleVwifX0se29pZDp7bmFtZTplLmN1cnZlTmFtZX19XX0se29jdHN0cjp7aGV4OkV9fV19KS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHZvaWQgMD09PXJ8fG51bGw9PXI/aGV4dG9wZW0oRixcIlBSSVZBVEUgS0VZXCIpOmhleHRvcGVtKFM9XyhGLHIpLFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIpfWlmKFwiUEtDUzhQUlZcIj09dCYmdm9pZCAwIT09cCYmZSBpbnN0YW5jZW9mIHAmJjE9PWUuaXNQcml2YXRlKXtFPW5ldyBoKHtiaWdpbnQ6ZS54fSkuZ2V0RW5jb2RlZEhleCgpLEY9bCh7c2VxOlt7aW50OjB9LHtzZXE6W3tvaWQ6e25hbWU6XCJkc2FcIn19LHtzZXE6W3tpbnQ6e2JpZ2ludDplLnB9fSx7aW50OntiaWdpbnQ6ZS5xfX0se2ludDp7YmlnaW50OmUuZ319XX1dfSx7b2N0c3RyOntoZXg6RX19XX0pLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdm9pZCAwPT09cnx8bnVsbD09cj9oZXh0b3BlbShGLFwiUFJJVkFURSBLRVlcIik6aGV4dG9wZW0oUz1fKEYsciksXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIil9dGhyb3dcInVuc3VwcG9ydGVkIG9iamVjdCBub3IgZm9ybWF0XCJ9LHouZ2V0S2V5RnJvbUNTUlBFTT1mdW5jdGlvbihlKXt2YXIgdD1wZW10b2hleChlLFwiQ0VSVElGSUNBVEUgUkVRVUVTVFwiKTtyZXR1cm4gei5nZXRLZXlGcm9tQ1NSSGV4KHQpfSx6LmdldEtleUZyb21DU1JIZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9ei5wYXJzZUNTUkhleChlKTtyZXR1cm4gei5nZXRLZXkodC5wOHB1YmtleWhleCxudWxsLFwicGtjczhwdWJcIil9LHoucGFyc2VDU1JIZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9SixyPXQuZ2V0Q2hpbGRJZHgsaT10LmdldFRMVixuPXt9LG89ZTtpZihcIjMwXCIhPW8uc3Vic3RyKDAsMikpdGhyb3dcIm1hbGZvcm1lZCBDU1IoY29kZTowMDEpXCI7dmFyIHM9cihvLDApO2lmKHMubGVuZ3RoPDEpdGhyb3dcIm1hbGZvcm1lZCBDU1IoY29kZTowMDIpXCI7aWYoXCIzMFwiIT1vLnN1YnN0cihzWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgQ1NSKGNvZGU6MDAzKVwiO3ZhciBhPXIobyxzWzBdKTtpZihhLmxlbmd0aDwzKXRocm93XCJtYWxmb3JtZWQgQ1NSKGNvZGU6MDA0KVwiO3JldHVybiBuLnA4cHVia2V5aGV4PWkobyxhWzJdKSxufSx6LmdldEpXS0Zyb21LZXk9ZnVuY3Rpb24oZSl7dmFyIHQ9e307aWYoZSBpbnN0YW5jZW9mIFJTQUtleSYmZS5pc1ByaXZhdGUpcmV0dXJuIHQua3R5PVwiUlNBXCIsdC5uPWhleHRvYjY0dShlLm4udG9TdHJpbmcoMTYpKSx0LmU9aGV4dG9iNjR1KGUuZS50b1N0cmluZygxNikpLHQuZD1oZXh0b2I2NHUoZS5kLnRvU3RyaW5nKDE2KSksdC5wPWhleHRvYjY0dShlLnAudG9TdHJpbmcoMTYpKSx0LnE9aGV4dG9iNjR1KGUucS50b1N0cmluZygxNikpLHQuZHA9aGV4dG9iNjR1KGUuZG1wMS50b1N0cmluZygxNikpLHQuZHE9aGV4dG9iNjR1KGUuZG1xMS50b1N0cmluZygxNikpLHQucWk9aGV4dG9iNjR1KGUuY29lZmYudG9TdHJpbmcoMTYpKSx0O2lmKGUgaW5zdGFuY2VvZiBSU0FLZXkmJmUuaXNQdWJsaWMpcmV0dXJuIHQua3R5PVwiUlNBXCIsdC5uPWhleHRvYjY0dShlLm4udG9TdHJpbmcoMTYpKSx0LmU9aGV4dG9iNjR1KGUuZS50b1N0cmluZygxNikpLHQ7aWYoZSBpbnN0YW5jZW9mIFYuY3J5cHRvLkVDRFNBJiZlLmlzUHJpdmF0ZSl7aWYoXCJQLTI1NlwiIT09KGk9ZS5nZXRTaG9ydE5JU1RQQ3VydmVOYW1lKCkpJiZcIlAtMzg0XCIhPT1pKXRocm93XCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lIGZvciBKV1Q6IFwiK2k7dmFyIHI9ZS5nZXRQdWJsaWNLZXlYWUhleCgpO3JldHVybiB0Lmt0eT1cIkVDXCIsdC5jcnY9aSx0Lng9aGV4dG9iNjR1KHIueCksdC55PWhleHRvYjY0dShyLnkpLHQuZD1oZXh0b2I2NHUoZS5wcnZLZXlIZXgpLHR9aWYoZSBpbnN0YW5jZW9mIFYuY3J5cHRvLkVDRFNBJiZlLmlzUHVibGljKXt2YXIgaTtpZihcIlAtMjU2XCIhPT0oaT1lLmdldFNob3J0TklTVFBDdXJ2ZU5hbWUoKSkmJlwiUC0zODRcIiE9PWkpdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWUgZm9yIEpXVDogXCIraTtyPWUuZ2V0UHVibGljS2V5WFlIZXgoKTtyZXR1cm4gdC5rdHk9XCJFQ1wiLHQuY3J2PWksdC54PWhleHRvYjY0dShyLngpLHQueT1oZXh0b2I2NHUoci55KSx0fXRocm93XCJub3Qgc3VwcG9ydGVkIGtleSBvYmplY3RcIn0sUlNBS2V5LmdldFBvc0FycmF5T2ZDaGlsZHJlbkZyb21IZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIEouZ2V0Q2hpbGRJZHgoZSwwKX0sUlNBS2V5LmdldEhleFZhbHVlQXJyYXlPZkNoaWxkcmVuRnJvbUhleD1mdW5jdGlvbihlKXt2YXIgdCxyPUouZ2V0VixpPXIoZSwodD1SU0FLZXkuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuRnJvbUhleChlKSlbMF0pLG49cihlLHRbMV0pLG89cihlLHRbMl0pLHM9cihlLHRbM10pLGE9cihlLHRbNF0pLHU9cihlLHRbNV0pLGM9cihlLHRbNl0pLGg9cihlLHRbN10pLGw9cihlLHRbOF0pO3JldHVybih0PW5ldyBBcnJheSkucHVzaChpLG4sbyxzLGEsdSxjLGgsbCksdH0sUlNBS2V5LnByb3RvdHlwZS5yZWFkUHJpdmF0ZUtleUZyb21QRU1TdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9cGVtdG9oZXgoZSkscj1SU0FLZXkuZ2V0SGV4VmFsdWVBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4KHQpO3RoaXMuc2V0UHJpdmF0ZUV4KHJbMV0sclsyXSxyWzNdLHJbNF0scls1XSxyWzZdLHJbN10scls4XSl9LFJTQUtleS5wcm90b3R5cGUucmVhZFBLQ1M1UHJ2S2V5SGV4PWZ1bmN0aW9uKGUpe3ZhciB0PVJTQUtleS5nZXRIZXhWYWx1ZUFycmF5T2ZDaGlsZHJlbkZyb21IZXgoZSk7dGhpcy5zZXRQcml2YXRlRXgodFsxXSx0WzJdLHRbM10sdFs0XSx0WzVdLHRbNl0sdFs3XSx0WzhdKX0sUlNBS2V5LnByb3RvdHlwZS5yZWFkUEtDUzhQcnZLZXlIZXg9ZnVuY3Rpb24oZSl7dmFyIHQscixpLG4sbyxzLGEsdSxjPUosaD1jLmdldFZieUxpc3Q7aWYoITE9PT1jLmlzQVNOMUhFWChlKSl0aHJvd1wibm90IEFTTi4xIGhleCBzdHJpbmdcIjt0cnl7dD1oKGUsMCxbMiwwLDFdLFwiMDJcIikscj1oKGUsMCxbMiwwLDJdLFwiMDJcIiksaT1oKGUsMCxbMiwwLDNdLFwiMDJcIiksbj1oKGUsMCxbMiwwLDRdLFwiMDJcIiksbz1oKGUsMCxbMiwwLDVdLFwiMDJcIikscz1oKGUsMCxbMiwwLDZdLFwiMDJcIiksYT1oKGUsMCxbMiwwLDddLFwiMDJcIiksdT1oKGUsMCxbMiwwLDhdLFwiMDJcIil9Y2F0Y2goZSl7dGhyb3dcIm1hbGZvcm1lZCBQS0NTIzggcGxhaW4gUlNBIHByaXZhdGUga2V5XCJ9dGhpcy5zZXRQcml2YXRlRXgodCxyLGksbixvLHMsYSx1KX0sUlNBS2V5LnByb3RvdHlwZS5yZWFkUEtDUzVQdWJLZXlIZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9SixyPXQuZ2V0VjtpZighMT09PXQuaXNBU04xSEVYKGUpKXRocm93XCJrZXlIZXggaXMgbm90IEFTTi4xIGhleCBzdHJpbmdcIjt2YXIgaT10LmdldENoaWxkSWR4KGUsMCk7aWYoMiE9PWkubGVuZ3RofHxcIjAyXCIhPT1lLnN1YnN0cihpWzBdLDIpfHxcIjAyXCIhPT1lLnN1YnN0cihpWzFdLDIpKXRocm93XCJ3cm9uZyBoZXggZm9yIFBLQ1MjNSBwdWJsaWMga2V5XCI7dmFyIG49cihlLGlbMF0pLG89cihlLGlbMV0pO3RoaXMuc2V0UHVibGljKG4sbyl9LFJTQUtleS5wcm90b3R5cGUucmVhZFBLQ1M4UHViS2V5SGV4PWZ1bmN0aW9uKGUpe3ZhciB0PUo7aWYoITE9PT10LmlzQVNOMUhFWChlKSl0aHJvd1wibm90IEFTTi4xIGhleCBzdHJpbmdcIjtpZihcIjA2MDkyYTg2NDg4NmY3MGQwMTAxMDFcIiE9PXQuZ2V0VExWYnlMaXN0KGUsMCxbMCwwXSkpdGhyb3dcIm5vdCBQS0NTOCBSU0EgcHVibGljIGtleVwiO3ZhciByPXQuZ2V0VExWYnlMaXN0KGUsMCxbMSwwXSk7dGhpcy5yZWFkUEtDUzVQdWJLZXlIZXgocil9LFJTQUtleS5wcm90b3R5cGUucmVhZENlcnRQdWJLZXlIZXg9ZnVuY3Rpb24oZSx0KXt2YXIgcixpOyhyPW5ldyBYNTA5KS5yZWFkQ2VydEhleChlKSxpPXIuZ2V0UHVibGljS2V5SGV4KCksdGhpcy5yZWFkUEtDUzhQdWJLZXlIZXgoaSl9O3ZhciBZPW5ldyBSZWdFeHAoXCJcIik7ZnVuY3Rpb24gX3plcm9QYWRkaW5nT2ZTaWduYXR1cmUoZSx0KXtmb3IodmFyIHI9XCJcIixpPXQvNC1lLmxlbmd0aCxuPTA7bjxpO24rKylyKz1cIjBcIjtyZXR1cm4gcitlfWZ1bmN0aW9uIHBzc19tZ2YxX3N0cihlLHQscil7Zm9yKHZhciBpPVwiXCIsbj0wO2kubGVuZ3RoPHQ7KWkrPWhleHRvcnN0cihyKHJzdHJ0b2hleChlK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLFsoNDI3ODE5MDA4MCZuKT4+MjQsKDE2NzExNjgwJm4pPj4xNiwoNjUyODAmbik+PjgsMjU1Jm5dKSkpKSxuKz0xO3JldHVybiBpfWZ1bmN0aW9uIF9yc2FzaWduX2dldEFsZ05hbWVBbmRIYXNoRnJvbUhleERpc2dlc3RJbmZvKGUpe2Zvcih2YXIgdCBpbiBWLmNyeXB0by5VdGlsLkRJR0VTVElORk9IRUFEKXt2YXIgcj1WLmNyeXB0by5VdGlsLkRJR0VTVElORk9IRUFEW3RdLGk9ci5sZW5ndGg7aWYoZS5zdWJzdHJpbmcoMCxpKT09cilyZXR1cm5bdCxlLnN1YnN0cmluZyhpKV19cmV0dXJuW119ZnVuY3Rpb24gWDUwOSgpe3ZhciBlPUosdD1lLmdldENoaWxkSWR4LHI9ZS5nZXRWLGk9ZS5nZXRUTFYsbj1lLmdldFZieUxpc3Qsbz1lLmdldFRMVmJ5TGlzdCxzPWUuZ2V0SWR4YnlMaXN0LGE9ZS5nZXRWaWR4LHU9ZS5vaWRuYW1lLGM9WDUwOSxoPXBlbXRvaGV4O3RoaXMuaGV4PW51bGwsdGhpcy52ZXJzaW9uPTAsdGhpcy5mb2Zmc2V0PTAsdGhpcy5hRXh0SW5mbz1udWxsLHRoaXMuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5oZXh8fDAhPT10aGlzLnZlcnNpb24/dGhpcy52ZXJzaW9uOlwiYTAwMzAyMDEwMlwiIT09byh0aGlzLmhleCwwLFswLDBdKT8odGhpcy52ZXJzaW9uPTEsdGhpcy5mb2Zmc2V0PS0xLDEpOih0aGlzLnZlcnNpb249MywzKX0sdGhpcy5nZXRTZXJpYWxOdW1iZXJIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLmhleCwwLFswLDErdGhpcy5mb2Zmc2V0XSxcIjAyXCIpfSx0aGlzLmdldFNpZ25hdHVyZUFsZ29yaXRobUZpZWxkPWZ1bmN0aW9uKCl7cmV0dXJuIHUobih0aGlzLmhleCwwLFswLDIrdGhpcy5mb2Zmc2V0LDBdLFwiMDZcIikpfSx0aGlzLmdldElzc3VlckhleD1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMuaGV4LDAsWzAsMyt0aGlzLmZvZmZzZXRdLFwiMzBcIil9LHRoaXMuZ2V0SXNzdWVyU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGMuaGV4MmRuKHRoaXMuZ2V0SXNzdWVySGV4KCkpfSx0aGlzLmdldFN1YmplY3RIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLmhleCwwLFswLDUrdGhpcy5mb2Zmc2V0XSxcIjMwXCIpfSx0aGlzLmdldFN1YmplY3RTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYy5oZXgyZG4odGhpcy5nZXRTdWJqZWN0SGV4KCkpfSx0aGlzLmdldE5vdEJlZm9yZT1mdW5jdGlvbigpe3ZhciBlPW4odGhpcy5oZXgsMCxbMCw0K3RoaXMuZm9mZnNldCwwXSk7cmV0dXJuIGU9ZS5yZXBsYWNlKC8oLi4pL2csXCIlJDFcIiksZT1kZWNvZGVVUklDb21wb25lbnQoZSl9LHRoaXMuZ2V0Tm90QWZ0ZXI9ZnVuY3Rpb24oKXt2YXIgZT1uKHRoaXMuaGV4LDAsWzAsNCt0aGlzLmZvZmZzZXQsMV0pO3JldHVybiBlPWUucmVwbGFjZSgvKC4uKS9nLFwiJSQxXCIpLGU9ZGVjb2RlVVJJQ29tcG9uZW50KGUpfSx0aGlzLmdldFB1YmxpY0tleUhleD1mdW5jdGlvbigpe3JldHVybiBlLmdldFRMVmJ5TGlzdCh0aGlzLmhleCwwLFswLDYrdGhpcy5mb2Zmc2V0XSxcIjMwXCIpfSx0aGlzLmdldFB1YmxpY0tleUlkeD1mdW5jdGlvbigpe3JldHVybiBzKHRoaXMuaGV4LDAsWzAsNit0aGlzLmZvZmZzZXRdLFwiMzBcIil9LHRoaXMuZ2V0UHVibGljS2V5Q29udGVudElkeD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHVibGljS2V5SWR4KCk7cmV0dXJuIHModGhpcy5oZXgsZSxbMSwwXSxcIjMwXCIpfSx0aGlzLmdldFB1YmxpY0tleT1mdW5jdGlvbigpe3JldHVybiB6LmdldEtleSh0aGlzLmdldFB1YmxpY0tleUhleCgpLG51bGwsXCJwa2NzOHB1YlwiKX0sdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1OYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHUobih0aGlzLmhleCwwLFsxLDBdLFwiMDZcIikpfSx0aGlzLmdldFNpZ25hdHVyZVZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy5oZXgsMCxbMl0sXCIwM1wiLCEwKX0sdGhpcy52ZXJpZnlTaWduYXR1cmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1OYW1lKCkscj10aGlzLmdldFNpZ25hdHVyZVZhbHVlSGV4KCksaT1vKHRoaXMuaGV4LDAsWzBdLFwiMzBcIiksbj1uZXcgVi5jcnlwdG8uU2lnbmF0dXJlKHthbGc6dH0pO3JldHVybiBuLmluaXQoZSksbi51cGRhdGVIZXgoaSksbi52ZXJpZnkocil9LHRoaXMucGFyc2VFeHQ9ZnVuY3Rpb24oKXtpZigzIT09dGhpcy52ZXJzaW9uKXJldHVybi0xO3ZhciByPXModGhpcy5oZXgsMCxbMCw3LDBdLFwiMzBcIiksaT10KHRoaXMuaGV4LHIpO3RoaXMuYUV4dEluZm89bmV3IEFycmF5O2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgdT17Y3JpdGljYWw6ITF9LGM9MDszPT09dCh0aGlzLmhleCxpW29dKS5sZW5ndGgmJih1LmNyaXRpY2FsPSEwLGM9MSksdS5vaWQ9ZS5oZXh0b29pZHN0cihuKHRoaXMuaGV4LGlbb10sWzBdLFwiMDZcIikpO3ZhciBoPXModGhpcy5oZXgsaVtvXSxbMStjXSk7dS52aWR4PWEodGhpcy5oZXgsaCksdGhpcy5hRXh0SW5mby5wdXNoKHUpfX0sdGhpcy5nZXRFeHRJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYUV4dEluZm8scj1lO2lmKGUubWF0Y2goL15bMC05Ll0rJC8pfHwocj1WLmFzbjEueDUwOS5PSUQubmFtZTJvaWQoZSkpLFwiXCIhPT1yKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0ub2lkPT09cilyZXR1cm4gdFtpXX0sdGhpcy5nZXRFeHRCYXNpY0NvbnN0cmFpbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFeHRJbmZvKFwiYmFzaWNDb25zdHJhaW50c1wiKTtpZih2b2lkIDA9PT1lKXJldHVybiBlO3ZhciB0PXIodGhpcy5oZXgsZS52aWR4KTtpZihcIlwiPT09dClyZXR1cm57fTtpZihcIjAxMDFmZlwiPT09dClyZXR1cm57Y0E6ITB9O2lmKFwiMDEwMWZmMDJcIj09PXQuc3Vic3RyKDAsOCkpe3ZhciBpPXIodCw2KTtyZXR1cm57Y0E6ITAscGF0aExlbjpwYXJzZUludChpLDE2KX19dGhyb3dcImJhc2ljQ29uc3RyYWludHMgcGFyc2UgZXJyb3JcIn0sdGhpcy5nZXRFeHRLZXlVc2FnZUJpbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RXh0SW5mbyhcImtleVVzYWdlXCIpO2lmKHZvaWQgMD09PWUpcmV0dXJuXCJcIjt2YXIgdD1yKHRoaXMuaGV4LGUudmlkeCk7aWYodC5sZW5ndGglMiE9MHx8dC5sZW5ndGg8PTIpdGhyb3dcIm1hbGZvcm1lZCBrZXkgdXNhZ2UgdmFsdWVcIjt2YXIgaT1wYXJzZUludCh0LnN1YnN0cigwLDIpKSxuPXBhcnNlSW50KHQuc3Vic3RyKDIpLDE2KS50b1N0cmluZygyKTtyZXR1cm4gbi5zdWJzdHIoMCxuLmxlbmd0aC1pKX0sdGhpcy5nZXRFeHRLZXlVc2FnZVN0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldEV4dEtleVVzYWdlQmluKCksdD1uZXcgQXJyYXkscj0wO3I8ZS5sZW5ndGg7cisrKVwiMVwiPT1lLnN1YnN0cihyLDEpJiZ0LnB1c2goWDUwOS5LRVlVU0FHRV9OQU1FW3JdKTtyZXR1cm4gdC5qb2luKFwiLFwiKX0sdGhpcy5nZXRFeHRTdWJqZWN0S2V5SWRlbnRpZmllcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RXh0SW5mbyhcInN1YmplY3RLZXlJZGVudGlmaWVyXCIpO3JldHVybiB2b2lkIDA9PT1lP2U6cih0aGlzLmhleCxlLnZpZHgpfSx0aGlzLmdldEV4dEF1dGhvcml0eUtleUlkZW50aWZpZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEV4dEluZm8oXCJhdXRob3JpdHlLZXlJZGVudGlmaWVyXCIpO2lmKHZvaWQgMD09PWUpcmV0dXJuIGU7Zm9yKHZhciBuPXt9LG89aSh0aGlzLmhleCxlLnZpZHgpLHM9dChvLDApLGE9MDthPHMubGVuZ3RoO2ErKylcIjgwXCI9PT1vLnN1YnN0cihzW2FdLDIpJiYobi5raWQ9cihvLHNbYV0pKTtyZXR1cm4gbn0sdGhpcy5nZXRFeHRFeHRLZXlVc2FnZU5hbWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEV4dEluZm8oXCJleHRLZXlVc2FnZVwiKTtpZih2b2lkIDA9PT1lKXJldHVybiBlO3ZhciBuPW5ldyBBcnJheSxvPWkodGhpcy5oZXgsZS52aWR4KTtpZihcIlwiPT09bylyZXR1cm4gbjtmb3IodmFyIHM9dChvLDApLGE9MDthPHMubGVuZ3RoO2ErKyluLnB1c2godShyKG8sc1thXSkpKTtyZXR1cm4gbn0sdGhpcy5nZXRFeHRTdWJqZWN0QWx0TmFtZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldEV4dFN1YmplY3RBbHROYW1lMigpLHQ9bmV3IEFycmF5LHI9MDtyPGUubGVuZ3RoO3IrKylcIkROU1wiPT09ZVtyXVswXSYmdC5wdXNoKGVbcl1bMV0pO3JldHVybiB0fSx0aGlzLmdldEV4dFN1YmplY3RBbHROYW1lMj1mdW5jdGlvbigpe3ZhciBlLG4sbyxzPXRoaXMuZ2V0RXh0SW5mbyhcInN1YmplY3RBbHROYW1lXCIpO2lmKHZvaWQgMD09PXMpcmV0dXJuIHM7Zm9yKHZhciBhPW5ldyBBcnJheSx1PWkodGhpcy5oZXgscy52aWR4KSxjPXQodSwwKSxoPTA7aDxjLmxlbmd0aDtoKyspbz11LnN1YnN0cihjW2hdLDIpLGU9cih1LGNbaF0pLFwiODFcIj09PW8mJihuPWhleHRvdXRmOChlKSxhLnB1c2goW1wiTUFJTFwiLG5dKSksXCI4MlwiPT09byYmKG49aGV4dG91dGY4KGUpLGEucHVzaChbXCJETlNcIixuXSkpLFwiODRcIj09PW8mJihuPVg1MDkuaGV4MmRuKGUsMCksYS5wdXNoKFtcIkROXCIsbl0pKSxcIjg2XCI9PT1vJiYobj1oZXh0b3V0ZjgoZSksYS5wdXNoKFtcIlVSSVwiLG5dKSksXCI4N1wiPT09byYmKG49aGV4dG9pcChlKSxhLnB1c2goW1wiSVBcIixuXSkpO3JldHVybiBhfSx0aGlzLmdldEV4dENSTERpc3RyaWJ1dGlvblBvaW50c1VSST1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RXh0SW5mbyhcImNSTERpc3RyaWJ1dGlvblBvaW50c1wiKTtpZih2b2lkIDA9PT1lKXJldHVybiBlO2Zvcih2YXIgcj1uZXcgQXJyYXksaT10KHRoaXMuaGV4LGUudmlkeCksbz0wO288aS5sZW5ndGg7bysrKXRyeXt2YXIgcz1oZXh0b3V0Zjgobih0aGlzLmhleCxpW29dLFswLDAsMF0sXCI4NlwiKSk7ci5wdXNoKHMpfWNhdGNoKGUpe31yZXR1cm4gcn0sdGhpcy5nZXRFeHRBSUFJbmZvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFeHRJbmZvKFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiKTtpZih2b2lkIDA9PT1lKXJldHVybiBlO2Zvcih2YXIgcj17b2NzcDpbXSxjYWlzc3VlcjpbXX0saT10KHRoaXMuaGV4LGUudmlkeCksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcz1uKHRoaXMuaGV4LGlbb10sWzBdLFwiMDZcIiksYT1uKHRoaXMuaGV4LGlbb10sWzFdLFwiODZcIik7XCIyYjA2MDEwNTA1MDczMDAxXCI9PT1zJiZyLm9jc3AucHVzaChoZXh0b3V0ZjgoYSkpLFwiMmIwNjAxMDUwNTA3MzAwMlwiPT09cyYmci5jYWlzc3Vlci5wdXNoKGhleHRvdXRmOChhKSl9cmV0dXJuIHJ9LHRoaXMuZ2V0RXh0Q2VydGlmaWNhdGVQb2xpY2llcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RXh0SW5mbyhcImNlcnRpZmljYXRlUG9saWNpZXNcIik7aWYodm9pZCAwPT09ZSlyZXR1cm4gZTtmb3IodmFyIG89aSh0aGlzLmhleCxlLnZpZHgpLHM9W10sYT10KG8sMCksYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgaD17fSxsPXQobyxhW2NdKTtpZihoLmlkPXUocihvLGxbMF0pKSwyPT09bC5sZW5ndGgpZm9yKHZhciBmPXQobyxsWzFdKSxnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciBwPW4obyxmW2ddLFswXSxcIjA2XCIpO1wiMmIwNjAxMDUwNTA3MDIwMVwiPT09cD9oLmNwcz1oZXh0b3V0ZjgobihvLGZbZ10sWzFdKSk6XCIyYjA2MDEwNTA1MDcwMjAyXCI9PT1wJiYoaC51bm90aWNlPWhleHRvdXRmOChuKG8sZltnXSxbMSwwXSkpKX1zLnB1c2goaCl9cmV0dXJuIHN9LHRoaXMucmVhZENlcnRQRU09ZnVuY3Rpb24oZSl7dGhpcy5yZWFkQ2VydEhleChoKGUpKX0sdGhpcy5yZWFkQ2VydEhleD1mdW5jdGlvbihlKXt0aGlzLmhleD1lLHRoaXMuZ2V0VmVyc2lvbigpO3RyeXtzKHRoaXMuaGV4LDAsWzAsN10sXCJhM1wiKSx0aGlzLnBhcnNlRXh0KCl9Y2F0Y2goZSl7fX0sdGhpcy5nZXRJbmZvPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2lmKGU9XCJCYXNpYyBGaWVsZHNcXG5cIixlKz1cIiAgc2VyaWFsIG51bWJlcjogXCIrdGhpcy5nZXRTZXJpYWxOdW1iZXJIZXgoKStcIlxcblwiLGUrPVwiICBzaWduYXR1cmUgYWxnb3JpdGhtOiBcIit0aGlzLmdldFNpZ25hdHVyZUFsZ29yaXRobUZpZWxkKCkrXCJcXG5cIixlKz1cIiAgaXNzdWVyOiBcIit0aGlzLmdldElzc3VlclN0cmluZygpK1wiXFxuXCIsZSs9XCIgIG5vdEJlZm9yZTogXCIrdGhpcy5nZXROb3RCZWZvcmUoKStcIlxcblwiLGUrPVwiICBub3RBZnRlcjogXCIrdGhpcy5nZXROb3RBZnRlcigpK1wiXFxuXCIsZSs9XCIgIHN1YmplY3Q6IFwiK3RoaXMuZ2V0U3ViamVjdFN0cmluZygpK1wiXFxuXCIsZSs9XCIgIHN1YmplY3QgcHVibGljIGtleSBpbmZvOiBcXG5cIixlKz1cIiAgICBrZXkgYWxnb3JpdGhtOiBcIisodD10aGlzLmdldFB1YmxpY0tleSgpKS50eXBlK1wiXFxuXCIsXCJSU0FcIj09PXQudHlwZSYmKGUrPVwiICAgIG49XCIraGV4dG9wb3NoZXgodC5uLnRvU3RyaW5nKDE2KSkuc3Vic3RyKDAsMTYpK1wiLi4uXFxuXCIsZSs9XCIgICAgZT1cIitoZXh0b3Bvc2hleCh0LmUudG9TdHJpbmcoMTYpKStcIlxcblwiKSx2b2lkIDAhPT0ocj10aGlzLmFFeHRJbmZvKSYmbnVsbCE9PXIpe2UrPVwiWDUwOXYzIEV4dGVuc2lvbnM6XFxuXCI7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV0sbz1WLmFzbjEueDUwOS5PSUQub2lkMm5hbWUobi5vaWQpO1wiXCI9PT1vJiYobz1uLm9pZCk7dmFyIHM9XCJcIjtpZighMD09PW4uY3JpdGljYWwmJihzPVwiQ1JJVElDQUxcIiksZSs9XCIgIFwiK28rXCIgXCIrcytcIjpcXG5cIixcImJhc2ljQ29uc3RyYWludHNcIj09PW8pe3ZhciBhPXRoaXMuZ2V0RXh0QmFzaWNDb25zdHJhaW50cygpO3ZvaWQgMD09PWEuY0E/ZSs9XCIgICAge31cXG5cIjooZSs9XCIgICAgY0E9dHJ1ZVwiLHZvaWQgMCE9PWEucGF0aExlbiYmKGUrPVwiLCBwYXRoTGVuPVwiK2EucGF0aExlbiksZSs9XCJcXG5cIil9ZWxzZSBpZihcImtleVVzYWdlXCI9PT1vKWUrPVwiICAgIFwiK3RoaXMuZ2V0RXh0S2V5VXNhZ2VTdHJpbmcoKStcIlxcblwiO2Vsc2UgaWYoXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiPT09byllKz1cIiAgICBcIit0aGlzLmdldEV4dFN1YmplY3RLZXlJZGVudGlmaWVyKCkrXCJcXG5cIjtlbHNlIGlmKFwiYXV0aG9yaXR5S2V5SWRlbnRpZmllclwiPT09byl7dmFyIHU9dGhpcy5nZXRFeHRBdXRob3JpdHlLZXlJZGVudGlmaWVyKCk7dm9pZCAwIT09dS5raWQmJihlKz1cIiAgICBraWQ9XCIrdS5raWQrXCJcXG5cIil9ZWxzZXtpZihcImV4dEtleVVzYWdlXCI9PT1vKWUrPVwiICAgIFwiK3RoaXMuZ2V0RXh0RXh0S2V5VXNhZ2VOYW1lKCkuam9pbihcIiwgXCIpK1wiXFxuXCI7ZWxzZSBpZihcInN1YmplY3RBbHROYW1lXCI9PT1vKWUrPVwiICAgIFwiK3RoaXMuZ2V0RXh0U3ViamVjdEFsdE5hbWUyKCkrXCJcXG5cIjtlbHNlIGlmKFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCI9PT1vKWUrPVwiICAgIFwiK3RoaXMuZ2V0RXh0Q1JMRGlzdHJpYnV0aW9uUG9pbnRzVVJJKCkrXCJcXG5cIjtlbHNlIGlmKFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiPT09byl7dmFyIGM9dGhpcy5nZXRFeHRBSUFJbmZvKCk7dm9pZCAwIT09Yy5vY3NwJiYoZSs9XCIgICAgb2NzcDogXCIrYy5vY3NwLmpvaW4oXCIsXCIpK1wiXFxuXCIpLHZvaWQgMCE9PWMuY2Fpc3N1ZXImJihlKz1cIiAgICBjYWlzc3VlcjogXCIrYy5jYWlzc3Vlci5qb2luKFwiLFwiKStcIlxcblwiKX1lbHNlIGlmKFwiY2VydGlmaWNhdGVQb2xpY2llc1wiPT09bylmb3IodmFyIGg9dGhpcy5nZXRFeHRDZXJ0aWZpY2F0ZVBvbGljaWVzKCksbD0wO2w8aC5sZW5ndGg7bCsrKXZvaWQgMCE9PWhbbF0uaWQmJihlKz1cIiAgICBwb2xpY3kgb2lkOiBcIitoW2xdLmlkK1wiXFxuXCIpLHZvaWQgMCE9PWhbbF0uY3BzJiYoZSs9XCIgICAgY3BzOiBcIitoW2xdLmNwcytcIlxcblwiKX19fXJldHVybiBlKz1cInNpZ25hdHVyZSBhbGdvcml0aG06IFwiK3RoaXMuZ2V0U2lnbmF0dXJlQWxnb3JpdGhtTmFtZSgpK1wiXFxuXCIsZSs9XCJzaWduYXR1cmU6IFwiK3RoaXMuZ2V0U2lnbmF0dXJlVmFsdWVIZXgoKS5zdWJzdHIoMCwxNikrXCIuLi5cXG5cIn19WS5jb21waWxlKFwiW14wLTlhLWZdXCIsXCJnaVwiKSxSU0FLZXkucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24oZSx0KXt2YXIgcj1mdW5jdGlvbiBiKGUpe3JldHVybiBWLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcoZSx0KX0oZSk7cmV0dXJuIHRoaXMuc2lnbldpdGhNZXNzYWdlSGFzaChyLHQpfSxSU0FLZXkucHJvdG90eXBlLnNpZ25XaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1wYXJzZUJpZ0ludChWLmNyeXB0by5VdGlsLmdldFBhZGRlZERpZ2VzdEluZm9IZXgoZSx0LHRoaXMubi5iaXRMZW5ndGgoKSksMTYpO3JldHVybiBfemVyb1BhZGRpbmdPZlNpZ25hdHVyZSh0aGlzLmRvUHJpdmF0ZShyKS50b1N0cmluZygxNiksdGhpcy5uLmJpdExlbmd0aCgpKX0sUlNBS2V5LnByb3RvdHlwZS5zaWduUFNTPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1mdW5jdGlvbiBjKGUpe3JldHVybiBWLmNyeXB0by5VdGlsLmhhc2hIZXgoZSx0KX0ocnN0cnRvaGV4KGUpKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LTEpLHRoaXMuc2lnbldpdGhNZXNzYWdlSGFzaFBTUyhpLHQscil9LFJTQUtleS5wcm90b3R5cGUuc2lnbldpdGhNZXNzYWdlSGFzaFBTUz1mdW5jdGlvbihlLHQscil7dmFyIGksbj1oZXh0b3JzdHIoZSkscz1uLmxlbmd0aCxhPXRoaXMubi5iaXRMZW5ndGgoKS0xLHU9TWF0aC5jZWlsKGEvOCksYz1mdW5jdGlvbiBvKGUpe3JldHVybiBWLmNyeXB0by5VdGlsLmhhc2hIZXgoZSx0KX07aWYoLTE9PT1yfHx2b2lkIDA9PT1yKXI9cztlbHNlIGlmKC0yPT09cilyPXUtcy0yO2Vsc2UgaWYocjwtMil0aHJvd1wiaW52YWxpZCBzYWx0IGxlbmd0aFwiO2lmKHU8cytyKzIpdGhyb3dcImRhdGEgdG9vIGxvbmdcIjt2YXIgaD1cIlwiO3I+MCYmKGg9bmV3IEFycmF5KHIpLChuZXcgU2VjdXJlUmFuZG9tKS5uZXh0Qnl0ZXMoaCksaD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxoKSk7dmFyIGw9aGV4dG9yc3RyKGMocnN0cnRvaGV4KFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCIrbitoKSkpLGY9W107Zm9yKGk9MDtpPHUtci1zLTI7aSs9MSlmW2ldPTA7dmFyIGc9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZikrXCJcdTAwMDFcIitoLHA9cHNzX21nZjFfc3RyKGwsZy5sZW5ndGgsYyksZD1bXTtmb3IoaT0wO2k8Zy5sZW5ndGg7aSs9MSlkW2ldPWcuY2hhckNvZGVBdChpKV5wLmNoYXJDb2RlQXQoaSk7dmFyIHY9NjUyODA+PjgqdS1hJjI1NTtmb3IoZFswXSY9fnYsaT0wO2k8cztpKyspZC5wdXNoKGwuY2hhckNvZGVBdChpKSk7cmV0dXJuIGQucHVzaCgxODgpLF96ZXJvUGFkZGluZ09mU2lnbmF0dXJlKHRoaXMuZG9Qcml2YXRlKG5ldyBCaWdJbnRlZ2VyKGQpKS50b1N0cmluZygxNiksdGhpcy5uLmJpdExlbmd0aCgpKX0sUlNBS2V5LnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1wYXJzZUJpZ0ludCh0PSh0PXQucmVwbGFjZShZLFwiXCIpKS5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIiksMTYpO2lmKHIuYml0TGVuZ3RoKCk+dGhpcy5uLmJpdExlbmd0aCgpKXJldHVybiAwO3ZhciBpPV9yc2FzaWduX2dldEFsZ05hbWVBbmRIYXNoRnJvbUhleERpc2dlc3RJbmZvKHRoaXMuZG9QdWJsaWMocikudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIikpO2lmKDA9PWkubGVuZ3RoKXJldHVybiExO3ZhciBuPWlbMF07cmV0dXJuIGlbMV09PWZ1bmN0aW9uIGEoZSl7cmV0dXJuIFYuY3J5cHRvLlV0aWwuaGFzaFN0cmluZyhlLG4pfShlKX0sUlNBS2V5LnByb3RvdHlwZS52ZXJpZnlXaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1wYXJzZUJpZ0ludCh0PSh0PXQucmVwbGFjZShZLFwiXCIpKS5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIiksMTYpO2lmKHIuYml0TGVuZ3RoKCk+dGhpcy5uLmJpdExlbmd0aCgpKXJldHVybiAwO3ZhciBpPV9yc2FzaWduX2dldEFsZ05hbWVBbmRIYXNoRnJvbUhleERpc2dlc3RJbmZvKHRoaXMuZG9QdWJsaWMocikudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIikpO2lmKDA9PWkubGVuZ3RoKXJldHVybiExO2lbMF07cmV0dXJuIGlbMV09PWV9LFJTQUtleS5wcm90b3R5cGUudmVyaWZ5UFNTPWZ1bmN0aW9uKHQscixpLG4pe3ZhciBvPWZ1bmN0aW9uIGUodCl7cmV0dXJuIFYuY3J5cHRvLlV0aWwuaGFzaEhleCh0LGkpfShyc3RydG9oZXgodCkpO3JldHVybiB2b2lkIDA9PT1uJiYobj0tMSksdGhpcy52ZXJpZnlXaXRoTWVzc2FnZUhhc2hQU1MobyxyLGksbil9LFJTQUtleS5wcm90b3R5cGUudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBvPW5ldyBCaWdJbnRlZ2VyKHQsMTYpO2lmKG8uYml0TGVuZ3RoKCk+dGhpcy5uLmJpdExlbmd0aCgpKXJldHVybiExO3ZhciBzLGE9ZnVuY3Rpb24gcihlKXtyZXR1cm4gVi5jcnlwdG8uVXRpbC5oYXNoSGV4KGUsaSl9LHU9aGV4dG9yc3RyKGUpLGM9dS5sZW5ndGgsaD10aGlzLm4uYml0TGVuZ3RoKCktMSxsPU1hdGguY2VpbChoLzgpO2lmKC0xPT09bnx8dm9pZCAwPT09biluPWM7ZWxzZSBpZigtMj09PW4pbj1sLWMtMjtlbHNlIGlmKG48LTIpdGhyb3dcImludmFsaWQgc2FsdCBsZW5ndGhcIjtpZihsPGMrbisyKXRocm93XCJkYXRhIHRvbyBsb25nXCI7dmFyIGY9dGhpcy5kb1B1YmxpYyhvKS50b0J5dGVBcnJheSgpO2ZvcihzPTA7czxmLmxlbmd0aDtzKz0xKWZbc10mPTI1NTtmb3IoO2YubGVuZ3RoPGw7KWYudW5zaGlmdCgwKTtpZigxODghPT1mW2wtMV0pdGhyb3dcImVuY29kZWQgbWVzc2FnZSBkb2VzIG5vdCBlbmQgaW4gMHhiY1wiO3ZhciBnPShmPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGYpKS5zdWJzdHIoMCxsLWMtMSkscD1mLnN1YnN0cihnLmxlbmd0aCxjKSxkPTY1MjgwPj44KmwtaCYyNTU7aWYoMCE9KGcuY2hhckNvZGVBdCgwKSZkKSl0aHJvd1wiYml0cyBiZXlvbmQga2V5c2l6ZSBub3QgemVyb1wiO3ZhciB2PXBzc19tZ2YxX3N0cihwLGcubGVuZ3RoLGEpLHk9W107Zm9yKHM9MDtzPGcubGVuZ3RoO3MrPTEpeVtzXT1nLmNoYXJDb2RlQXQocyledi5jaGFyQ29kZUF0KHMpO3lbMF0mPX5kO3ZhciBtPWwtYy1uLTI7Zm9yKHM9MDtzPG07cys9MSlpZigwIT09eVtzXSl0aHJvd1wibGVmdG1vc3Qgb2N0ZXRzIG5vdCB6ZXJvXCI7aWYoMSE9PXlbbV0pdGhyb3dcIjB4MDEgbWFya2VyIG5vdCBmb3VuZFwiO3JldHVybiBwPT09aGV4dG9yc3RyKGEocnN0cnRvaGV4KFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCIrdStTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx5LnNsaWNlKC1uKSkpKSl9LFJTQUtleS5TQUxUX0xFTl9ITEVOPS0xLFJTQUtleS5TQUxUX0xFTl9NQVg9LTIsUlNBS2V5LlNBTFRfTEVOX1JFQ09WRVI9LTIsWDUwOS5oZXgyZG49ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0wKSxcIjMwXCIhPT1lLnN1YnN0cih0LDIpKXRocm93XCJtYWxmb3JtZWQgRE5cIjtmb3IodmFyIHI9bmV3IEFycmF5LGk9Si5nZXRDaGlsZElkeChlLHQpLG49MDtuPGkubGVuZ3RoO24rKylyLnB1c2goWDUwOS5oZXgycmRuKGUsaVtuXSkpO3JldHVyblwiL1wiKyhyPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoXCIvXCIsXCJcXFxcL1wiKX0pKS5qb2luKFwiL1wiKX0sWDUwOS5oZXgycmRuPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9MCksXCIzMVwiIT09ZS5zdWJzdHIodCwyKSl0aHJvd1wibWFsZm9ybWVkIFJETlwiO2Zvcih2YXIgcj1uZXcgQXJyYXksaT1KLmdldENoaWxkSWR4KGUsdCksbj0wO248aS5sZW5ndGg7bisrKXIucHVzaChYNTA5LmhleDJhdHRyVHlwZVZhbHVlKGUsaVtuXSkpO3JldHVybihyPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoXCIrXCIsXCJcXFxcK1wiKX0pKS5qb2luKFwiK1wiKX0sWDUwOS5oZXgyYXR0clR5cGVWYWx1ZT1mdW5jdGlvbihlLHQpe3ZhciByPUosaT1yLmdldFY7aWYodm9pZCAwPT09dCYmKHQ9MCksXCIzMFwiIT09ZS5zdWJzdHIodCwyKSl0aHJvd1wibWFsZm9ybWVkIGF0dHJpYnV0ZSB0eXBlIGFuZCB2YWx1ZVwiO3ZhciBuPXIuZ2V0Q2hpbGRJZHgoZSx0KTsyIT09bi5sZW5ndGh8fGUuc3Vic3RyKG5bMF0sMik7dmFyIG89aShlLG5bMF0pLHM9Vi5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50KG8pO3JldHVybiBWLmFzbjEueDUwOS5PSUQub2lkMmF0eXBlKHMpK1wiPVwiK2hleHRvcnN0cihpKGUsblsxXSkpfSxYNTA5LmdldFB1YmxpY0tleUZyb21DZXJ0SGV4PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBYNTA5O3JldHVybiB0LnJlYWRDZXJ0SGV4KGUpLHQuZ2V0UHVibGljS2V5KCl9LFg1MDkuZ2V0UHVibGljS2V5RnJvbUNlcnRQRU09ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFg1MDk7cmV0dXJuIHQucmVhZENlcnRQRU0oZSksdC5nZXRQdWJsaWNLZXkoKX0sWDUwOS5nZXRQdWJsaWNLZXlJbmZvUHJvcE9mQ2VydFBFTT1mdW5jdGlvbihlKXt2YXIgdCxyLGk9Si5nZXRWYnlMaXN0LG49e307cmV0dXJuIG4uYWxncGFyYW09bnVsbCwodD1uZXcgWDUwOSkucmVhZENlcnRQRU0oZSkscj10LmdldFB1YmxpY0tleUhleCgpLG4ua2V5aGV4PWkociwwLFsxXSxcIjAzXCIpLnN1YnN0cigyKSxuLmFsZ29pZD1pKHIsMCxbMCwwXSxcIjA2XCIpLFwiMmE4NjQ4Y2UzZDAyMDFcIj09PW4uYWxnb2lkJiYobi5hbGdwYXJhbT1pKHIsMCxbMCwxXSxcIjA2XCIpKSxufSxYNTA5LktFWVVTQUdFX05BTUU9W1wiZGlnaXRhbFNpZ25hdHVyZVwiLFwibm9uUmVwdWRpYXRpb25cIixcImtleUVuY2lwaGVybWVudFwiLFwiZGF0YUVuY2lwaGVybWVudFwiLFwia2V5QWdyZWVtZW50XCIsXCJrZXlDZXJ0U2lnblwiLFwiY1JMU2lnblwiLFwiZW5jaXBoZXJPbmx5XCIsXCJkZWNpcGhlck9ubHlcIl0sdm9pZCAwIT09ViYmVnx8KFY9e30pLHZvaWQgMCE9PVYuandzJiZWLmp3c3x8KFYuandzPXt9KSxWLmp3cy5KV1M9ZnVuY3Rpb24oKXt2YXIgZT1WLmp3cy5KV1MuaXNTYWZlSlNPTlN0cmluZzt0aGlzLnBhcnNlSldTPWZ1bmN0aW9uKHQscil7aWYodm9pZCAwPT09dGhpcy5wYXJzZWRKV1N8fCFyJiZ2b2lkIDA9PT10aGlzLnBhcnNlZEpXUy5zaWd2YWxIKXt2YXIgaT10Lm1hdGNoKC9eKFteLl0rKVxcLihbXi5dKylcXC4oW14uXSspJC8pO2lmKG51bGw9PWkpdGhyb3dcIkpXUyBzaWduYXR1cmUgaXMgbm90IGEgZm9ybSBvZiAnSGVhZC5QYXlsb2FkLlNpZ1ZhbHVlJy5cIjt2YXIgbj1pWzFdLG89aVsyXSxzPWlbM10sYT1uK1wiLlwiK287aWYodGhpcy5wYXJzZWRKV1M9e30sdGhpcy5wYXJzZWRKV1MuaGVhZEI2NFU9bix0aGlzLnBhcnNlZEpXUy5wYXlsb2FkQjY0VT1vLHRoaXMucGFyc2VkSldTLnNpZ3ZhbEI2NFU9cyx0aGlzLnBhcnNlZEpXUy5zaT1hLCFyKXt2YXIgdT1iNjR1dG9oZXgocyksYz1wYXJzZUJpZ0ludCh1LDE2KTt0aGlzLnBhcnNlZEpXUy5zaWd2YWxIPXUsdGhpcy5wYXJzZWRKV1Muc2lndmFsQkk9Y312YXIgaD1XKG4pLGw9VyhvKTtpZih0aGlzLnBhcnNlZEpXUy5oZWFkUz1oLHRoaXMucGFyc2VkSldTLnBheWxvYWRTPWwsIWUoaCx0aGlzLnBhcnNlZEpXUyxcImhlYWRQXCIpKXRocm93XCJtYWxmb3JtZWQgSlNPTiBzdHJpbmcgZm9yIEpXUyBIZWFkOiBcIitofX19LFYuandzLkpXUy5zaWduPWZ1bmN0aW9uKGUsdCxyLGksbyl7dmFyIHMsYSx1LGM9VixoPWMuandzLkpXUyxsPWgucmVhZFNhZmVKU09OU3RyaW5nLGY9aC5pc1NhZmVKU09OU3RyaW5nLGc9Yy5jcnlwdG8scD0oZy5FQ0RTQSxnLk1hYyksZD1nLlNpZ25hdHVyZSx2PUpTT047aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJlwib2JqZWN0XCIhPSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6bih0KSkpdGhyb3dcInNwSGVhZGVyIG11c3QgYmUgSlNPTiBzdHJpbmcgb3Igb2JqZWN0OiBcIit0O2lmKFwib2JqZWN0XCI9PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6bih0KSkmJihhPXQscz12LnN0cmluZ2lmeShhKSksXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKCFmKHM9dCkpdGhyb3dcIkpXUyBIZWFkIGlzIG5vdCBzYWZlIEpTT04gc3RyaW5nOiBcIitzO2E9bChzKX1pZih1PXIsXCJvYmplY3RcIj09KHZvaWQgMD09PXI/XCJ1bmRlZmluZWRcIjpuKHIpKSYmKHU9di5zdHJpbmdpZnkocikpLFwiXCIhPWUmJm51bGwhPWV8fHZvaWQgMD09PWEuYWxnfHwoZT1hLmFsZyksXCJcIiE9ZSYmbnVsbCE9ZSYmdm9pZCAwPT09YS5hbGcmJihhLmFsZz1lLHM9di5zdHJpbmdpZnkoYSkpLGUhPT1hLmFsZyl0aHJvd1wiYWxnIGFuZCBzSGVhZGVyLmFsZyBkb2Vzbid0IG1hdGNoOiBcIitlK1wiIT1cIithLmFsZzt2YXIgeT1udWxsO2lmKHZvaWQgMD09PWguandzYWxnMnNpZ2FsZ1tlXSl0aHJvd1widW5zdXBwb3J0ZWQgYWxnIG5hbWU6IFwiK2U7eT1oLmp3c2FsZzJzaWdhbGdbZV07dmFyIG09cShzKStcIi5cIitxKHUpLFM9XCJcIjtpZihcIkhtYWNcIj09eS5zdWJzdHIoMCw0KSl7aWYodm9pZCAwPT09aSl0aHJvd1wibWFjIGtleSBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yIEhTKiBhbGdcIjt2YXIgYj1uZXcgcCh7YWxnOnkscHJvdjpcImNyeXB0b2pzXCIscGFzczppfSk7Yi51cGRhdGVTdHJpbmcobSksUz1iLmRvRmluYWwoKX1lbHNle3ZhciBGO2lmKC0xIT15LmluZGV4T2YoXCJ3aXRoRUNEU0FcIikpKEY9bmV3IGQoe2FsZzp5fSkpLmluaXQoaSxvKSxGLnVwZGF0ZVN0cmluZyhtKSxoQVNOMVNpZz1GLnNpZ24oKSxTPVYuY3J5cHRvLkVDRFNBLmFzbjFTaWdUb0NvbmNhdFNpZyhoQVNOMVNpZyk7ZWxzZSBpZihcIm5vbmVcIiE9eSkoRj1uZXcgZCh7YWxnOnl9KSkuaW5pdChpLG8pLEYudXBkYXRlU3RyaW5nKG0pLFM9Ri5zaWduKCl9cmV0dXJuIG0rXCIuXCIraGV4dG9iNjR1KFMpfSxWLmp3cy5KV1MudmVyaWZ5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvPVYscz1vLmp3cy5KV1MsYT1zLnJlYWRTYWZlSlNPTlN0cmluZyx1PW8uY3J5cHRvLGM9dS5FQ0RTQSxoPXUuTWFjLGw9dS5TaWduYXR1cmU7dm9pZCAwIT09bihSU0FLZXkpJiYoaT1SU0FLZXkpO3ZhciBmPWUuc3BsaXQoXCIuXCIpO2lmKDMhPT1mLmxlbmd0aClyZXR1cm4hMTt2YXIgZz1mWzBdK1wiLlwiK2ZbMV0scD1iNjR1dG9oZXgoZlsyXSksZD1hKFcoZlswXSkpLHY9bnVsbCx5PW51bGw7aWYodm9pZCAwPT09ZC5hbGcpdGhyb3dcImFsZ29yaXRobSBub3Qgc3BlY2lmaWVkIGluIGhlYWRlclwiO2lmKCh5PSh2PWQuYWxnKS5zdWJzdHIoMCwyKSxudWxsIT1yJiZcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikmJnIubGVuZ3RoPjApJiYtMT09KFwiOlwiK3Iuam9pbihcIjpcIikrXCI6XCIpLmluZGV4T2YoXCI6XCIrditcIjpcIikpdGhyb3dcImFsZ29yaXRobSAnXCIrditcIicgbm90IGFjY2VwdGVkIGluIHRoZSBsaXN0XCI7aWYoXCJub25lXCIhPXYmJm51bGw9PT10KXRocm93XCJrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIHRvIHZlcmlmeS5cIjtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmLTEhPXQuaW5kZXhPZihcIi0tLS0tQkVHSU4gXCIpJiYodD16LmdldEtleSh0KSksIShcIlJTXCIhPXkmJlwiUFNcIiE9eXx8dCBpbnN0YW5jZW9mIGkpKXRocm93XCJrZXkgc2hhbGwgYmUgYSBSU0FLZXkgb2JqIGZvciBSUyogYW5kIFBTKiBhbGdzXCI7aWYoXCJFU1wiPT15JiYhKHQgaW5zdGFuY2VvZiBjKSl0aHJvd1wia2V5IHNoYWxsIGJlIGEgRUNEU0Egb2JqIGZvciBFUyogYWxnc1wiO3ZhciBtPW51bGw7aWYodm9pZCAwPT09cy5qd3NhbGcyc2lnYWxnW2QuYWxnXSl0aHJvd1widW5zdXBwb3J0ZWQgYWxnIG5hbWU6IFwiK3Y7aWYoXCJub25lXCI9PShtPXMuandzYWxnMnNpZ2FsZ1t2XSkpdGhyb3dcIm5vdCBzdXBwb3J0ZWRcIjtpZihcIkhtYWNcIj09bS5zdWJzdHIoMCw0KSl7aWYodm9pZCAwPT09dCl0aHJvd1wiaGV4YWRlY2ltYWwga2V5IHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgSE1BQ1wiO3ZhciBTPW5ldyBoKHthbGc6bSxwYXNzOnR9KTtyZXR1cm4gUy51cGRhdGVTdHJpbmcoZykscD09Uy5kb0ZpbmFsKCl9aWYoLTEhPW0uaW5kZXhPZihcIndpdGhFQ0RTQVwiKSl7dmFyIGIsRj1udWxsO3RyeXtGPWMuY29uY2F0U2lnVG9BU04xU2lnKHApfWNhdGNoKGUpe3JldHVybiExfXJldHVybihiPW5ldyBsKHthbGc6bX0pKS5pbml0KHQpLGIudXBkYXRlU3RyaW5nKGcpLGIudmVyaWZ5KEYpfXJldHVybihiPW5ldyBsKHthbGc6bX0pKS5pbml0KHQpLGIudXBkYXRlU3RyaW5nKGcpLGIudmVyaWZ5KHApfSxWLmp3cy5KV1MucGFyc2U9ZnVuY3Rpb24oZSl7dmFyIHQscixpLG49ZS5zcGxpdChcIi5cIiksbz17fTtpZigyIT1uLmxlbmd0aCYmMyE9bi5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBzSldTOiB3cm9uZyBudW1iZXIgb2YgJy4nIHNwbGl0dGVkIGVsZW1lbnRzXCI7cmV0dXJuIHQ9blswXSxyPW5bMV0sMz09bi5sZW5ndGgmJihpPW5bMl0pLG8uaGVhZGVyT2JqPVYuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmcoVyh0KSksby5wYXlsb2FkT2JqPVYuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmcoVyhyKSksby5oZWFkZXJQUD1KU09OLnN0cmluZ2lmeShvLmhlYWRlck9iaixudWxsLFwiICBcIiksbnVsbD09by5wYXlsb2FkT2JqP28ucGF5bG9hZFBQPVcocik6by5wYXlsb2FkUFA9SlNPTi5zdHJpbmdpZnkoby5wYXlsb2FkT2JqLG51bGwsXCIgIFwiKSx2b2lkIDAhPT1pJiYoby5zaWdIZXg9YjY0dXRvaGV4KGkpKSxvfSxWLmp3cy5KV1MudmVyaWZ5SldUPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1WLmp3cyxvPWkuSldTLHM9by5yZWFkU2FmZUpTT05TdHJpbmcsYT1vLmluQXJyYXksdT1vLmluY2x1ZGVkQXJyYXksYz1lLnNwbGl0KFwiLlwiKSxoPWNbMF0sbD1jWzFdLGY9KGI2NHV0b2hleChjWzJdKSxzKFcoaCkpKSxnPXMoVyhsKSk7aWYodm9pZCAwPT09Zi5hbGcpcmV0dXJuITE7aWYodm9pZCAwPT09ci5hbGcpdGhyb3dcImFjY2VwdEZpZWxkLmFsZyBzaGFsbCBiZSBzcGVjaWZpZWRcIjtpZighYShmLmFsZyxyLmFsZykpcmV0dXJuITE7aWYodm9pZCAwIT09Zy5pc3MmJlwib2JqZWN0XCI9PT1uKHIuaXNzKSYmIWEoZy5pc3Msci5pc3MpKXJldHVybiExO2lmKHZvaWQgMCE9PWcuc3ViJiZcIm9iamVjdFwiPT09bihyLnN1YikmJiFhKGcuc3ViLHIuc3ViKSlyZXR1cm4hMTtpZih2b2lkIDAhPT1nLmF1ZCYmXCJvYmplY3RcIj09PW4oci5hdWQpKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBnLmF1ZCl7aWYoIWEoZy5hdWQsci5hdWQpKXJldHVybiExfWVsc2UgaWYoXCJvYmplY3RcIj09bihnLmF1ZCkmJiF1KGcuYXVkLHIuYXVkKSlyZXR1cm4hMTt2YXIgcD1pLkludERhdGUuZ2V0Tm93KCk7cmV0dXJuIHZvaWQgMCE9PXIudmVyaWZ5QXQmJlwibnVtYmVyXCI9PXR5cGVvZiByLnZlcmlmeUF0JiYocD1yLnZlcmlmeUF0KSx2b2lkIDAhPT1yLmdyYWNlUGVyaW9kJiZcIm51bWJlclwiPT10eXBlb2Ygci5ncmFjZVBlcmlvZHx8KHIuZ3JhY2VQZXJpb2Q9MCksISh2b2lkIDAhPT1nLmV4cCYmXCJudW1iZXJcIj09dHlwZW9mIGcuZXhwJiZnLmV4cCtyLmdyYWNlUGVyaW9kPHApJiYoISh2b2lkIDAhPT1nLm5iZiYmXCJudW1iZXJcIj09dHlwZW9mIGcubmJmJiZwPGcubmJmLXIuZ3JhY2VQZXJpb2QpJiYoISh2b2lkIDAhPT1nLmlhdCYmXCJudW1iZXJcIj09dHlwZW9mIGcuaWF0JiZwPGcuaWF0LXIuZ3JhY2VQZXJpb2QpJiYoKHZvaWQgMD09PWcuanRpfHx2b2lkIDA9PT1yLmp0aXx8Zy5qdGk9PT1yLmp0aSkmJiEhby52ZXJpZnkoZSx0LHIuYWxnKSkpKX0sVi5qd3MuSldTLmluY2x1ZGVkQXJyYXk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1WLmp3cy5KV1MuaW5BcnJheTtpZihudWxsPT09ZSlyZXR1cm4hMTtpZihcIm9iamVjdFwiIT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpuKGUpKSlyZXR1cm4hMTtpZihcIm51bWJlclwiIT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspaWYoIXIoZVtpXSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0sVi5qd3MuSldTLmluQXJyYXk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09dClyZXR1cm4hMTtpZihcIm9iamVjdFwiIT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpuKHQpKSlyZXR1cm4hMTtpZihcIm51bWJlclwiIT10eXBlb2YgdC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sVi5qd3MuSldTLmp3c2FsZzJzaWdhbGc9e0hTMjU2OlwiSG1hY1NIQTI1NlwiLEhTMzg0OlwiSG1hY1NIQTM4NFwiLEhTNTEyOlwiSG1hY1NIQTUxMlwiLFJTMjU2OlwiU0hBMjU2d2l0aFJTQVwiLFJTMzg0OlwiU0hBMzg0d2l0aFJTQVwiLFJTNTEyOlwiU0hBNTEyd2l0aFJTQVwiLEVTMjU2OlwiU0hBMjU2d2l0aEVDRFNBXCIsRVMzODQ6XCJTSEEzODR3aXRoRUNEU0FcIixQUzI1NjpcIlNIQTI1NndpdGhSU0FhbmRNR0YxXCIsUFMzODQ6XCJTSEEzODR3aXRoUlNBYW5kTUdGMVwiLFBTNTEyOlwiU0hBNTEyd2l0aFJTQWFuZE1HRjFcIixub25lOlwibm9uZVwifSxWLmp3cy5KV1MuaXNTYWZlSlNPTlN0cmluZz1mdW5jdGlvbihlLHQscil7dmFyIGk9bnVsbDt0cnl7cmV0dXJuXCJvYmplY3RcIiE9KHZvaWQgMD09PShpPUsoZSkpP1widW5kZWZpbmVkXCI6bihpKSk/MDppLmNvbnN0cnVjdG9yPT09QXJyYXk/MDoodCYmKHRbcl09aSksMSl9Y2F0Y2goZSl7cmV0dXJuIDB9fSxWLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7dHJ5e3JldHVyblwib2JqZWN0XCIhPSh2b2lkIDA9PT0odD1LKGUpKT9cInVuZGVmaW5lZFwiOm4odCkpP251bGw6dC5jb25zdHJ1Y3Rvcj09PUFycmF5P251bGw6dH1jYXRjaChlKXtyZXR1cm4gbnVsbH19LFYuandzLkpXUy5nZXRFbmNvZGVkU2lnbmF0dXJlVmFsdWVGcm9tSldTPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2goL15bXi5dK1xcLlteLl0rXFwuKFteLl0rKSQvKTtpZihudWxsPT10KXRocm93XCJKV1Mgc2lnbmF0dXJlIGlzIG5vdCBhIGZvcm0gb2YgJ0hlYWQuUGF5bG9hZC5TaWdWYWx1ZScuXCI7cmV0dXJuIHRbMV19LFYuandzLkpXUy5nZXRKV0t0aHVtYnByaW50PWZ1bmN0aW9uKGUpe2lmKFwiUlNBXCIhPT1lLmt0eSYmXCJFQ1wiIT09ZS5rdHkmJlwib2N0XCIhPT1lLmt0eSl0aHJvd1widW5zdXBwb3J0ZWQgYWxnb3JpdGhtIGZvciBKV0sgVGh1bXByaW50XCI7dmFyIHQ9XCJ7XCI7aWYoXCJSU0FcIj09PWUua3R5KXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5ufHxcInN0cmluZ1wiIT10eXBlb2YgZS5lKXRocm93XCJ3cm9uZyBuIGFuZCBlIHZhbHVlIGZvciBSU0Ega2V5XCI7dCs9J1wiZVwiOlwiJytlLmUrJ1wiLCcsdCs9J1wia3R5XCI6XCInK2Uua3R5KydcIiwnLHQrPSdcIm5cIjpcIicrZS5uKydcIn0nfWVsc2UgaWYoXCJFQ1wiPT09ZS5rdHkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLmNydnx8XCJzdHJpbmdcIiE9dHlwZW9mIGUueHx8XCJzdHJpbmdcIiE9dHlwZW9mIGUueSl0aHJvd1wid3JvbmcgY3J2LCB4IGFuZCB5IHZhbHVlIGZvciBFQyBrZXlcIjt0Kz0nXCJjcnZcIjpcIicrZS5jcnYrJ1wiLCcsdCs9J1wia3R5XCI6XCInK2Uua3R5KydcIiwnLHQrPSdcInhcIjpcIicrZS54KydcIiwnLHQrPSdcInlcIjpcIicrZS55KydcIn0nfWVsc2UgaWYoXCJvY3RcIj09PWUua3R5KXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5rKXRocm93XCJ3cm9uZyBrIHZhbHVlIGZvciBvY3Qoc3ltbWV0cmljKSBrZXlcIjt0Kz0nXCJrdHlcIjpcIicrZS5rdHkrJ1wiLCcsdCs9J1wia1wiOlwiJytlLmsrJ1wifSd9dmFyIHI9cnN0cnRvaGV4KHQpO3JldHVybiBoZXh0b2I2NHUoVi5jcnlwdG8uVXRpbC5oYXNoSGV4KHIsXCJzaGEyNTZcIikpfSxWLmp3cy5JbnREYXRlPXt9LFYuandzLkludERhdGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PVYuandzLkludERhdGUscj10LmdldE5vdyxpPXQuZ2V0WnVsdTtpZihcIm5vd1wiPT1lKXJldHVybiByKCk7aWYoXCJub3cgKyAxaG91clwiPT1lKXJldHVybiByKCkrMzYwMDtpZihcIm5vdyArIDFkYXlcIj09ZSlyZXR1cm4gcigpKzg2NDAwO2lmKFwibm93ICsgMW1vbnRoXCI9PWUpcmV0dXJuIHIoKSsyNTkyZTM7aWYoXCJub3cgKyAxeWVhclwiPT1lKXJldHVybiByKCkrMzE1MzZlMztpZihlLm1hdGNoKC9aJC8pKXJldHVybiBpKGUpO2lmKGUubWF0Y2goL15bMC05XSskLykpcmV0dXJuIHBhcnNlSW50KGUpO3Rocm93XCJ1bnN1cHBvcnRlZCBmb3JtYXQ6IFwiK2V9LFYuandzLkludERhdGUuZ2V0WnVsdT1mdW5jdGlvbihlKXtyZXR1cm4genVsdXRvc2VjKGUpfSxWLmp3cy5JbnREYXRlLmdldE5vdz1mdW5jdGlvbigpe3JldHVybn5+KG5ldyBEYXRlLzFlMyl9LFYuandzLkludERhdGUuaW50RGF0ZTJVVENTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEYXRlKDFlMyplKS50b1VUQ1N0cmluZygpfSxWLmp3cy5JbnREYXRlLmludERhdGUyWnVsdT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZSgxZTMqZSk7cmV0dXJuKFwiMDAwMFwiK3QuZ2V0VVRDRnVsbFllYXIoKSkuc2xpY2UoLTQpKyhcIjAwXCIrKHQuZ2V0VVRDTW9udGgoKSsxKSkuc2xpY2UoLTIpKyhcIjAwXCIrdC5nZXRVVENEYXRlKCkpLnNsaWNlKC0yKSsoXCIwMFwiK3QuZ2V0VVRDSG91cnMoKSkuc2xpY2UoLTIpKyhcIjAwXCIrdC5nZXRVVENNaW51dGVzKCkpLnNsaWNlKC0yKSsoXCIwMFwiK3QuZ2V0VVRDU2Vjb25kcygpKS5zbGljZSgtMikrXCJaXCJ9LHQuU2VjdXJlUmFuZG9tPVNlY3VyZVJhbmRvbSx0LnJuZ19zZWVkX3RpbWU9cm5nX3NlZWRfdGltZSx0LkJpZ0ludGVnZXI9QmlnSW50ZWdlcix0LlJTQUtleT1SU0FLZXksdC5FQ0RTQT1WLmNyeXB0by5FQ0RTQSx0LkRTQT1WLmNyeXB0by5EU0EsdC5TaWduYXR1cmU9Vi5jcnlwdG8uU2lnbmF0dXJlLHQuTWVzc2FnZURpZ2VzdD1WLmNyeXB0by5NZXNzYWdlRGlnZXN0LHQuTWFjPVYuY3J5cHRvLk1hYyx0LkNpcGhlcj1WLmNyeXB0by5DaXBoZXIsdC5LRVlVVElMPXosdC5BU04xSEVYPUosdC5YNTA5PVg1MDksdC5DcnlwdG9KUz15LHQuYjY0dG9oZXg9YjY0dG9oZXgsdC5iNjR0b0JBPWI2NHRvQkEsdC5zdG9CQT1zdG9CQSx0LkJBdG9zPUJBdG9zLHQuQkF0b2hleD1CQXRvaGV4LHQuc3RvaGV4PXN0b2hleCx0LnN0b2I2ND1mdW5jdGlvbiBzdG9iNjQoZSl7cmV0dXJuIGhleDJiNjQoc3RvaGV4KGUpKX0sdC5zdG9iNjR1PWZ1bmN0aW9uIHN0b2I2NHUoZSl7cmV0dXJuIGI2NHRvYjY0dShoZXgyYjY0KHN0b2hleChlKSkpfSx0LmI2NHV0b3M9ZnVuY3Rpb24gYjY0dXRvcyhlKXtyZXR1cm4gQkF0b3MoYjY0dG9CQShiNjR1dG9iNjQoZSkpKX0sdC5iNjR0b2I2NHU9YjY0dG9iNjR1LHQuYjY0dXRvYjY0PWI2NHV0b2I2NCx0LmhleDJiNjQ9aGV4MmI2NCx0LmhleHRvYjY0dT1oZXh0b2I2NHUsdC5iNjR1dG9oZXg9YjY0dXRvaGV4LHQudXRmOHRvYjY0dT1xLHQuYjY0dXRvdXRmOD1XLHQudXRmOHRvYjY0PWZ1bmN0aW9uIHV0Zjh0b2I2NChlKXtyZXR1cm4gaGV4MmI2NCh1cmljbXB0b2hleChlbmNvZGVVUklDb21wb25lbnRBbGwoZSkpKX0sdC5iNjR0b3V0Zjg9ZnVuY3Rpb24gYjY0dG91dGY4KGUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoaGV4dG91cmljbXAoYjY0dG9oZXgoZSkpKX0sdC51dGY4dG9oZXg9dXRmOHRvaGV4LHQuaGV4dG91dGY4PWhleHRvdXRmOCx0LmhleHRvcnN0cj1oZXh0b3JzdHIsdC5yc3RydG9oZXg9cnN0cnRvaGV4LHQuaGV4dG9iNjQ9aGV4dG9iNjQsdC5oZXh0b2I2NG5sPWhleHRvYjY0bmwsdC5iNjRubHRvaGV4PWI2NG5sdG9oZXgsdC5oZXh0b3BlbT1oZXh0b3BlbSx0LnBlbXRvaGV4PXBlbXRvaGV4LHQuaGV4dG9BcnJheUJ1ZmZlcj1mdW5jdGlvbiBoZXh0b0FycmF5QnVmZmVyKGUpe2lmKGUubGVuZ3RoJTIhPTApdGhyb3dcImlucHV0IGlzIG5vdCBldmVuIGxlbmd0aFwiO2lmKG51bGw9PWUubWF0Y2goL15bMC05QS1GYS1mXSskLykpdGhyb3dcImlucHV0IGlzIG5vdCBoZXhhZGVjaW1hbFwiO2Zvcih2YXIgdD1uZXcgQXJyYXlCdWZmZXIoZS5sZW5ndGgvMikscj1uZXcgRGF0YVZpZXcodCksaT0wO2k8ZS5sZW5ndGgvMjtpKyspci5zZXRVaW50OChpLHBhcnNlSW50KGUuc3Vic3RyKDIqaSwyKSwxNikpO3JldHVybiB0fSx0LkFycmF5QnVmZmVydG9oZXg9ZnVuY3Rpb24gQXJyYXlCdWZmZXJ0b2hleChlKXtmb3IodmFyIHQ9XCJcIixyPW5ldyBEYXRhVmlldyhlKSxpPTA7aTxlLmJ5dGVMZW5ndGg7aSsrKXQrPShcIjAwXCIrci5nZXRVaW50OChpKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtyZXR1cm4gdH0sdC56dWx1dG9tc2VjPXp1bHV0b21zZWMsdC56dWx1dG9zZWM9enVsdXRvc2VjLHQuenVsdXRvZGF0ZT1mdW5jdGlvbiB6dWx1dG9kYXRlKGUpe3JldHVybiBuZXcgRGF0ZSh6dWx1dG9tc2VjKGUpKX0sdC5kYXRldG96dWx1PWZ1bmN0aW9uIGRhdGV0b3p1bHUoZSx0LHIpe3ZhciBpLG49ZS5nZXRVVENGdWxsWWVhcigpO2lmKHQpe2lmKG48MTk1MHx8MjA0OTxuKXRocm93XCJub3QgcHJvcGVyIHllYXIgZm9yIFVUQ1RpbWU6IFwiK247aT0oXCJcIituKS5zbGljZSgtMil9ZWxzZSBpPShcIjAwMFwiK24pLnNsaWNlKC00KTtpZihpKz0oXCIwXCIrKGUuZ2V0VVRDTW9udGgoKSsxKSkuc2xpY2UoLTIpLGkrPShcIjBcIitlLmdldFVUQ0RhdGUoKSkuc2xpY2UoLTIpLGkrPShcIjBcIitlLmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKSxpKz0oXCIwXCIrZS5nZXRVVENNaW51dGVzKCkpLnNsaWNlKC0yKSxpKz0oXCIwXCIrZS5nZXRVVENTZWNvbmRzKCkpLnNsaWNlKC0yKSxyKXt2YXIgbz1lLmdldFVUQ01pbGxpc2Vjb25kcygpOzAhPT1vJiYoaSs9XCIuXCIrKG89KG89KFwiMDBcIitvKS5zbGljZSgtMykpLnJlcGxhY2UoLzArJC9nLFwiXCIpKSl9cmV0dXJuIGkrPVwiWlwifSx0LnVyaWNtcHRvaGV4PXVyaWNtcHRvaGV4LHQuaGV4dG91cmljbXA9aGV4dG91cmljbXAsdC5pcHY2dG9oZXg9aXB2NnRvaGV4LHQuaGV4dG9pcHY2PWhleHRvaXB2Nix0LmhleHRvaXA9aGV4dG9pcCx0LmlwdG9oZXg9ZnVuY3Rpb24gaXB0b2hleChlKXt2YXIgdD1cIm1hbGZvcm1lZCBJUCBhZGRyZXNzXCI7aWYoIShlPWUudG9Mb3dlckNhc2UoZSkpLm1hdGNoKC9eWzAtOS5dKyQvKSl7aWYoZS5tYXRjaCgvXlswLTlhLWY6XSskLykmJi0xIT09ZS5pbmRleE9mKFwiOlwiKSlyZXR1cm4gaXB2NnRvaGV4KGUpO3Rocm93IHR9dmFyIHI9ZS5zcGxpdChcIi5cIik7aWYoNCE9PXIubGVuZ3RoKXRocm93IHQ7dmFyIGk9XCJcIjt0cnl7Zm9yKHZhciBuPTA7bjw0O24rKylpKz0oXCIwXCIrcGFyc2VJbnQocltuXSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIGl9Y2F0Y2goZSl7dGhyb3cgdH19LHQuZW5jb2RlVVJJQ29tcG9uZW50QWxsPWVuY29kZVVSSUNvbXBvbmVudEFsbCx0Lm5ld2xpbmVfdG9Vbml4PWZ1bmN0aW9uIG5ld2xpbmVfdG9Vbml4KGUpe3JldHVybiBlPWUucmVwbGFjZSgvXFxyXFxuL2dtLFwiXFxuXCIpfSx0Lm5ld2xpbmVfdG9Eb3M9ZnVuY3Rpb24gbmV3bGluZV90b0RvcyhlKXtyZXR1cm4gZT0oZT1lLnJlcGxhY2UoL1xcclxcbi9nbSxcIlxcblwiKSkucmVwbGFjZSgvXFxuL2dtLFwiXFxyXFxuXCIpfSx0LmhleHRvcG9zaGV4PWhleHRvcG9zaGV4LHQuaW50YXJ5c3RydG9oZXg9ZnVuY3Rpb24gaW50YXJ5c3RydG9oZXgoZSl7ZT0oZT0oZT1lLnJlcGxhY2UoL15cXHMqXFxbXFxzKi8sXCJcIikpLnJlcGxhY2UoL1xccypcXF1cXHMqJC8sXCJcIikpLnJlcGxhY2UoL1xccyovZyxcIlwiKTt0cnl7cmV0dXJuIGUuc3BsaXQoLywvKS5tYXAoZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXBhcnNlSW50KGUpO2lmKGk8MHx8MjU1PGkpdGhyb3dcImludGVnZXIgbm90IGluIHJhbmdlIDAtMjU1XCI7cmV0dXJuKFwiMDBcIitpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSkuam9pbihcIlwiKX1jYXRjaChlKXt0aHJvd1wibWFsZm9ybWVkIGludGVnZXIgYXJyYXkgc3RyaW5nOiBcIitlfX0sdC5zdHJkaWZmaWR4PWZ1bmN0aW9uIHN0cmRpZmZpZHgoZSx0KXt2YXIgcj1lLmxlbmd0aDtlLmxlbmd0aD50Lmxlbmd0aCYmKHI9dC5sZW5ndGgpO2Zvcih2YXIgaT0wO2k8cjtpKyspaWYoZS5jaGFyQ29kZUF0KGkpIT10LmNoYXJDb2RlQXQoaSkpcmV0dXJuIGk7cmV0dXJuIGUubGVuZ3RoIT10Lmxlbmd0aD9yOi0xfSx0LktKVVI9Vix0LmNyeXB0bz1WLmNyeXB0byx0LmFzbjE9Vi5hc24xLHQuandzPVYuandzLHQubGFuZz1WLmxhbmd9KS5jYWxsKHRoaXMscig0MCkuQnVmZmVyKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuSm9zZVV0aWw9dm9pZCAwO3ZhciBpPXIoNDEpLG49cigwKTt2YXIgbz1bXCJSUzI1NlwiLFwiUlMzODRcIixcIlJTNTEyXCIsXCJQUzI1NlwiLFwiUFMzODRcIixcIlBTNTEyXCIsXCJFUzI1NlwiLFwiRVMzODRcIixcIkVTNTEyXCJdO3QuSm9zZVV0aWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBKb3NlVXRpbCgpeyFmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLEpvc2VVdGlsKX1yZXR1cm4gSm9zZVV0aWwucGFyc2VKd3Q9ZnVuY3Rpb24gcGFyc2VKd3QoZSl7bi5Mb2cuZGVidWcoXCJKb3NlVXRpbC5wYXJzZUp3dFwiKTt0cnl7dmFyIHQ9aS5qd3MuSldTLnBhcnNlKGUpO3JldHVybntoZWFkZXI6dC5oZWFkZXJPYmoscGF5bG9hZDp0LnBheWxvYWRPYmp9fWNhdGNoKGUpe24uTG9nLmVycm9yKGUpfX0sSm9zZVV0aWwudmFsaWRhdGVKd3Q9ZnVuY3Rpb24gdmFsaWRhdGVKd3QoZSx0LHIsbyxzLGEpe24uTG9nLmRlYnVnKFwiSm9zZVV0aWwudmFsaWRhdGVKd3RcIik7dHJ5e2lmKFwiUlNBXCI9PT10Lmt0eSlpZih0LmUmJnQubil0PWkuS0VZVVRJTC5nZXRLZXkodCk7ZWxzZXtpZighdC54NWN8fCF0Lng1Yy5sZW5ndGgpcmV0dXJuIG4uTG9nLmVycm9yKFwiSm9zZVV0aWwudmFsaWRhdGVKd3Q6IFJTQSBrZXkgbWlzc2luZyBrZXkgbWF0ZXJpYWxcIix0KSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJSU0Ega2V5IG1pc3Npbmcga2V5IG1hdGVyaWFsXCIpKTt2YXIgdT0oMCxpLmI2NHRvaGV4KSh0Lng1Y1swXSk7dD1pLlg1MDkuZ2V0UHVibGljS2V5RnJvbUNlcnRIZXgodSl9ZWxzZXtpZihcIkVDXCIhPT10Lmt0eSlyZXR1cm4gbi5Mb2cuZXJyb3IoXCJKb3NlVXRpbC52YWxpZGF0ZUp3dDogVW5zdXBwb3J0ZWQga2V5IHR5cGVcIix0JiZ0Lmt0eSksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQga2V5IHR5cGU6IFwiK3QmJnQua3R5KSk7aWYoISh0LmNydiYmdC54JiZ0LnkpKXJldHVybiBuLkxvZy5lcnJvcihcIkpvc2VVdGlsLnZhbGlkYXRlSnd0OiBFQyBrZXkgbWlzc2luZyBrZXkgbWF0ZXJpYWxcIix0KSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJFQyBrZXkgbWlzc2luZyBrZXkgbWF0ZXJpYWxcIikpO3Q9aS5LRVlVVElMLmdldEtleSh0KX1yZXR1cm4gSm9zZVV0aWwuX3ZhbGlkYXRlSnd0KGUsdCxyLG8scyxhKX1jYXRjaChlKXtyZXR1cm4gbi5Mb2cuZXJyb3IoZSYmZS5tZXNzYWdlfHxlKSxQcm9taXNlLnJlamVjdChcIkpXVCB2YWxpZGF0aW9uIGZhaWxlZFwiKX19LEpvc2VVdGlsLl92YWxpZGF0ZUp3dD1mdW5jdGlvbiBfdmFsaWRhdGVKd3QoZSx0LHIscyxhLHUpe2F8fChhPTApLHV8fCh1PXBhcnNlSW50KERhdGUubm93KCkvMWUzKSk7dmFyIGM9Sm9zZVV0aWwucGFyc2VKd3QoZSkucGF5bG9hZDtpZighYy5pc3MpcmV0dXJuIG4uTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBpc3N1ZXIgd2FzIG5vdCBwcm92aWRlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpc3N1ZXIgd2FzIG5vdCBwcm92aWRlZFwiKSk7aWYoYy5pc3MhPT1yKXJldHVybiBuLkxvZy5lcnJvcihcIkpvc2VVdGlsLl92YWxpZGF0ZUp3dDogSW52YWxpZCBpc3N1ZXIgaW4gdG9rZW5cIixjLmlzcyksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBpc3N1ZXIgaW4gdG9rZW46IFwiK2MuaXNzKSk7aWYoIWMuYXVkKXJldHVybiBuLkxvZy5lcnJvcihcIkpvc2VVdGlsLl92YWxpZGF0ZUp3dDogYXVkIHdhcyBub3QgcHJvdmlkZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiYXVkIHdhcyBub3QgcHJvdmlkZWRcIikpO2lmKCEoYy5hdWQ9PT1zfHxBcnJheS5pc0FycmF5KGMuYXVkKSYmYy5hdWQuaW5kZXhPZihzKT49MCkpcmV0dXJuIG4uTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBJbnZhbGlkIGF1ZGllbmNlIGluIHRva2VuXCIsYy5hdWQpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgYXVkaWVuY2UgaW4gdG9rZW46IFwiK2MuYXVkKSk7dmFyIGg9dSthLGw9dS1hO2lmKCFjLmlhdClyZXR1cm4gbi5Mb2cuZXJyb3IoXCJKb3NlVXRpbC5fdmFsaWRhdGVKd3Q6IGlhdCB3YXMgbm90IHByb3ZpZGVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImlhdCB3YXMgbm90IHByb3ZpZGVkXCIpKTtpZihoPGMuaWF0KXJldHVybiBuLkxvZy5lcnJvcihcIkpvc2VVdGlsLl92YWxpZGF0ZUp3dDogaWF0IGlzIGluIHRoZSBmdXR1cmVcIixjLmlhdCksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaWF0IGlzIGluIHRoZSBmdXR1cmU6IFwiK2MuaWF0KSk7aWYoYy5uYmYmJmg8Yy5uYmYpcmV0dXJuIG4uTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBuYmYgaXMgaW4gdGhlIGZ1dHVyZVwiLGMubmJmKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJuYmYgaXMgaW4gdGhlIGZ1dHVyZTogXCIrYy5uYmYpKTtpZighYy5leHApcmV0dXJuIG4uTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBleHAgd2FzIG5vdCBwcm92aWRlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJleHAgd2FzIG5vdCBwcm92aWRlZFwiKSk7aWYoYy5leHA8bClyZXR1cm4gbi5Mb2cuZXJyb3IoXCJKb3NlVXRpbC5fdmFsaWRhdGVKd3Q6IGV4cCBpcyBpbiB0aGUgcGFzdFwiLGMuZXhwKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJleHAgaXMgaW4gdGhlIHBhc3Q6XCIrYy5leHApKTt0cnl7aWYoIWkuandzLkpXUy52ZXJpZnkoZSx0LG8pKXJldHVybiBuLkxvZy5lcnJvcihcIkpvc2VVdGlsLl92YWxpZGF0ZUp3dDogc2lnbmF0dXJlIHZhbGlkYXRpb24gZmFpbGVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcInNpZ25hdHVyZSB2YWxpZGF0aW9uIGZhaWxlZFwiKSl9Y2F0Y2goZSl7cmV0dXJuIG4uTG9nLmVycm9yKGUmJmUubWVzc2FnZXx8ZSksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwic2lnbmF0dXJlIHZhbGlkYXRpb24gZmFpbGVkXCIpKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LEpvc2VVdGlsLmhhc2hTdHJpbmc9ZnVuY3Rpb24gaGFzaFN0cmluZyhlLHQpe3RyeXtyZXR1cm4gaS5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKGUsdCl9Y2F0Y2goZSl7bi5Mb2cuZXJyb3IoZSl9fSxKb3NlVXRpbC5oZXhUb0Jhc2U2NFVybD1mdW5jdGlvbiBoZXhUb0Jhc2U2NFVybChlKXt0cnl7cmV0dXJuKDAsaS5oZXh0b2I2NHUpKGUpfWNhdGNoKGUpe24uTG9nLmVycm9yKGUpfX0sSm9zZVV0aWx9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlVzZXJJbmZvU2VydmljZT12b2lkIDA7dmFyIGk9cigxNyksbj1yKDMpLG89cigwKTt0LlVzZXJJbmZvU2VydmljZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFVzZXJJbmZvU2VydmljZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06aS5Kc29uU2VydmljZSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpuLk1ldGFkYXRhU2VydmljZTtpZihmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLFVzZXJJbmZvU2VydmljZSksIWUpdGhyb3cgby5Mb2cuZXJyb3IoXCJVc2VySW5mb1NlcnZpY2UuY3RvcjogTm8gc2V0dGluZ3MgcGFzc2VkXCIpLG5ldyBFcnJvcihcInNldHRpbmdzXCIpO3RoaXMuX3NldHRpbmdzPWUsdGhpcy5fanNvblNlcnZpY2U9bmV3IHQsdGhpcy5fbWV0YWRhdGFTZXJ2aWNlPW5ldyByKHRoaXMuX3NldHRpbmdzKX1yZXR1cm4gVXNlckluZm9TZXJ2aWNlLnByb3RvdHlwZS5nZXRDbGFpbXM9ZnVuY3Rpb24gZ2V0Q2xhaW1zKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGU/dGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldFVzZXJJbmZvRW5kcG9pbnQoKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBvLkxvZy5kZWJ1ZyhcIlVzZXJJbmZvU2VydmljZS5nZXRDbGFpbXM6IHJlY2VpdmVkIHVzZXJpbmZvIHVybFwiLHIpLHQuX2pzb25TZXJ2aWNlLmdldEpzb24ocixlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvLkxvZy5kZWJ1ZyhcIlVzZXJJbmZvU2VydmljZS5nZXRDbGFpbXM6IGNsYWltcyByZWNlaXZlZFwiLGUpLGV9KX0pOihvLkxvZy5lcnJvcihcIlVzZXJJbmZvU2VydmljZS5nZXRDbGFpbXM6IE5vIHRva2VuIHBhc3NlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJBIHRva2VuIGlzIHJlcXVpcmVkXCIpKSl9LFVzZXJJbmZvU2VydmljZX0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUmVzcG9uc2VWYWxpZGF0b3I9dm9pZCAwO3ZhciBpPXIoMCksbj1yKDMpLG89cig0Mykscz1yKDE2KSxhPXIoNDIpO3ZhciB1PVtcIm5vbmNlXCIsXCJhdF9oYXNoXCIsXCJpYXRcIixcIm5iZlwiLFwiZXhwXCIsXCJhdWRcIixcImlzc1wiLFwiY19oYXNoXCJdO3QuUmVzcG9uc2VWYWxpZGF0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZXNwb25zZVZhbGlkYXRvcihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bi5NZXRhZGF0YVNlcnZpY2Uscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06by5Vc2VySW5mb1NlcnZpY2Uscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106YS5Kb3NlVXRpbDtpZihmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLFJlc3BvbnNlVmFsaWRhdG9yKSwhZSl0aHJvdyBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLmN0b3I6IE5vIHNldHRpbmdzIHBhc3NlZCB0byBSZXNwb25zZVZhbGlkYXRvclwiKSxuZXcgRXJyb3IoXCJzZXR0aW5nc1wiKTt0aGlzLl9zZXR0aW5ncz1lLHRoaXMuX21ldGFkYXRhU2VydmljZT1uZXcgdCh0aGlzLl9zZXR0aW5ncyksdGhpcy5fdXNlckluZm9TZXJ2aWNlPW5ldyByKHRoaXMuX3NldHRpbmdzKSx0aGlzLl9qb3NlVXRpbD1zfXJldHVybiBSZXNwb25zZVZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGVTaWduaW5SZXNwb25zZT1mdW5jdGlvbiB2YWxpZGF0ZVNpZ25pblJlc3BvbnNlKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci52YWxpZGF0ZVNpZ25pblJlc3BvbnNlXCIpLHRoaXMuX3Byb2Nlc3NTaWduaW5QYXJhbXMoZSx0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLnZhbGlkYXRlU2lnbmluUmVzcG9uc2U6IHN0YXRlIHByb2Nlc3NlZFwiKSxyLl92YWxpZGF0ZVRva2VucyhlLHQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWduaW5SZXNwb25zZTogdG9rZW5zIHZhbGlkYXRlZFwiKSxyLl9wcm9jZXNzQ2xhaW1zKGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWduaW5SZXNwb25zZTogY2xhaW1zIHByb2Nlc3NlZFwiKSxlfSl9KX0pfSxSZXNwb25zZVZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGVTaWdub3V0UmVzcG9uc2U9ZnVuY3Rpb24gdmFsaWRhdGVTaWdub3V0UmVzcG9uc2UoZSx0KXtyZXR1cm4gZS5pZCE9PXQuc3RhdGU/KGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWdub3V0UmVzcG9uc2U6IFN0YXRlIGRvZXMgbm90IG1hdGNoXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlN0YXRlIGRvZXMgbm90IG1hdGNoXCIpKSk6KGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWdub3V0UmVzcG9uc2U6IHN0YXRlIHZhbGlkYXRlZFwiKSx0LnN0YXRlPWUuZGF0YSx0LmVycm9yPyhpLkxvZy53YXJuKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWdub3V0UmVzcG9uc2U6IFJlc3BvbnNlIHdhcyBlcnJvclwiLHQuZXJyb3IpLFByb21pc2UucmVqZWN0KG5ldyBzLkVycm9yUmVzcG9uc2UodCkpKTpQcm9taXNlLnJlc29sdmUodCkpfSxSZXNwb25zZVZhbGlkYXRvci5wcm90b3R5cGUuX3Byb2Nlc3NTaWduaW5QYXJhbXM9ZnVuY3Rpb24gX3Byb2Nlc3NTaWduaW5QYXJhbXMoZSx0KXtpZihlLmlkIT09dC5zdGF0ZSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogU3RhdGUgZG9lcyBub3QgbWF0Y2hcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiU3RhdGUgZG9lcyBub3QgbWF0Y2hcIikpO2lmKCFlLmNsaWVudF9pZClyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogTm8gY2xpZW50X2lkIG9uIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGNsaWVudF9pZCBvbiBzdGF0ZVwiKSk7aWYoIWUuYXV0aG9yaXR5KXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzU2lnbmluUGFyYW1zOiBObyBhdXRob3JpdHkgb24gc3RhdGVcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gYXV0aG9yaXR5IG9uIHN0YXRlXCIpKTtpZih0aGlzLl9zZXR0aW5ncy5hdXRob3JpdHkpe2lmKHRoaXMuX3NldHRpbmdzLmF1dGhvcml0eSYmdGhpcy5fc2V0dGluZ3MuYXV0aG9yaXR5IT09ZS5hdXRob3JpdHkpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NTaWduaW5QYXJhbXM6IGF1dGhvcml0eSBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImF1dGhvcml0eSBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpKX1lbHNlIHRoaXMuX3NldHRpbmdzLmF1dGhvcml0eT1lLmF1dGhvcml0eTtpZih0aGlzLl9zZXR0aW5ncy5jbGllbnRfaWQpe2lmKHRoaXMuX3NldHRpbmdzLmNsaWVudF9pZCYmdGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkIT09ZS5jbGllbnRfaWQpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NTaWduaW5QYXJhbXM6IGNsaWVudF9pZCBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImNsaWVudF9pZCBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpKX1lbHNlIHRoaXMuX3NldHRpbmdzLmNsaWVudF9pZD1lLmNsaWVudF9pZDtyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogc3RhdGUgdmFsaWRhdGVkXCIpLHQuc3RhdGU9ZS5kYXRhLHQuZXJyb3I/KGkuTG9nLndhcm4oXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogUmVzcG9uc2Ugd2FzIGVycm9yXCIsdC5lcnJvciksUHJvbWlzZS5yZWplY3QobmV3IHMuRXJyb3JSZXNwb25zZSh0KSkpOmUubm9uY2UmJiF0LmlkX3Rva2VuPyhpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzU2lnbmluUGFyYW1zOiBFeHBlY3RpbmcgaWRfdG9rZW4gaW4gcmVzcG9uc2VcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gaWRfdG9rZW4gaW4gcmVzcG9uc2VcIikpKTohZS5ub25jZSYmdC5pZF90b2tlbj8oaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogTm90IGV4cGVjdGluZyBpZF90b2tlbiBpbiByZXNwb25zZVwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGlkX3Rva2VuIGluIHJlc3BvbnNlXCIpKSk6UHJvbWlzZS5yZXNvbHZlKHQpfSxSZXNwb25zZVZhbGlkYXRvci5wcm90b3R5cGUuX3Byb2Nlc3NDbGFpbXM9ZnVuY3Rpb24gX3Byb2Nlc3NDbGFpbXMoZSl7dmFyIHQ9dGhpcztpZihlLmlzT3BlbklkQ29ubmVjdCl7aWYoaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogcmVzcG9uc2UgaXMgT0lEQywgcHJvY2Vzc2luZyBjbGFpbXNcIiksZS5wcm9maWxlPXRoaXMuX2ZpbHRlclByb3RvY29sQ2xhaW1zKGUucHJvZmlsZSksdGhpcy5fc2V0dGluZ3MubG9hZFVzZXJJbmZvJiZlLmFjY2Vzc190b2tlbilyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogbG9hZGluZyB1c2VyIGluZm9cIiksdGhpcy5fdXNlckluZm9TZXJ2aWNlLmdldENsYWltcyhlLmFjY2Vzc190b2tlbikudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogdXNlciBpbmZvIGNsYWltcyByZWNlaXZlZCBmcm9tIHVzZXIgaW5mbyBlbmRwb2ludFwiKSxyLnN1YiE9PWUucHJvZmlsZS5zdWI/KGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NDbGFpbXM6IHN1YiBmcm9tIHVzZXIgaW5mbyBlbmRwb2ludCBkb2VzIG5vdCBtYXRjaCBzdWIgaW4gYWNjZXNzX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcInN1YiBmcm9tIHVzZXIgaW5mbyBlbmRwb2ludCBkb2VzIG5vdCBtYXRjaCBzdWIgaW4gYWNjZXNzX3Rva2VuXCIpKSk6KGUucHJvZmlsZT10Ll9tZXJnZUNsYWltcyhlLnByb2ZpbGUsciksaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogdXNlciBpbmZvIGNsYWltcyByZWNlaXZlZCwgdXBkYXRlZCBwcm9maWxlOlwiLGUucHJvZmlsZSksZSl9KTtpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzQ2xhaW1zOiBub3QgbG9hZGluZyB1c2VyIGluZm9cIil9ZWxzZSBpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzQ2xhaW1zOiByZXNwb25zZSBpcyBub3QgT0lEQywgbm90IHByb2Nlc3NpbmcgY2xhaW1zXCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUoZSl9LFJlc3BvbnNlVmFsaWRhdG9yLnByb3RvdHlwZS5fbWVyZ2VDbGFpbXM9ZnVuY3Rpb24gX21lcmdlQ2xhaW1zKGUsdCl7dmFyIHI9T2JqZWN0LmFzc2lnbih7fSxlKTtmb3IodmFyIGkgaW4gdCl7dmFyIG49dFtpXTtBcnJheS5pc0FycmF5KG4pfHwobj1bbl0pO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcz1uW29dO3JbaV0/QXJyYXkuaXNBcnJheShyW2ldKT9yW2ldLmluZGV4T2Yocyk8MCYmcltpXS5wdXNoKHMpOnJbaV0hPT1zJiYocltpXT1bcltpXSxzXSk6cltpXT1zfX1yZXR1cm4gcn0sUmVzcG9uc2VWYWxpZGF0b3IucHJvdG90eXBlLl9maWx0ZXJQcm90b2NvbENsYWltcz1mdW5jdGlvbiBfZmlsdGVyUHJvdG9jb2xDbGFpbXMoZSl7aS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fZmlsdGVyUHJvdG9jb2xDbGFpbXMsIGluY29taW5nIGNsYWltczpcIixlKTt2YXIgdD1PYmplY3QuYXNzaWduKHt9LGUpO3JldHVybiB0aGlzLl9zZXR0aW5ncy5fZmlsdGVyUHJvdG9jb2xDbGFpbXM/KHUuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgdFtlXX0pLGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX2ZpbHRlclByb3RvY29sQ2xhaW1zOiBwcm90b2NvbCBjbGFpbXMgZmlsdGVyZWRcIix0KSk6aS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fZmlsdGVyUHJvdG9jb2xDbGFpbXM6IHByb3RvY29sIGNsYWltcyBub3QgZmlsdGVyZWRcIiksdH0sUmVzcG9uc2VWYWxpZGF0b3IucHJvdG90eXBlLl92YWxpZGF0ZVRva2Vucz1mdW5jdGlvbiBfdmFsaWRhdGVUb2tlbnMoZSx0KXtyZXR1cm4gdC5pZF90b2tlbj90LmFjY2Vzc190b2tlbj8oaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVUb2tlbnM6IFZhbGlkYXRpbmcgaWRfdG9rZW4gYW5kIGFjY2Vzc190b2tlblwiKSx0aGlzLl92YWxpZGF0ZUlkVG9rZW5BbmRBY2Nlc3NUb2tlbihlLHQpKTooaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVUb2tlbnM6IFZhbGlkYXRpbmcgaWRfdG9rZW5cIiksdGhpcy5fdmFsaWRhdGVJZFRva2VuKGUsdCkpOihpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZVRva2VuczogTm8gaWRfdG9rZW4gdG8gdmFsaWRhdGVcIiksUHJvbWlzZS5yZXNvbHZlKHQpKX0sUmVzcG9uc2VWYWxpZGF0b3IucHJvdG90eXBlLl92YWxpZGF0ZUlkVG9rZW5BbmRBY2Nlc3NUb2tlbj1mdW5jdGlvbiBfdmFsaWRhdGVJZFRva2VuQW5kQWNjZXNzVG9rZW4oZSx0KXt2YXIgcj10aGlzO3JldHVybiB0aGlzLl92YWxpZGF0ZUlkVG9rZW4oZSx0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLl92YWxpZGF0ZUFjY2Vzc1Rva2VuKGUpfSl9LFJlc3BvbnNlVmFsaWRhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGVJZFRva2VuPWZ1bmN0aW9uIF92YWxpZGF0ZUlkVG9rZW4oZSx0KXt2YXIgcj10aGlzO2lmKCFlLm5vbmNlKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW46IE5vIG5vbmNlIG9uIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIG5vbmNlIG9uIHN0YXRlXCIpKTt2YXIgbj10aGlzLl9qb3NlVXRpbC5wYXJzZUp3dCh0LmlkX3Rva2VuKTtpZighbnx8IW4uaGVhZGVyfHwhbi5wYXlsb2FkKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW46IEZhaWxlZCB0byBwYXJzZSBpZF90b2tlblwiLG4pLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBpZF90b2tlblwiKSk7aWYoZS5ub25jZSE9PW4ucGF5bG9hZC5ub25jZSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBJbnZhbGlkIG5vbmNlIGluIGlkX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgbm9uY2UgaW4gaWRfdG9rZW5cIikpO3ZhciBvPW4uaGVhZGVyLmtpZDtyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldElzc3VlcigpLnRoZW4oZnVuY3Rpb24ocyl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbjogUmVjZWl2ZWQgaXNzdWVyXCIpLHIuX21ldGFkYXRhU2VydmljZS5nZXRTaWduaW5nS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbjogTm8gc2lnbmluZyBrZXlzIGZyb20gbWV0YWRhdGFcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gc2lnbmluZyBrZXlzIGZyb20gbWV0YWRhdGFcIikpO2kuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbjogUmVjZWl2ZWQgc2lnbmluZyBrZXlzXCIpO3ZhciB1PXZvaWQgMDtpZihvKXU9YS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2lkPT09b30pWzBdO2Vsc2V7aWYoKGE9ci5fZmlsdGVyQnlBbGcoYSxuLmhlYWRlci5hbGcpKS5sZW5ndGg+MSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBObyBraWQgZm91bmQgaW4gaWRfdG9rZW4gYW5kIG1vcmUgdGhhbiBvbmUga2V5IGZvdW5kIGluIG1ldGFkYXRhXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGtpZCBmb3VuZCBpbiBpZF90b2tlbiBhbmQgbW9yZSB0aGFuIG9uZSBrZXkgZm91bmQgaW4gbWV0YWRhdGFcIikpO3U9YVswXX1pZighdSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBObyBrZXkgbWF0Y2hpbmcga2lkIG9yIGFsZyBmb3VuZCBpbiBzaWduaW5nIGtleXNcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8ga2V5IG1hdGNoaW5nIGtpZCBvciBhbGcgZm91bmQgaW4gc2lnbmluZyBrZXlzXCIpKTt2YXIgYz1lLmNsaWVudF9pZCxoPXIuX3NldHRpbmdzLmNsb2NrU2tldztyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBWYWxpZGFpbmcgSldUOyB1c2luZyBjbG9jayBza2V3IChpbiBzZWNvbmRzKSBvZjogXCIsaCksci5fam9zZVV0aWwudmFsaWRhdGVKd3QodC5pZF90b2tlbix1LHMsYyxoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbjogSldUIHZhbGlkYXRpb24gc3VjY2Vzc2Z1bFwiKSxuLnBheWxvYWQuc3ViPyh0LnByb2ZpbGU9bi5wYXlsb2FkLHQpOihpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW46IE5vIHN1YiBwcmVzZW50IGluIGlkX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHN1YiBwcmVzZW50IGluIGlkX3Rva2VuXCIpKSl9KX0pfSl9LFJlc3BvbnNlVmFsaWRhdG9yLnByb3RvdHlwZS5fZmlsdGVyQnlBbGc9ZnVuY3Rpb24gX2ZpbHRlckJ5QWxnKGUsdCl7dmFyIHI9bnVsbDtpZih0LnN0YXJ0c1dpdGgoXCJSU1wiKSlyPVwiUlNBXCI7ZWxzZSBpZih0LnN0YXJ0c1dpdGgoXCJQU1wiKSlyPVwiUFNcIjtlbHNle2lmKCF0LnN0YXJ0c1dpdGgoXCJFU1wiKSlyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fZmlsdGVyQnlBbGc6IGFsZyBub3Qgc3VwcG9ydGVkOiBcIix0KSxbXTtyPVwiRUNcIn1yZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fZmlsdGVyQnlBbGc6IExvb2tpbmcgZm9yIGtleXMgdGhhdCBtYXRjaCBrdHk6IFwiLHIpLGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUua3R5PT09cn0pLGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX2ZpbHRlckJ5QWxnOiBOdW1iZXIgb2Yga2V5cyB0aGF0IG1hdGNoIGt0eTogXCIscixlLmxlbmd0aCksZX0sUmVzcG9uc2VWYWxpZGF0b3IucHJvdG90eXBlLl92YWxpZGF0ZUFjY2Vzc1Rva2VuPWZ1bmN0aW9uIF92YWxpZGF0ZUFjY2Vzc1Rva2VuKGUpe2lmKCFlLnByb2ZpbGUpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlQWNjZXNzVG9rZW46IE5vIHByb2ZpbGUgbG9hZGVkIGZyb20gaWRfdG9rZW5cIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gcHJvZmlsZSBsb2FkZWQgZnJvbSBpZF90b2tlblwiKSk7aWYoIWUucHJvZmlsZS5hdF9oYXNoKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUFjY2Vzc1Rva2VuOiBObyBhdF9oYXNoIGluIGlkX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGF0X2hhc2ggaW4gaWRfdG9rZW5cIikpO2lmKCFlLmlkX3Rva2VuKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUFjY2Vzc1Rva2VuOiBObyBpZF90b2tlblwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBpZF90b2tlblwiKSk7dmFyIHQ9dGhpcy5fam9zZVV0aWwucGFyc2VKd3QoZS5pZF90b2tlbik7aWYoIXR8fCF0LmhlYWRlcilyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIsdCksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIpKTt2YXIgcj10LmhlYWRlci5hbGc7aWYoIXJ8fDUhPT1yLmxlbmd0aClyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogVW5zdXBwb3J0ZWQgYWxnOlwiLHIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFsZzogXCIrcikpO3ZhciBuPXIuc3Vic3RyKDIsMyk7aWYoIW4pcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlQWNjZXNzVG9rZW46IFVuc3VwcG9ydGVkIGFsZzpcIixyLG4pLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFsZzogXCIrcikpO2lmKDI1NiE9PShuPXBhcnNlSW50KG4pKSYmMzg0IT09biYmNTEyIT09bilyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogVW5zdXBwb3J0ZWQgYWxnOlwiLHIsbiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgYWxnOiBcIityKSk7dmFyIG89XCJzaGFcIituLHM9dGhpcy5fam9zZVV0aWwuaGFzaFN0cmluZyhlLmFjY2Vzc190b2tlbixvKTtpZighcylyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogYWNjZXNzX3Rva2VuIGhhc2ggZmFpbGVkOlwiLG8pLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byB2YWxpZGF0ZSBhdF9oYXNoXCIpKTt2YXIgYT1zLnN1YnN0cigwLHMubGVuZ3RoLzIpLHU9dGhpcy5fam9zZVV0aWwuaGV4VG9CYXNlNjRVcmwoYSk7cmV0dXJuIHUhPT1lLnByb2ZpbGUuYXRfaGFzaD8oaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogRmFpbGVkIHRvIHZhbGlkYXRlIGF0X2hhc2hcIix1LGUucHJvZmlsZS5hdF9oYXNoKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdmFsaWRhdGUgYXRfaGFzaFwiKSkpOihpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUFjY2Vzc1Rva2VuOiBzdWNjZXNzXCIpLFByb21pc2UucmVzb2x2ZShlKSl9LFJlc3BvbnNlVmFsaWRhdG9yfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9cigwKSxuPXIoMTgpLG89cig2KSxzPXIoNSksYT1yKDMxKSx1PXIoMzApLGM9cigxMiksaD1yKDMpLGw9cigyMCksZj1yKDE5KSxnPXIoOSkscD1yKDgpLGQ9cigxMCksdj1yKDEpLHk9cigxMyk7dC5kZWZhdWx0PXtMb2c6aS5Mb2csT2lkY0NsaWVudDpuLk9pZGNDbGllbnQsT2lkY0NsaWVudFNldHRpbmdzOm8uT2lkY0NsaWVudFNldHRpbmdzLFdlYlN0b3JhZ2VTdGF0ZVN0b3JlOnMuV2ViU3RvcmFnZVN0YXRlU3RvcmUsSW5NZW1vcnlXZWJTdG9yYWdlOmEuSW5NZW1vcnlXZWJTdG9yYWdlLFVzZXJNYW5hZ2VyOnUuVXNlck1hbmFnZXIsQWNjZXNzVG9rZW5FdmVudHM6Yy5BY2Nlc3NUb2tlbkV2ZW50cyxNZXRhZGF0YVNlcnZpY2U6aC5NZXRhZGF0YVNlcnZpY2UsQ29yZG92YVBvcHVwTmF2aWdhdG9yOmwuQ29yZG92YVBvcHVwTmF2aWdhdG9yLENvcmRvdmFJRnJhbWVOYXZpZ2F0b3I6Zi5Db3Jkb3ZhSUZyYW1lTmF2aWdhdG9yLENoZWNrU2Vzc2lvbklGcmFtZTpnLkNoZWNrU2Vzc2lvbklGcmFtZSxUb2tlblJldm9jYXRpb25DbGllbnQ6cC5Ub2tlblJldm9jYXRpb25DbGllbnQsU2Vzc2lvbk1vbml0b3I6ZC5TZXNzaW9uTW9uaXRvcixHbG9iYWw6di5HbG9iYWwsVXNlcjp5LlVzZXJ9LGUuZXhwb3J0cz10LmRlZmF1bHR9XSl9KTsiLCJpbXBvcnQgeyBVc2VyTWFuYWdlciwgVXNlciB9IGZyb20gJ29pZGMtY2xpZW50J1xyXG5pbXBvcnQgeyBVc2VyTWFuYWdlclNldHRpbmdzIH0gZnJvbSAnb2lkYy1jbGllbnQnXHJcbmltcG9ydCB7IElkbXNDbGllbnRTZXR0aW5ncyB9IGZyb20gJy4vSWRtc0NsaWVudFNldHRpbmdzJztcclxuaW1wb3J0IHsgSWRtc1VzZXIgfSBmcm9tICcuL0lkbXNVc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJZG1zQ2xpZW50e1xyXG4gICAgcHJpdmF0ZSBfdXNlck1hbmFnZXI6IFVzZXJNYW5hZ2VyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNsaWVudFNldHRpbmdzPzogSWRtc0NsaWVudFNldHRpbmdzKSB7XHJcbiAgICAgICAgaWYoY2xpZW50U2V0dGluZ3Mpe1xyXG4gICAgICAgIGxldCB1c2VyTWFuZ2VyU2V0dGluZ3M6IFVzZXJNYW5hZ2VyU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgIGF1dGhvcml0eTogY2xpZW50U2V0dGluZ3MuYXV0aG9yaXR5LFxyXG4gICAgICAgICAgICBjbGllbnRfaWQ6IGNsaWVudFNldHRpbmdzLmNsaWVudElkLFxyXG4gICAgICAgICAgICByZWRpcmVjdF91cmk6IGNsaWVudFNldHRpbmdzLnJlZGlyZWN0VXJpLFxyXG4gICAgICAgICAgICBzaWxlbnRfcmVkaXJlY3RfdXJpOiBjbGllbnRTZXR0aW5ncy5zaWxlbnRSZWZyZXNoUmVkaXJlY3RVcmksXHJcbiAgICAgICAgICAgIHBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaTogY2xpZW50U2V0dGluZ3MubG9nb3V0UmVkaXJlY3RVcmksXHJcbiAgICAgICAgICAgIHJlc3BvbnNlX3R5cGU6IGNsaWVudFNldHRpbmdzLnJlc3BvbnNlVHlwZSxcclxuICAgICAgICAgICAgc2NvcGU6IGNsaWVudFNldHRpbmdzLnNjb3BlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX3VzZXJNYW5hZ2VyID0gbmV3IFVzZXJNYW5hZ2VyKHVzZXJNYW5nZXJTZXR0aW5ncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuX3VzZXJNYW5hZ2VyID0gbmV3IFVzZXJNYW5hZ2VyKHt9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBsb2dpbigpIDogUHJvbWlzZTx2b2lkPntcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlck1hbmFnZXIuc2lnbmluUmVkaXJlY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9nb3V0KCk6IFByb21pc2U8dm9pZD57XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJNYW5hZ2VyLnNpZ25vdXRSZWRpcmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyAgZ2V0VXNlcigpOiBQcm9taXNlPElkbXNVc2VyPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJNYW5hZ2VyLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xyXG4gICAgICAgICAgICB2YXIgaWRtc1VzZXIgPSBuZXcgSWRtc1VzZXIoKVxyXG4gICAgICAgICAgICBpZG1zVXNlci5hY2Nlc3NUb2tlbiA9IHVzZXIuYWNjZXNzX3Rva2VuO1xyXG4gICAgICAgICAgICByZXR1cm4gaWRtc1VzZXI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpZ25pblJlZGlyZWN0Q2FsbGJhY2soKTogUHJvbWlzZTxJZG1zVXNlcj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyTWFuYWdlci5zaWduaW5SZWRpcmVjdENhbGxiYWNrKCkudGhlbihmdW5jdGlvbih1c2VyKXtcclxuICAgICAgICAgICAgdmFyIGlkbXNVc2VyID0gbmV3IElkbXNVc2VyKClcclxuICAgICAgICAgICAgaWRtc1VzZXIuYWNjZXNzVG9rZW4gPSB1c2VyLmFjY2Vzc190b2tlbjtcclxuICAgICAgICAgICAgcmV0dXJuIGlkbXNVc2VyO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaWduaW5Qb3B1cENhbGxiYWNrKCk6IFByb21pc2U8SWRtc1VzZXI+e1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyTWFuYWdlci5zaWduaW5Qb3B1cENhbGxiYWNrKCkudGhlbihmdW5jdGlvbih1c2VyKXtcclxuICAgICAgICAgICAgdmFyIGlkbXNVc2VyID0gbmV3IElkbXNVc2VyKClcclxuICAgICAgICAgICAgaWRtc1VzZXIuYWNjZXNzVG9rZW4gPSB1c2VyLmFjY2Vzc190b2tlbjtcclxuICAgICAgICAgICAgcmV0dXJuIGlkbXNVc2VyO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaWduaW5TaWxlbnRDYWxsYmFjaygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyTWFuYWdlci5zaWduaW5TaWxlbnRDYWxsYmFjaygpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIElkbXNVc2Vye1xyXG4gICAgXHJcbiAgICBwcml2YXRlIF9hY2Nlc3NUb2tlbiA6IHN0cmluZztcclxuICAgIHB1YmxpYyBnZXQgYWNjZXNzVG9rZW4oKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjY2Vzc1Rva2VuO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBhY2Nlc3NUb2tlbih2IDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fYWNjZXNzVG9rZW4gPSB2O1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==